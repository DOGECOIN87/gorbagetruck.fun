(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))a(l);new MutationObserver(l=>{for(const c of l)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&a(d)}).observe(document,{childList:!0,subtree:!0});function i(l){const c={};return l.integrity&&(c.integrity=l.integrity),l.referrerPolicy&&(c.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?c.credentials="include":l.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function a(l){if(l.ep)return;l.ep=!0;const c=i(l);fetch(l.href,c)}})();function mv(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var Cd={exports:{}},Nl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var I0;function vS(){if(I0)return Nl;I0=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(a,l,c){var d=null;if(c!==void 0&&(d=""+c),l.key!==void 0&&(d=""+l.key),"key"in l){c={};for(var g in l)g!=="key"&&(c[g]=l[g])}else c=l;return l=c.ref,{$$typeof:r,type:a,key:d,ref:l!==void 0?l:null,props:c}}return Nl.Fragment=e,Nl.jsx=i,Nl.jsxs=i,Nl}var N0;function TS(){return N0||(N0=1,Cd.exports=vS()),Cd.exports}var I=TS(),Id={exports:{}},ke={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var x0;function ES(){if(x0)return ke;x0=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),_=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),A=Symbol.for("react.activity"),L=Symbol.iterator;function q(V){return V===null||typeof V!="object"?null:(V=L&&V[L]||V["@@iterator"],typeof V=="function"?V:null)}var re={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},ae=Object.assign,te={};function se(V,X,ce){this.props=V,this.context=X,this.refs=te,this.updater=ce||re}se.prototype.isReactComponent={},se.prototype.setState=function(V,X){if(typeof V!="object"&&typeof V!="function"&&V!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,V,X,"setState")},se.prototype.forceUpdate=function(V){this.updater.enqueueForceUpdate(this,V,"forceUpdate")};function Ee(){}Ee.prototype=se.prototype;function Se(V,X,ce){this.props=V,this.context=X,this.refs=te,this.updater=ce||re}var qe=Se.prototype=new Ee;qe.constructor=Se,ae(qe,se.prototype),qe.isPureReactComponent=!0;var Ue=Array.isArray;function Oe(){}var N={H:null,A:null,T:null,S:null},R=Object.prototype.hasOwnProperty;function x(V,X,ce){var he=ce.ref;return{$$typeof:r,type:V,key:X,ref:he!==void 0?he:null,props:ce}}function k(V,X){return x(V.type,X,V.props)}function O(V){return typeof V=="object"&&V!==null&&V.$$typeof===r}function U(V){var X={"=":"=0",":":"=2"};return"$"+V.replace(/[=:]/g,function(ce){return X[ce]})}var C=/\/+/g;function gt(V,X){return typeof V=="object"&&V!==null&&V.key!=null?U(""+V.key):X.toString(36)}function St(V){switch(V.status){case"fulfilled":return V.value;case"rejected":throw V.reason;default:switch(typeof V.status=="string"?V.then(Oe,Oe):(V.status="pending",V.then(function(X){V.status==="pending"&&(V.status="fulfilled",V.value=X)},function(X){V.status==="pending"&&(V.status="rejected",V.reason=X)})),V.status){case"fulfilled":return V.value;case"rejected":throw V.reason}}throw V}function K(V,X,ce,he,Ce){var xe=typeof V;(xe==="undefined"||xe==="boolean")&&(V=null);var ze=!1;if(V===null)ze=!0;else switch(xe){case"bigint":case"string":case"number":ze=!0;break;case"object":switch(V.$$typeof){case r:case e:ze=!0;break;case b:return ze=V._init,K(ze(V._payload),X,ce,he,Ce)}}if(ze)return Ce=Ce(V),ze=he===""?"."+gt(V,0):he,Ue(Ce)?(ce="",ze!=null&&(ce=ze.replace(C,"$&/")+"/"),K(Ce,X,ce,"",function(Qn){return Qn})):Ce!=null&&(O(Ce)&&(Ce=k(Ce,ce+(Ce.key==null||V&&V.key===Ce.key?"":(""+Ce.key).replace(C,"$&/")+"/")+ze)),X.push(Ce)),1;ze=0;var Ut=he===""?".":he+":";if(Ue(V))for(var At=0;At<V.length;At++)he=V[At],xe=Ut+gt(he,At),ze+=K(he,X,ce,xe,Ce);else if(At=q(V),typeof At=="function")for(V=At.call(V),At=0;!(he=V.next()).done;)he=he.value,xe=Ut+gt(he,At++),ze+=K(he,X,ce,xe,Ce);else if(xe==="object"){if(typeof V.then=="function")return K(St(V),X,ce,he,Ce);throw X=String(V),Error("Objects are not valid as a React child (found: "+(X==="[object Object]"?"object with keys {"+Object.keys(V).join(", ")+"}":X)+"). If you meant to render a collection of children, use an array instead.")}return ze}function ue(V,X,ce){if(V==null)return V;var he=[],Ce=0;return K(V,he,"","",function(xe){return X.call(ce,xe,Ce++)}),he}function ve(V){if(V._status===-1){var X=V._result;X=X(),X.then(function(ce){(V._status===0||V._status===-1)&&(V._status=1,V._result=ce)},function(ce){(V._status===0||V._status===-1)&&(V._status=2,V._result=ce)}),V._status===-1&&(V._status=0,V._result=X)}if(V._status===1)return V._result.default;throw V._result}var Fe=typeof reportError=="function"?reportError:function(V){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var X=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof V=="object"&&V!==null&&typeof V.message=="string"?String(V.message):String(V),error:V});if(!window.dispatchEvent(X))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",V);return}console.error(V)},Qe={map:ue,forEach:function(V,X,ce){ue(V,function(){X.apply(this,arguments)},ce)},count:function(V){var X=0;return ue(V,function(){X++}),X},toArray:function(V){return ue(V,function(X){return X})||[]},only:function(V){if(!O(V))throw Error("React.Children.only expected to receive a single React element child.");return V}};return ke.Activity=A,ke.Children=Qe,ke.Component=se,ke.Fragment=i,ke.Profiler=l,ke.PureComponent=Se,ke.StrictMode=a,ke.Suspense=y,ke.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=N,ke.__COMPILER_RUNTIME={__proto__:null,c:function(V){return N.H.useMemoCache(V)}},ke.cache=function(V){return function(){return V.apply(null,arguments)}},ke.cacheSignal=function(){return null},ke.cloneElement=function(V,X,ce){if(V==null)throw Error("The argument must be a React element, but you passed "+V+".");var he=ae({},V.props),Ce=V.key;if(X!=null)for(xe in X.key!==void 0&&(Ce=""+X.key),X)!R.call(X,xe)||xe==="key"||xe==="__self"||xe==="__source"||xe==="ref"&&X.ref===void 0||(he[xe]=X[xe]);var xe=arguments.length-2;if(xe===1)he.children=ce;else if(1<xe){for(var ze=Array(xe),Ut=0;Ut<xe;Ut++)ze[Ut]=arguments[Ut+2];he.children=ze}return x(V.type,Ce,he)},ke.createContext=function(V){return V={$$typeof:d,_currentValue:V,_currentValue2:V,_threadCount:0,Provider:null,Consumer:null},V.Provider=V,V.Consumer={$$typeof:c,_context:V},V},ke.createElement=function(V,X,ce){var he,Ce={},xe=null;if(X!=null)for(he in X.key!==void 0&&(xe=""+X.key),X)R.call(X,he)&&he!=="key"&&he!=="__self"&&he!=="__source"&&(Ce[he]=X[he]);var ze=arguments.length-2;if(ze===1)Ce.children=ce;else if(1<ze){for(var Ut=Array(ze),At=0;At<ze;At++)Ut[At]=arguments[At+2];Ce.children=Ut}if(V&&V.defaultProps)for(he in ze=V.defaultProps,ze)Ce[he]===void 0&&(Ce[he]=ze[he]);return x(V,xe,Ce)},ke.createRef=function(){return{current:null}},ke.forwardRef=function(V){return{$$typeof:g,render:V}},ke.isValidElement=O,ke.lazy=function(V){return{$$typeof:b,_payload:{_status:-1,_result:V},_init:ve}},ke.memo=function(V,X){return{$$typeof:_,type:V,compare:X===void 0?null:X}},ke.startTransition=function(V){var X=N.T,ce={};N.T=ce;try{var he=V(),Ce=N.S;Ce!==null&&Ce(ce,he),typeof he=="object"&&he!==null&&typeof he.then=="function"&&he.then(Oe,Fe)}catch(xe){Fe(xe)}finally{X!==null&&ce.types!==null&&(X.types=ce.types),N.T=X}},ke.unstable_useCacheRefresh=function(){return N.H.useCacheRefresh()},ke.use=function(V){return N.H.use(V)},ke.useActionState=function(V,X,ce){return N.H.useActionState(V,X,ce)},ke.useCallback=function(V,X){return N.H.useCallback(V,X)},ke.useContext=function(V){return N.H.useContext(V)},ke.useDebugValue=function(){},ke.useDeferredValue=function(V,X){return N.H.useDeferredValue(V,X)},ke.useEffect=function(V,X){return N.H.useEffect(V,X)},ke.useEffectEvent=function(V){return N.H.useEffectEvent(V)},ke.useId=function(){return N.H.useId()},ke.useImperativeHandle=function(V,X,ce){return N.H.useImperativeHandle(V,X,ce)},ke.useInsertionEffect=function(V,X){return N.H.useInsertionEffect(V,X)},ke.useLayoutEffect=function(V,X){return N.H.useLayoutEffect(V,X)},ke.useMemo=function(V,X){return N.H.useMemo(V,X)},ke.useOptimistic=function(V,X){return N.H.useOptimistic(V,X)},ke.useReducer=function(V,X,ce){return N.H.useReducer(V,X,ce)},ke.useRef=function(V){return N.H.useRef(V)},ke.useState=function(V){return N.H.useState(V)},ke.useSyncExternalStore=function(V,X,ce){return N.H.useSyncExternalStore(V,X,ce)},ke.useTransition=function(){return N.H.useTransition()},ke.version="19.2.0",ke}var D0;function ym(){return D0||(D0=1,Id.exports=ES()),Id.exports}var fe=ym();const SS=mv(fe);var Nd={exports:{}},xl={},xd={exports:{}},Dd={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var O0;function AS(){return O0||(O0=1,(function(r){function e(K,ue){var ve=K.length;K.push(ue);e:for(;0<ve;){var Fe=ve-1>>>1,Qe=K[Fe];if(0<l(Qe,ue))K[Fe]=ue,K[ve]=Qe,ve=Fe;else break e}}function i(K){return K.length===0?null:K[0]}function a(K){if(K.length===0)return null;var ue=K[0],ve=K.pop();if(ve!==ue){K[0]=ve;e:for(var Fe=0,Qe=K.length,V=Qe>>>1;Fe<V;){var X=2*(Fe+1)-1,ce=K[X],he=X+1,Ce=K[he];if(0>l(ce,ve))he<Qe&&0>l(Ce,ce)?(K[Fe]=Ce,K[he]=ve,Fe=he):(K[Fe]=ce,K[X]=ve,Fe=X);else if(he<Qe&&0>l(Ce,ve))K[Fe]=Ce,K[he]=ve,Fe=he;else break e}}return ue}function l(K,ue){var ve=K.sortIndex-ue.sortIndex;return ve!==0?ve:K.id-ue.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;r.unstable_now=function(){return c.now()}}else{var d=Date,g=d.now();r.unstable_now=function(){return d.now()-g}}var y=[],_=[],b=1,A=null,L=3,q=!1,re=!1,ae=!1,te=!1,se=typeof setTimeout=="function"?setTimeout:null,Ee=typeof clearTimeout=="function"?clearTimeout:null,Se=typeof setImmediate<"u"?setImmediate:null;function qe(K){for(var ue=i(_);ue!==null;){if(ue.callback===null)a(_);else if(ue.startTime<=K)a(_),ue.sortIndex=ue.expirationTime,e(y,ue);else break;ue=i(_)}}function Ue(K){if(ae=!1,qe(K),!re)if(i(y)!==null)re=!0,Oe||(Oe=!0,U());else{var ue=i(_);ue!==null&&St(Ue,ue.startTime-K)}}var Oe=!1,N=-1,R=5,x=-1;function k(){return te?!0:!(r.unstable_now()-x<R)}function O(){if(te=!1,Oe){var K=r.unstable_now();x=K;var ue=!0;try{e:{re=!1,ae&&(ae=!1,Ee(N),N=-1),q=!0;var ve=L;try{t:{for(qe(K),A=i(y);A!==null&&!(A.expirationTime>K&&k());){var Fe=A.callback;if(typeof Fe=="function"){A.callback=null,L=A.priorityLevel;var Qe=Fe(A.expirationTime<=K);if(K=r.unstable_now(),typeof Qe=="function"){A.callback=Qe,qe(K),ue=!0;break t}A===i(y)&&a(y),qe(K)}else a(y);A=i(y)}if(A!==null)ue=!0;else{var V=i(_);V!==null&&St(Ue,V.startTime-K),ue=!1}}break e}finally{A=null,L=ve,q=!1}ue=void 0}}finally{ue?U():Oe=!1}}}var U;if(typeof Se=="function")U=function(){Se(O)};else if(typeof MessageChannel<"u"){var C=new MessageChannel,gt=C.port2;C.port1.onmessage=O,U=function(){gt.postMessage(null)}}else U=function(){se(O,0)};function St(K,ue){N=se(function(){K(r.unstable_now())},ue)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(K){K.callback=null},r.unstable_forceFrameRate=function(K){0>K||125<K?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<K?Math.floor(1e3/K):5},r.unstable_getCurrentPriorityLevel=function(){return L},r.unstable_next=function(K){switch(L){case 1:case 2:case 3:var ue=3;break;default:ue=L}var ve=L;L=ue;try{return K()}finally{L=ve}},r.unstable_requestPaint=function(){te=!0},r.unstable_runWithPriority=function(K,ue){switch(K){case 1:case 2:case 3:case 4:case 5:break;default:K=3}var ve=L;L=K;try{return ue()}finally{L=ve}},r.unstable_scheduleCallback=function(K,ue,ve){var Fe=r.unstable_now();switch(typeof ve=="object"&&ve!==null?(ve=ve.delay,ve=typeof ve=="number"&&0<ve?Fe+ve:Fe):ve=Fe,K){case 1:var Qe=-1;break;case 2:Qe=250;break;case 5:Qe=1073741823;break;case 4:Qe=1e4;break;default:Qe=5e3}return Qe=ve+Qe,K={id:b++,callback:ue,priorityLevel:K,startTime:ve,expirationTime:Qe,sortIndex:-1},ve>Fe?(K.sortIndex=ve,e(_,K),i(y)===null&&K===i(_)&&(ae?(Ee(N),N=-1):ae=!0,St(Ue,ve-Fe))):(K.sortIndex=Qe,e(y,K),re||q||(re=!0,Oe||(Oe=!0,U()))),K},r.unstable_shouldYield=k,r.unstable_wrapCallback=function(K){var ue=L;return function(){var ve=L;L=ue;try{return K.apply(this,arguments)}finally{L=ve}}}})(Dd)),Dd}var M0;function bS(){return M0||(M0=1,xd.exports=AS()),xd.exports}var Od={exports:{}},Tn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var V0;function wS(){if(V0)return Tn;V0=1;var r=ym();function e(y){var _="https://react.dev/errors/"+y;if(1<arguments.length){_+="?args[]="+encodeURIComponent(arguments[1]);for(var b=2;b<arguments.length;b++)_+="&args[]="+encodeURIComponent(arguments[b])}return"Minified React error #"+y+"; visit "+_+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var a={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},l=Symbol.for("react.portal");function c(y,_,b){var A=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:A==null?null:""+A,children:y,containerInfo:_,implementation:b}}var d=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(y,_){if(y==="font")return"";if(typeof _=="string")return _==="use-credentials"?_:""}return Tn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,Tn.createPortal=function(y,_){var b=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_||_.nodeType!==1&&_.nodeType!==9&&_.nodeType!==11)throw Error(e(299));return c(y,_,null,b)},Tn.flushSync=function(y){var _=d.T,b=a.p;try{if(d.T=null,a.p=2,y)return y()}finally{d.T=_,a.p=b,a.d.f()}},Tn.preconnect=function(y,_){typeof y=="string"&&(_?(_=_.crossOrigin,_=typeof _=="string"?_==="use-credentials"?_:"":void 0):_=null,a.d.C(y,_))},Tn.prefetchDNS=function(y){typeof y=="string"&&a.d.D(y)},Tn.preinit=function(y,_){if(typeof y=="string"&&_&&typeof _.as=="string"){var b=_.as,A=g(b,_.crossOrigin),L=typeof _.integrity=="string"?_.integrity:void 0,q=typeof _.fetchPriority=="string"?_.fetchPriority:void 0;b==="style"?a.d.S(y,typeof _.precedence=="string"?_.precedence:void 0,{crossOrigin:A,integrity:L,fetchPriority:q}):b==="script"&&a.d.X(y,{crossOrigin:A,integrity:L,fetchPriority:q,nonce:typeof _.nonce=="string"?_.nonce:void 0})}},Tn.preinitModule=function(y,_){if(typeof y=="string")if(typeof _=="object"&&_!==null){if(_.as==null||_.as==="script"){var b=g(_.as,_.crossOrigin);a.d.M(y,{crossOrigin:b,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0})}}else _==null&&a.d.M(y)},Tn.preload=function(y,_){if(typeof y=="string"&&typeof _=="object"&&_!==null&&typeof _.as=="string"){var b=_.as,A=g(b,_.crossOrigin);a.d.L(y,b,{crossOrigin:A,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0,type:typeof _.type=="string"?_.type:void 0,fetchPriority:typeof _.fetchPriority=="string"?_.fetchPriority:void 0,referrerPolicy:typeof _.referrerPolicy=="string"?_.referrerPolicy:void 0,imageSrcSet:typeof _.imageSrcSet=="string"?_.imageSrcSet:void 0,imageSizes:typeof _.imageSizes=="string"?_.imageSizes:void 0,media:typeof _.media=="string"?_.media:void 0})}},Tn.preloadModule=function(y,_){if(typeof y=="string")if(_){var b=g(_.as,_.crossOrigin);a.d.m(y,{as:typeof _.as=="string"&&_.as!=="script"?_.as:void 0,crossOrigin:b,integrity:typeof _.integrity=="string"?_.integrity:void 0})}else a.d.m(y)},Tn.requestFormReset=function(y){a.d.r(y)},Tn.unstable_batchedUpdates=function(y,_){return y(_)},Tn.useFormState=function(y,_,b){return d.H.useFormState(y,_,b)},Tn.useFormStatus=function(){return d.H.useHostTransitionStatus()},Tn.version="19.2.0",Tn}var L0;function RS(){if(L0)return Od.exports;L0=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Od.exports=wS(),Od.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var k0;function CS(){if(k0)return xl;k0=1;var r=bS(),e=ym(),i=RS();function a(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)n+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function c(t){var n=t,s=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(s=n.return),t=n.return;while(t)}return n.tag===3?s:null}function d(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function g(t){if(t.tag===31){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function y(t){if(c(t)!==t)throw Error(a(188))}function _(t){var n=t.alternate;if(!n){if(n=c(t),n===null)throw Error(a(188));return n!==t?null:t}for(var s=t,o=n;;){var h=s.return;if(h===null)break;var f=h.alternate;if(f===null){if(o=h.return,o!==null){s=o;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===s)return y(h),t;if(f===o)return y(h),n;f=f.sibling}throw Error(a(188))}if(s.return!==o.return)s=h,o=f;else{for(var p=!1,E=h.child;E;){if(E===s){p=!0,s=h,o=f;break}if(E===o){p=!0,o=h,s=f;break}E=E.sibling}if(!p){for(E=f.child;E;){if(E===s){p=!0,s=f,o=h;break}if(E===o){p=!0,o=f,s=h;break}E=E.sibling}if(!p)throw Error(a(189))}}if(s.alternate!==o)throw Error(a(190))}if(s.tag!==3)throw Error(a(188));return s.stateNode.current===s?t:n}function b(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=b(t),n!==null)return n;t=t.sibling}return null}var A=Object.assign,L=Symbol.for("react.element"),q=Symbol.for("react.transitional.element"),re=Symbol.for("react.portal"),ae=Symbol.for("react.fragment"),te=Symbol.for("react.strict_mode"),se=Symbol.for("react.profiler"),Ee=Symbol.for("react.consumer"),Se=Symbol.for("react.context"),qe=Symbol.for("react.forward_ref"),Ue=Symbol.for("react.suspense"),Oe=Symbol.for("react.suspense_list"),N=Symbol.for("react.memo"),R=Symbol.for("react.lazy"),x=Symbol.for("react.activity"),k=Symbol.for("react.memo_cache_sentinel"),O=Symbol.iterator;function U(t){return t===null||typeof t!="object"?null:(t=O&&t[O]||t["@@iterator"],typeof t=="function"?t:null)}var C=Symbol.for("react.client.reference");function gt(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===C?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case ae:return"Fragment";case se:return"Profiler";case te:return"StrictMode";case Ue:return"Suspense";case Oe:return"SuspenseList";case x:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case re:return"Portal";case Se:return t.displayName||"Context";case Ee:return(t._context.displayName||"Context")+".Consumer";case qe:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case N:return n=t.displayName||null,n!==null?n:gt(t.type)||"Memo";case R:n=t._payload,t=t._init;try{return gt(t(n))}catch{}}return null}var St=Array.isArray,K=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ue=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ve={pending:!1,data:null,method:null,action:null},Fe=[],Qe=-1;function V(t){return{current:t}}function X(t){0>Qe||(t.current=Fe[Qe],Fe[Qe]=null,Qe--)}function ce(t,n){Qe++,Fe[Qe]=t.current,t.current=n}var he=V(null),Ce=V(null),xe=V(null),ze=V(null);function Ut(t,n){switch(ce(xe,n),ce(Ce,t),ce(he,null),n.nodeType){case 9:case 11:t=(t=n.documentElement)&&(t=t.namespaceURI)?Jy(t):0;break;default:if(t=n.tagName,n=n.namespaceURI)n=Jy(n),t=$y(n,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}X(he),ce(he,t)}function At(){X(he),X(Ce),X(xe)}function Qn(t){t.memoizedState!==null&&ce(ze,t);var n=he.current,s=$y(n,t.type);n!==s&&(ce(Ce,t),ce(he,s))}function Nr(t){Ce.current===t&&(X(he),X(Ce)),ze.current===t&&(X(ze),wl._currentValue=ve)}var xr,tt;function Xn(t){if(xr===void 0)try{throw Error()}catch(s){var n=s.stack.trim().match(/\n( *(at )?)/);xr=n&&n[1]||"",tt=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+xr+t+tt}var Is=!1;function tr(t,n){if(!t||Is)return"";Is=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(n){var J=function(){throw Error()};if(Object.defineProperty(J.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(J,[])}catch(Y){var H=Y}Reflect.construct(t,[],J)}else{try{J.call()}catch(Y){H=Y}t.call(J.prototype)}}else{try{throw Error()}catch(Y){H=Y}(J=t())&&typeof J.catch=="function"&&J.catch(function(){})}}catch(Y){if(Y&&H&&typeof Y.stack=="string")return[Y.stack,H.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=o.DetermineComponentFrameRoot(),p=f[0],E=f[1];if(p&&E){var D=p.split(`
`),B=E.split(`
`);for(h=o=0;o<D.length&&!D[o].includes("DetermineComponentFrameRoot");)o++;for(;h<B.length&&!B[h].includes("DetermineComponentFrameRoot");)h++;if(o===D.length||h===B.length)for(o=D.length-1,h=B.length-1;1<=o&&0<=h&&D[o]!==B[h];)h--;for(;1<=o&&0<=h;o--,h--)if(D[o]!==B[h]){if(o!==1||h!==1)do if(o--,h--,0>h||D[o]!==B[h]){var Q=`
`+D[o].replace(" at new "," at ");return t.displayName&&Q.includes("<anonymous>")&&(Q=Q.replace("<anonymous>",t.displayName)),Q}while(1<=o&&0<=h);break}}}finally{Is=!1,Error.prepareStackTrace=s}return(s=t?t.displayName||t.name:"")?Xn(s):""}function Ns(t,n){switch(t.tag){case 26:case 27:case 5:return Xn(t.type);case 16:return Xn("Lazy");case 13:return t.child!==n&&n!==null?Xn("Suspense Fallback"):Xn("Suspense");case 19:return Xn("SuspenseList");case 0:case 15:return tr(t.type,!1);case 11:return tr(t.type.render,!1);case 1:return tr(t.type,!0);case 31:return Xn("Activity");default:return""}}function Dr(t){try{var n="",s=null;do n+=Ns(t,s),s=t,t=t.return;while(t);return n}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}var ct=Object.prototype.hasOwnProperty,zt=r.unstable_scheduleCallback,wi=r.unstable_cancelCallback,xo=r.unstable_shouldYield,pa=r.unstable_requestPaint,un=r.unstable_now,nr=r.unstable_getCurrentPriorityLevel,Ri=r.unstable_ImmediatePriority,xs=r.unstable_UserBlockingPriority,hi=r.unstable_NormalPriority,Do=r.unstable_LowPriority,ya=r.unstable_IdlePriority,Or=r.log,Mr=r.unstable_setDisableYieldValue,Rn=null,jt=null;function T(t){if(typeof Or=="function"&&Mr(t),jt&&typeof jt.setStrictMode=="function")try{jt.setStrictMode(Rn,t)}catch{}}var w=Math.clz32?Math.clz32:ne,F=Math.log,W=Math.LN2;function ne(t){return t>>>=0,t===0?32:31-(F(t)/W|0)|0}var ie=256,me=262144,ge=4194304;function Ae(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Me(t,n,s){var o=t.pendingLanes;if(o===0)return 0;var h=0,f=t.suspendedLanes,p=t.pingedLanes;t=t.warmLanes;var E=o&134217727;return E!==0?(o=E&~f,o!==0?h=Ae(o):(p&=E,p!==0?h=Ae(p):s||(s=E&~t,s!==0&&(h=Ae(s))))):(E=o&~f,E!==0?h=Ae(E):p!==0?h=Ae(p):s||(s=o&~t,s!==0&&(h=Ae(s)))),h===0?0:n!==0&&n!==h&&(n&f)===0&&(f=h&-h,s=n&-n,f>=s||f===32&&(s&4194048)!==0)?n:h}function ye(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function pt(t,n){switch(t){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Mt(){var t=ge;return ge<<=1,(ge&62914560)===0&&(ge=4194304),t}function ht(t){for(var n=[],s=0;31>s;s++)n.push(t);return n}function Vt(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function oe(t,n,s,o,h,f){var p=t.pendingLanes;t.pendingLanes=s,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=s,t.entangledLanes&=s,t.errorRecoveryDisabledLanes&=s,t.shellSuspendCounter=0;var E=t.entanglements,D=t.expirationTimes,B=t.hiddenUpdates;for(s=p&~s;0<s;){var Q=31-w(s),J=1<<Q;E[Q]=0,D[Q]=-1;var H=B[Q];if(H!==null)for(B[Q]=null,Q=0;Q<H.length;Q++){var Y=H[Q];Y!==null&&(Y.lane&=-536870913)}s&=~J}o!==0&&Ve(t,o,0),f!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=f&~(p&~n))}function Ve(t,n,s){t.pendingLanes|=n,t.suspendedLanes&=~n;var o=31-w(n);t.entangledLanes|=n,t.entanglements[o]=t.entanglements[o]|1073741824|s&261930}function It(t,n){var s=t.entangledLanes|=n;for(t=t.entanglements;s;){var o=31-w(s),h=1<<o;h&n|t[o]&n&&(t[o]|=n),s&=~h}}function je(t,n){var s=n&-n;return s=(s&42)!==0?1:at(s),(s&(t.suspendedLanes|n))!==0?0:s}function at(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Ne(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function it(){var t=ue.p;return t!==0?t:(t=window.event,t===void 0?32:E0(t.type))}function cn(t,n){var s=ue.p;try{return ue.p=t,n()}finally{ue.p=s}}var hn=Math.random().toString(36).slice(2),Nt="__reactFiber$"+hn,Lt="__reactProps$"+hn,Zn="__reactContainer$"+hn,_a="__reactEvents$"+hn,Oh="__reactListeners$"+hn,hu="__reactHandles$"+hn,fu="__reactResources$"+hn,Ci="__reactMarker$"+hn;function va(t){delete t[Nt],delete t[Lt],delete t[_a],delete t[Oh],delete t[hu]}function Ii(t){var n=t[Nt];if(n)return n;for(var s=t.parentNode;s;){if(n=s[Zn]||s[Nt]){if(s=n.alternate,n.child!==null||s!==null&&s.child!==null)for(t=s0(t);t!==null;){if(s=t[Nt])return s;t=s0(t)}return n}t=s,s=t.parentNode}return null}function Jn(t){if(t=t[Nt]||t[Zn]){var n=t.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return t}return null}function Un(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(a(33))}function Ni(t){var n=t[fu];return n||(n=t[fu]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function Ft(t){t[Ci]=!0}var Oo=new Set,Mo={};function xi(t,n){Di(t,n),Di(t+"Capture",n)}function Di(t,n){for(Mo[t]=n,t=0;t<n.length;t++)Oo.add(n[t])}var Vo=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Lo={},ko={};function du(t){return ct.call(ko,t)?!0:ct.call(Lo,t)?!1:Vo.test(t)?ko[t]=!0:(Lo[t]=!0,!1)}function Ta(t,n,s){if(du(n))if(s===null)t.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var o=n.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+s)}}function zn(t,n,s){if(s===null)t.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+s)}}function Yt(t,n,s,o){if(o===null)t.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(s);return}t.setAttributeNS(n,s,""+o)}}function an(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Vr(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function Po(t,n,s){var o=Object.getOwnPropertyDescriptor(t.constructor.prototype,n);if(!t.hasOwnProperty(n)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var h=o.get,f=o.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return h.call(this)},set:function(p){s=""+p,f.call(this,p)}}),Object.defineProperty(t,n,{enumerable:o.enumerable}),{getValue:function(){return s},setValue:function(p){s=""+p},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function ft(t){if(!t._valueTracker){var n=Vr(t)?"checked":"value";t._valueTracker=Po(t,n,""+t[n])}}function Ds(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var s=n.getValue(),o="";return t&&(o=Vr(t)?t.checked?"true":"false":t.value),t=o,t!==s?(n.setValue(t),!0):!1}function Oi(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Os=/[\n"\\]/g;function xn(t){return t.replace(Os,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function Ea(t,n,s,o,h,f,p,E){t.name="",p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"?t.type=p:t.removeAttribute("type"),n!=null?p==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+an(n)):t.value!==""+an(n)&&(t.value=""+an(n)):p!=="submit"&&p!=="reset"||t.removeAttribute("value"),n!=null?Uo(t,p,an(n)):s!=null?Uo(t,p,an(s)):o!=null&&t.removeAttribute("value"),h==null&&f!=null&&(t.defaultChecked=!!f),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?t.name=""+an(E):t.removeAttribute("name")}function mu(t,n,s,o,h,f,p,E){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(t.type=f),n!=null||s!=null){if(!(f!=="submit"&&f!=="reset"||n!=null)){ft(t);return}s=s!=null?""+an(s):"",n=n!=null?""+an(n):s,E||n===t.value||(t.value=n),t.defaultValue=n}o=o??h,o=typeof o!="function"&&typeof o!="symbol"&&!!o,t.checked=E?t.checked:!!o,t.defaultChecked=!!o,p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(t.name=p),ft(t)}function Uo(t,n,s){n==="number"&&Oi(t.ownerDocument)===t||t.defaultValue===""+s||(t.defaultValue=""+s)}function Lr(t,n,s,o){if(t=t.options,n){n={};for(var h=0;h<s.length;h++)n["$"+s[h]]=!0;for(s=0;s<t.length;s++)h=n.hasOwnProperty("$"+t[s].value),t[s].selected!==h&&(t[s].selected=h),h&&o&&(t[s].defaultSelected=!0)}else{for(s=""+an(s),n=null,h=0;h<t.length;h++){if(t[h].value===s){t[h].selected=!0,o&&(t[h].defaultSelected=!0);return}n!==null||t[h].disabled||(n=t[h])}n!==null&&(n.selected=!0)}}function gu(t,n,s){if(n!=null&&(n=""+an(n),n!==t.value&&(t.value=n),s==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=s!=null?""+an(s):""}function kr(t,n,s,o){if(n==null){if(o!=null){if(s!=null)throw Error(a(92));if(St(o)){if(1<o.length)throw Error(a(93));o=o[0]}s=o}s==null&&(s=""),n=s}s=an(n),t.defaultValue=s,o=t.textContent,o===s&&o!==""&&o!==null&&(t.value=o),ft(t)}function Dn(t,n){if(n){var s=t.firstChild;if(s&&s===t.lastChild&&s.nodeType===3){s.nodeValue=n;return}}t.textContent=n}var pu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function zo(t,n,s){var o=n.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?o?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":o?t.setProperty(n,s):typeof s!="number"||s===0||pu.has(n)?n==="float"?t.cssFloat=s:t[n]=(""+s).trim():t[n]=s+"px"}function jo(t,n,s){if(n!=null&&typeof n!="object")throw Error(a(62));if(t=t.style,s!=null){for(var o in s)!s.hasOwnProperty(o)||n!=null&&n.hasOwnProperty(o)||(o.indexOf("--")===0?t.setProperty(o,""):o==="float"?t.cssFloat="":t[o]="");for(var h in n)o=n[h],n.hasOwnProperty(h)&&s[h]!==o&&zo(t,h,o)}else for(var f in n)n.hasOwnProperty(f)&&zo(t,f,n[f])}function Sa(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var yu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Pr=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Aa(t){return Pr.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function fi(){}var Bo=null;function $n(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Ur=null,Mi=null;function Ms(t){var n=Jn(t);if(n&&(t=n.stateNode)){var s=t[Lt]||null;e:switch(t=n.stateNode,n.type){case"input":if(Ea(t,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),n=s.name,s.type==="radio"&&n!=null){for(s=t;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+xn(""+n)+'"][type="radio"]'),n=0;n<s.length;n++){var o=s[n];if(o!==t&&o.form===t.form){var h=o[Lt]||null;if(!h)throw Error(a(90));Ea(o,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<s.length;n++)o=s[n],o.form===t.form&&Ds(o)}break e;case"textarea":gu(t,s.value,s.defaultValue);break e;case"select":n=s.value,n!=null&&Lr(t,!!s.multiple,n,!1)}}}var ba=!1;function zr(t,n,s){if(ba)return t(n,s);ba=!0;try{var o=t(n);return o}finally{if(ba=!1,(Ur!==null||Mi!==null)&&(cc(),Ur&&(n=Ur,t=Mi,Mi=Ur=null,Ms(n),t)))for(n=0;n<t.length;n++)Ms(t[n])}}function di(t,n){var s=t.stateNode;if(s===null)return null;var o=s[Lt]||null;if(o===null)return null;s=o[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(t=t.type,o=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!o;break e;default:t=!1}if(t)return null;if(s&&typeof s!="function")throw Error(a(231,n,typeof s));return s}var Wn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Vs=!1;if(Wn)try{var yt={};Object.defineProperty(yt,"passive",{get:function(){Vs=!0}}),window.addEventListener("test",yt,yt),window.removeEventListener("test",yt,yt)}catch{Vs=!1}var Vi=null,Ho=null,Ls=null;function qo(){if(Ls)return Ls;var t,n=Ho,s=n.length,o,h="value"in Vi?Vi.value:Vi.textContent,f=h.length;for(t=0;t<s&&n[t]===h[t];t++);var p=s-t;for(o=1;o<=p&&n[s-o]===h[f-o];o++);return Ls=h.slice(t,1<o?1-o:void 0)}function ks(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function ir(){return!0}function mi(){return!1}function fn(t){function n(s,o,h,f,p){this._reactName=s,this._targetInst=h,this.type=o,this.nativeEvent=f,this.target=p,this.currentTarget=null;for(var E in t)t.hasOwnProperty(E)&&(s=t[E],this[E]=s?s(f):f[E]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?ir:mi,this.isPropagationStopped=mi,this}return A(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=ir)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=ir)},persist:function(){},isPersistent:ir}),n}var rr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Li=fn(rr),jr=A({},rr,{view:0,detail:0}),Go=fn(jr),Br,wa,ki,Ra=A({},jr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Hr,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==ki&&(ki&&t.type==="mousemove"?(Br=t.screenX-ki.screenX,wa=t.screenY-ki.screenY):wa=Br=0,ki=t),Br)},movementY:function(t){return"movementY"in t?t.movementY:wa}}),Fo=fn(Ra),Ps=A({},Ra,{dataTransfer:0}),_u=fn(Ps),vu=A({},jr,{relatedTarget:0}),Us=fn(vu),Yo=A({},rr,{animationName:0,elapsedTime:0,pseudoElement:0}),Tu=fn(Yo),Ca=A({},rr,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Eu=fn(Ca),Su=A({},rr,{data:0}),Pi=fn(Su),Au={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},bu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},wu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ru(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=wu[t])?!!n[t]:!1}function Hr(){return Ru}var Cn=A({},jr,{key:function(t){if(t.key){var n=Au[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=ks(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?bu[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Hr,charCode:function(t){return t.type==="keypress"?ks(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?ks(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Cu=fn(Cn),Iu=A({},Ra,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),sr=fn(Iu),u=A({},jr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Hr}),m=fn(u),v=A({},rr,{propertyName:0,elapsedTime:0,pseudoElement:0}),S=fn(v),z=A({},Ra,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),G=fn(z),le=A({},rr,{newState:0,oldState:0}),Be=fn(le),Bt=[9,13,27,32],ot=Wn&&"CompositionEvent"in window,xt=null;Wn&&"documentMode"in document&&(xt=document.documentMode);var ei=Wn&&"TextEvent"in window&&!xt,Ui=Wn&&(!ot||xt&&8<xt&&11>=xt),gi=" ",pi=!1;function zs(t,n){switch(t){case"keyup":return Bt.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ia(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Na=!1;function qE(t,n){switch(t){case"compositionend":return Ia(n);case"keypress":return n.which!==32?null:(pi=!0,gi);case"textInput":return t=n.data,t===gi&&pi?null:t;default:return null}}function GE(t,n){if(Na)return t==="compositionend"||!ot&&zs(t,n)?(t=qo(),Ls=Ho=Vi=null,Na=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return Ui&&n.locale!=="ko"?null:n.data;default:return null}}var FE={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function lg(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!FE[t.type]:n==="textarea"}function ug(t,n,s,o){Ur?Mi?Mi.push(o):Mi=[o]:Ur=o,n=yc(n,"onChange"),0<n.length&&(s=new Li("onChange","change",null,s,o),t.push({event:s,listeners:n}))}var Ko=null,Qo=null;function YE(t){Fy(t,0)}function Nu(t){var n=Un(t);if(Ds(n))return t}function cg(t,n){if(t==="change")return n}var hg=!1;if(Wn){var Mh;if(Wn){var Vh="oninput"in document;if(!Vh){var fg=document.createElement("div");fg.setAttribute("oninput","return;"),Vh=typeof fg.oninput=="function"}Mh=Vh}else Mh=!1;hg=Mh&&(!document.documentMode||9<document.documentMode)}function dg(){Ko&&(Ko.detachEvent("onpropertychange",mg),Qo=Ko=null)}function mg(t){if(t.propertyName==="value"&&Nu(Qo)){var n=[];ug(n,Qo,t,$n(t)),zr(YE,n)}}function KE(t,n,s){t==="focusin"?(dg(),Ko=n,Qo=s,Ko.attachEvent("onpropertychange",mg)):t==="focusout"&&dg()}function QE(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Nu(Qo)}function XE(t,n){if(t==="click")return Nu(n)}function ZE(t,n){if(t==="input"||t==="change")return Nu(n)}function JE(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var jn=typeof Object.is=="function"?Object.is:JE;function Xo(t,n){if(jn(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var s=Object.keys(t),o=Object.keys(n);if(s.length!==o.length)return!1;for(o=0;o<s.length;o++){var h=s[o];if(!ct.call(n,h)||!jn(t[h],n[h]))return!1}return!0}function gg(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function pg(t,n){var s=gg(t);t=0;for(var o;s;){if(s.nodeType===3){if(o=t+s.textContent.length,t<=n&&o>=n)return{node:s,offset:n-t};t=o}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=gg(s)}}function yg(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?yg(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function _g(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=Oi(t.document);n instanceof t.HTMLIFrameElement;){try{var s=typeof n.contentWindow.location.href=="string"}catch{s=!1}if(s)t=n.contentWindow;else break;n=Oi(t.document)}return n}function Lh(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}var $E=Wn&&"documentMode"in document&&11>=document.documentMode,xa=null,kh=null,Zo=null,Ph=!1;function vg(t,n,s){var o=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;Ph||xa==null||xa!==Oi(o)||(o=xa,"selectionStart"in o&&Lh(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),Zo&&Xo(Zo,o)||(Zo=o,o=yc(kh,"onSelect"),0<o.length&&(n=new Li("onSelect","select",null,n,s),t.push({event:n,listeners:o}),n.target=xa)))}function js(t,n){var s={};return s[t.toLowerCase()]=n.toLowerCase(),s["Webkit"+t]="webkit"+n,s["Moz"+t]="moz"+n,s}var Da={animationend:js("Animation","AnimationEnd"),animationiteration:js("Animation","AnimationIteration"),animationstart:js("Animation","AnimationStart"),transitionrun:js("Transition","TransitionRun"),transitionstart:js("Transition","TransitionStart"),transitioncancel:js("Transition","TransitionCancel"),transitionend:js("Transition","TransitionEnd")},Uh={},Tg={};Wn&&(Tg=document.createElement("div").style,"AnimationEvent"in window||(delete Da.animationend.animation,delete Da.animationiteration.animation,delete Da.animationstart.animation),"TransitionEvent"in window||delete Da.transitionend.transition);function Bs(t){if(Uh[t])return Uh[t];if(!Da[t])return t;var n=Da[t],s;for(s in n)if(n.hasOwnProperty(s)&&s in Tg)return Uh[t]=n[s];return t}var Eg=Bs("animationend"),Sg=Bs("animationiteration"),Ag=Bs("animationstart"),WE=Bs("transitionrun"),e1=Bs("transitionstart"),t1=Bs("transitioncancel"),bg=Bs("transitionend"),wg=new Map,zh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");zh.push("scrollEnd");function yi(t,n){wg.set(t,n),xi(n,[t])}var xu=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},ti=[],Oa=0,jh=0;function Du(){for(var t=Oa,n=jh=Oa=0;n<t;){var s=ti[n];ti[n++]=null;var o=ti[n];ti[n++]=null;var h=ti[n];ti[n++]=null;var f=ti[n];if(ti[n++]=null,o!==null&&h!==null){var p=o.pending;p===null?h.next=h:(h.next=p.next,p.next=h),o.pending=h}f!==0&&Rg(s,h,f)}}function Ou(t,n,s,o){ti[Oa++]=t,ti[Oa++]=n,ti[Oa++]=s,ti[Oa++]=o,jh|=o,t.lanes|=o,t=t.alternate,t!==null&&(t.lanes|=o)}function Bh(t,n,s,o){return Ou(t,n,s,o),Mu(t)}function Hs(t,n){return Ou(t,null,null,n),Mu(t)}function Rg(t,n,s){t.lanes|=s;var o=t.alternate;o!==null&&(o.lanes|=s);for(var h=!1,f=t.return;f!==null;)f.childLanes|=s,o=f.alternate,o!==null&&(o.childLanes|=s),f.tag===22&&(t=f.stateNode,t===null||t._visibility&1||(h=!0)),t=f,f=f.return;return t.tag===3?(f=t.stateNode,h&&n!==null&&(h=31-w(s),t=f.hiddenUpdates,o=t[h],o===null?t[h]=[n]:o.push(n),n.lane=s|536870912),f):null}function Mu(t){if(50<_l)throw _l=0,Jf=null,Error(a(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var Ma={};function n1(t,n,s,o){this.tag=t,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Bn(t,n,s,o){return new n1(t,n,s,o)}function Hh(t){return t=t.prototype,!(!t||!t.isReactComponent)}function ar(t,n){var s=t.alternate;return s===null?(s=Bn(t.tag,n,t.key,t.mode),s.elementType=t.elementType,s.type=t.type,s.stateNode=t.stateNode,s.alternate=t,t.alternate=s):(s.pendingProps=n,s.type=t.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=t.flags&65011712,s.childLanes=t.childLanes,s.lanes=t.lanes,s.child=t.child,s.memoizedProps=t.memoizedProps,s.memoizedState=t.memoizedState,s.updateQueue=t.updateQueue,n=t.dependencies,s.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},s.sibling=t.sibling,s.index=t.index,s.ref=t.ref,s.refCleanup=t.refCleanup,s}function Cg(t,n){t.flags&=65011714;var s=t.alternate;return s===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=s.childLanes,t.lanes=s.lanes,t.child=s.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=s.memoizedProps,t.memoizedState=s.memoizedState,t.updateQueue=s.updateQueue,t.type=s.type,n=s.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function Vu(t,n,s,o,h,f){var p=0;if(o=t,typeof t=="function")Hh(t)&&(p=1);else if(typeof t=="string")p=oS(t,s,he.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case x:return t=Bn(31,s,n,h),t.elementType=x,t.lanes=f,t;case ae:return qs(s.children,h,f,n);case te:p=8,h|=24;break;case se:return t=Bn(12,s,n,h|2),t.elementType=se,t.lanes=f,t;case Ue:return t=Bn(13,s,n,h),t.elementType=Ue,t.lanes=f,t;case Oe:return t=Bn(19,s,n,h),t.elementType=Oe,t.lanes=f,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Se:p=10;break e;case Ee:p=9;break e;case qe:p=11;break e;case N:p=14;break e;case R:p=16,o=null;break e}p=29,s=Error(a(130,t===null?"null":typeof t,"")),o=null}return n=Bn(p,s,n,h),n.elementType=t,n.type=o,n.lanes=f,n}function qs(t,n,s,o){return t=Bn(7,t,o,n),t.lanes=s,t}function qh(t,n,s){return t=Bn(6,t,null,n),t.lanes=s,t}function Ig(t){var n=Bn(18,null,null,0);return n.stateNode=t,n}function Gh(t,n,s){return n=Bn(4,t.children!==null?t.children:[],t.key,n),n.lanes=s,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}var Ng=new WeakMap;function ni(t,n){if(typeof t=="object"&&t!==null){var s=Ng.get(t);return s!==void 0?s:(n={value:t,source:n,stack:Dr(n)},Ng.set(t,n),n)}return{value:t,source:n,stack:Dr(n)}}var Va=[],La=0,Lu=null,Jo=0,ii=[],ri=0,qr=null,zi=1,ji="";function or(t,n){Va[La++]=Jo,Va[La++]=Lu,Lu=t,Jo=n}function xg(t,n,s){ii[ri++]=zi,ii[ri++]=ji,ii[ri++]=qr,qr=t;var o=zi;t=ji;var h=32-w(o)-1;o&=~(1<<h),s+=1;var f=32-w(n)+h;if(30<f){var p=h-h%5;f=(o&(1<<p)-1).toString(32),o>>=p,h-=p,zi=1<<32-w(n)+h|s<<h|o,ji=f+t}else zi=1<<f|s<<h|o,ji=t}function Fh(t){t.return!==null&&(or(t,1),xg(t,1,0))}function Yh(t){for(;t===Lu;)Lu=Va[--La],Va[La]=null,Jo=Va[--La],Va[La]=null;for(;t===qr;)qr=ii[--ri],ii[ri]=null,ji=ii[--ri],ii[ri]=null,zi=ii[--ri],ii[ri]=null}function Dg(t,n){ii[ri++]=zi,ii[ri++]=ji,ii[ri++]=qr,zi=n.id,ji=n.overflow,qr=t}var dn=null,bt=null,et=!1,Gr=null,si=!1,Kh=Error(a(519));function Fr(t){var n=Error(a(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw $o(ni(n,t)),Kh}function Og(t){var n=t.stateNode,s=t.type,o=t.memoizedProps;switch(n[Nt]=t,n[Lt]=o,s){case"dialog":Ke("cancel",n),Ke("close",n);break;case"iframe":case"object":case"embed":Ke("load",n);break;case"video":case"audio":for(s=0;s<Tl.length;s++)Ke(Tl[s],n);break;case"source":Ke("error",n);break;case"img":case"image":case"link":Ke("error",n),Ke("load",n);break;case"details":Ke("toggle",n);break;case"input":Ke("invalid",n),mu(n,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0);break;case"select":Ke("invalid",n);break;case"textarea":Ke("invalid",n),kr(n,o.value,o.defaultValue,o.children)}s=o.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||n.textContent===""+s||o.suppressHydrationWarning===!0||Xy(n.textContent,s)?(o.popover!=null&&(Ke("beforetoggle",n),Ke("toggle",n)),o.onScroll!=null&&Ke("scroll",n),o.onScrollEnd!=null&&Ke("scrollend",n),o.onClick!=null&&(n.onclick=fi),n=!0):n=!1,n||Fr(t,!0)}function Mg(t){for(dn=t.return;dn;)switch(dn.tag){case 5:case 31:case 13:si=!1;return;case 27:case 3:si=!0;return;default:dn=dn.return}}function ka(t){if(t!==dn)return!1;if(!et)return Mg(t),et=!0,!1;var n=t.tag,s;if((s=n!==3&&n!==27)&&((s=n===5)&&(s=t.type,s=!(s!=="form"&&s!=="button")||fd(t.type,t.memoizedProps)),s=!s),s&&bt&&Fr(t),Mg(t),n===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(317));bt=r0(t)}else if(n===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(317));bt=r0(t)}else n===27?(n=bt,ss(t.type)?(t=yd,yd=null,bt=t):bt=n):bt=dn?oi(t.stateNode.nextSibling):null;return!0}function Gs(){bt=dn=null,et=!1}function Qh(){var t=Gr;return t!==null&&(Ln===null?Ln=t:Ln.push.apply(Ln,t),Gr=null),t}function $o(t){Gr===null?Gr=[t]:Gr.push(t)}var Xh=V(null),Fs=null,lr=null;function Yr(t,n,s){ce(Xh,n._currentValue),n._currentValue=s}function ur(t){t._currentValue=Xh.current,X(Xh)}function Zh(t,n,s){for(;t!==null;){var o=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,o!==null&&(o.childLanes|=n)):o!==null&&(o.childLanes&n)!==n&&(o.childLanes|=n),t===s)break;t=t.return}}function Jh(t,n,s,o){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var f=h.dependencies;if(f!==null){var p=h.child;f=f.firstContext;e:for(;f!==null;){var E=f;f=h;for(var D=0;D<n.length;D++)if(E.context===n[D]){f.lanes|=s,E=f.alternate,E!==null&&(E.lanes|=s),Zh(f.return,s,t),o||(p=null);break e}f=E.next}}else if(h.tag===18){if(p=h.return,p===null)throw Error(a(341));p.lanes|=s,f=p.alternate,f!==null&&(f.lanes|=s),Zh(p,s,t),p=null}else p=h.child;if(p!==null)p.return=h;else for(p=h;p!==null;){if(p===t){p=null;break}if(h=p.sibling,h!==null){h.return=p.return,p=h;break}p=p.return}h=p}}function Pa(t,n,s,o){t=null;for(var h=n,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var p=h.alternate;if(p===null)throw Error(a(387));if(p=p.memoizedProps,p!==null){var E=h.type;jn(h.pendingProps.value,p.value)||(t!==null?t.push(E):t=[E])}}else if(h===ze.current){if(p=h.alternate,p===null)throw Error(a(387));p.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(wl):t=[wl])}h=h.return}t!==null&&Jh(n,t,s,o),n.flags|=262144}function ku(t){for(t=t.firstContext;t!==null;){if(!jn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Ys(t){Fs=t,lr=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function mn(t){return Vg(Fs,t)}function Pu(t,n){return Fs===null&&Ys(t),Vg(t,n)}function Vg(t,n){var s=n._currentValue;if(n={context:n,memoizedValue:s,next:null},lr===null){if(t===null)throw Error(a(308));lr=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else lr=lr.next=n;return s}var i1=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(s,o){t.push(o)}};this.abort=function(){n.aborted=!0,t.forEach(function(s){return s()})}},r1=r.unstable_scheduleCallback,s1=r.unstable_NormalPriority,Kt={$$typeof:Se,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function $h(){return{controller:new i1,data:new Map,refCount:0}}function Wo(t){t.refCount--,t.refCount===0&&r1(s1,function(){t.controller.abort()})}var el=null,Wh=0,Ua=0,za=null;function a1(t,n){if(el===null){var s=el=[];Wh=0,Ua=id(),za={status:"pending",value:void 0,then:function(o){s.push(o)}}}return Wh++,n.then(Lg,Lg),n}function Lg(){if(--Wh===0&&el!==null){za!==null&&(za.status="fulfilled");var t=el;el=null,Ua=0,za=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function o1(t,n){var s=[],o={status:"pending",value:null,reason:null,then:function(h){s.push(h)}};return t.then(function(){o.status="fulfilled",o.value=n;for(var h=0;h<s.length;h++)(0,s[h])(n)},function(h){for(o.status="rejected",o.reason=h,h=0;h<s.length;h++)(0,s[h])(void 0)}),o}var kg=K.S;K.S=function(t,n){vy=un(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&a1(t,n),kg!==null&&kg(t,n)};var Ks=V(null);function ef(){var t=Ks.current;return t!==null?t:Et.pooledCache}function Uu(t,n){n===null?ce(Ks,Ks.current):ce(Ks,n.pool)}function Pg(){var t=ef();return t===null?null:{parent:Kt._currentValue,pool:t}}var ja=Error(a(460)),tf=Error(a(474)),zu=Error(a(542)),ju={then:function(){}};function Ug(t){return t=t.status,t==="fulfilled"||t==="rejected"}function zg(t,n,s){switch(s=t[s],s===void 0?t.push(n):s!==n&&(n.then(fi,fi),n=s),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,Bg(t),t;default:if(typeof n.status=="string")n.then(fi,fi);else{if(t=Et,t!==null&&100<t.shellSuspendCounter)throw Error(a(482));t=n,t.status="pending",t.then(function(o){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=o}},function(o){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=o}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,Bg(t),t}throw Xs=n,ja}}function Qs(t){try{var n=t._init;return n(t._payload)}catch(s){throw s!==null&&typeof s=="object"&&typeof s.then=="function"?(Xs=s,ja):s}}var Xs=null;function jg(){if(Xs===null)throw Error(a(459));var t=Xs;return Xs=null,t}function Bg(t){if(t===ja||t===zu)throw Error(a(483))}var Ba=null,tl=0;function Bu(t){var n=tl;return tl+=1,Ba===null&&(Ba=[]),zg(Ba,t,n)}function nl(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function Hu(t,n){throw n.$$typeof===L?Error(a(525)):(t=Object.prototype.toString.call(n),Error(a(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function Hg(t){function n(P,M){if(t){var j=P.deletions;j===null?(P.deletions=[M],P.flags|=16):j.push(M)}}function s(P,M){if(!t)return null;for(;M!==null;)n(P,M),M=M.sibling;return null}function o(P){for(var M=new Map;P!==null;)P.key!==null?M.set(P.key,P):M.set(P.index,P),P=P.sibling;return M}function h(P,M){return P=ar(P,M),P.index=0,P.sibling=null,P}function f(P,M,j){return P.index=j,t?(j=P.alternate,j!==null?(j=j.index,j<M?(P.flags|=67108866,M):j):(P.flags|=67108866,M)):(P.flags|=1048576,M)}function p(P){return t&&P.alternate===null&&(P.flags|=67108866),P}function E(P,M,j,Z){return M===null||M.tag!==6?(M=qh(j,P.mode,Z),M.return=P,M):(M=h(M,j),M.return=P,M)}function D(P,M,j,Z){var be=j.type;return be===ae?Q(P,M,j.props.children,Z,j.key):M!==null&&(M.elementType===be||typeof be=="object"&&be!==null&&be.$$typeof===R&&Qs(be)===M.type)?(M=h(M,j.props),nl(M,j),M.return=P,M):(M=Vu(j.type,j.key,j.props,null,P.mode,Z),nl(M,j),M.return=P,M)}function B(P,M,j,Z){return M===null||M.tag!==4||M.stateNode.containerInfo!==j.containerInfo||M.stateNode.implementation!==j.implementation?(M=Gh(j,P.mode,Z),M.return=P,M):(M=h(M,j.children||[]),M.return=P,M)}function Q(P,M,j,Z,be){return M===null||M.tag!==7?(M=qs(j,P.mode,Z,be),M.return=P,M):(M=h(M,j),M.return=P,M)}function J(P,M,j){if(typeof M=="string"&&M!==""||typeof M=="number"||typeof M=="bigint")return M=qh(""+M,P.mode,j),M.return=P,M;if(typeof M=="object"&&M!==null){switch(M.$$typeof){case q:return j=Vu(M.type,M.key,M.props,null,P.mode,j),nl(j,M),j.return=P,j;case re:return M=Gh(M,P.mode,j),M.return=P,M;case R:return M=Qs(M),J(P,M,j)}if(St(M)||U(M))return M=qs(M,P.mode,j,null),M.return=P,M;if(typeof M.then=="function")return J(P,Bu(M),j);if(M.$$typeof===Se)return J(P,Pu(P,M),j);Hu(P,M)}return null}function H(P,M,j,Z){var be=M!==null?M.key:null;if(typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint")return be!==null?null:E(P,M,""+j,Z);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case q:return j.key===be?D(P,M,j,Z):null;case re:return j.key===be?B(P,M,j,Z):null;case R:return j=Qs(j),H(P,M,j,Z)}if(St(j)||U(j))return be!==null?null:Q(P,M,j,Z,null);if(typeof j.then=="function")return H(P,M,Bu(j),Z);if(j.$$typeof===Se)return H(P,M,Pu(P,j),Z);Hu(P,j)}return null}function Y(P,M,j,Z,be){if(typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint")return P=P.get(j)||null,E(M,P,""+Z,be);if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case q:return P=P.get(Z.key===null?j:Z.key)||null,D(M,P,Z,be);case re:return P=P.get(Z.key===null?j:Z.key)||null,B(M,P,Z,be);case R:return Z=Qs(Z),Y(P,M,j,Z,be)}if(St(Z)||U(Z))return P=P.get(j)||null,Q(M,P,Z,be,null);if(typeof Z.then=="function")return Y(P,M,j,Bu(Z),be);if(Z.$$typeof===Se)return Y(P,M,j,Pu(M,Z),be);Hu(M,Z)}return null}function pe(P,M,j,Z){for(var be=null,rt=null,_e=M,Ge=M=0,Ze=null;_e!==null&&Ge<j.length;Ge++){_e.index>Ge?(Ze=_e,_e=null):Ze=_e.sibling;var st=H(P,_e,j[Ge],Z);if(st===null){_e===null&&(_e=Ze);break}t&&_e&&st.alternate===null&&n(P,_e),M=f(st,M,Ge),rt===null?be=st:rt.sibling=st,rt=st,_e=Ze}if(Ge===j.length)return s(P,_e),et&&or(P,Ge),be;if(_e===null){for(;Ge<j.length;Ge++)_e=J(P,j[Ge],Z),_e!==null&&(M=f(_e,M,Ge),rt===null?be=_e:rt.sibling=_e,rt=_e);return et&&or(P,Ge),be}for(_e=o(_e);Ge<j.length;Ge++)Ze=Y(_e,P,Ge,j[Ge],Z),Ze!==null&&(t&&Ze.alternate!==null&&_e.delete(Ze.key===null?Ge:Ze.key),M=f(Ze,M,Ge),rt===null?be=Ze:rt.sibling=Ze,rt=Ze);return t&&_e.forEach(function(cs){return n(P,cs)}),et&&or(P,Ge),be}function Re(P,M,j,Z){if(j==null)throw Error(a(151));for(var be=null,rt=null,_e=M,Ge=M=0,Ze=null,st=j.next();_e!==null&&!st.done;Ge++,st=j.next()){_e.index>Ge?(Ze=_e,_e=null):Ze=_e.sibling;var cs=H(P,_e,st.value,Z);if(cs===null){_e===null&&(_e=Ze);break}t&&_e&&cs.alternate===null&&n(P,_e),M=f(cs,M,Ge),rt===null?be=cs:rt.sibling=cs,rt=cs,_e=Ze}if(st.done)return s(P,_e),et&&or(P,Ge),be;if(_e===null){for(;!st.done;Ge++,st=j.next())st=J(P,st.value,Z),st!==null&&(M=f(st,M,Ge),rt===null?be=st:rt.sibling=st,rt=st);return et&&or(P,Ge),be}for(_e=o(_e);!st.done;Ge++,st=j.next())st=Y(_e,P,Ge,st.value,Z),st!==null&&(t&&st.alternate!==null&&_e.delete(st.key===null?Ge:st.key),M=f(st,M,Ge),rt===null?be=st:rt.sibling=st,rt=st);return t&&_e.forEach(function(_S){return n(P,_S)}),et&&or(P,Ge),be}function Tt(P,M,j,Z){if(typeof j=="object"&&j!==null&&j.type===ae&&j.key===null&&(j=j.props.children),typeof j=="object"&&j!==null){switch(j.$$typeof){case q:e:{for(var be=j.key;M!==null;){if(M.key===be){if(be=j.type,be===ae){if(M.tag===7){s(P,M.sibling),Z=h(M,j.props.children),Z.return=P,P=Z;break e}}else if(M.elementType===be||typeof be=="object"&&be!==null&&be.$$typeof===R&&Qs(be)===M.type){s(P,M.sibling),Z=h(M,j.props),nl(Z,j),Z.return=P,P=Z;break e}s(P,M);break}else n(P,M);M=M.sibling}j.type===ae?(Z=qs(j.props.children,P.mode,Z,j.key),Z.return=P,P=Z):(Z=Vu(j.type,j.key,j.props,null,P.mode,Z),nl(Z,j),Z.return=P,P=Z)}return p(P);case re:e:{for(be=j.key;M!==null;){if(M.key===be)if(M.tag===4&&M.stateNode.containerInfo===j.containerInfo&&M.stateNode.implementation===j.implementation){s(P,M.sibling),Z=h(M,j.children||[]),Z.return=P,P=Z;break e}else{s(P,M);break}else n(P,M);M=M.sibling}Z=Gh(j,P.mode,Z),Z.return=P,P=Z}return p(P);case R:return j=Qs(j),Tt(P,M,j,Z)}if(St(j))return pe(P,M,j,Z);if(U(j)){if(be=U(j),typeof be!="function")throw Error(a(150));return j=be.call(j),Re(P,M,j,Z)}if(typeof j.then=="function")return Tt(P,M,Bu(j),Z);if(j.$$typeof===Se)return Tt(P,M,Pu(P,j),Z);Hu(P,j)}return typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint"?(j=""+j,M!==null&&M.tag===6?(s(P,M.sibling),Z=h(M,j),Z.return=P,P=Z):(s(P,M),Z=qh(j,P.mode,Z),Z.return=P,P=Z),p(P)):s(P,M)}return function(P,M,j,Z){try{tl=0;var be=Tt(P,M,j,Z);return Ba=null,be}catch(_e){if(_e===ja||_e===zu)throw _e;var rt=Bn(29,_e,null,P.mode);return rt.lanes=Z,rt.return=P,rt}finally{}}}var Zs=Hg(!0),qg=Hg(!1),Kr=!1;function nf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function rf(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Qr(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Xr(t,n,s){var o=t.updateQueue;if(o===null)return null;if(o=o.shared,(lt&2)!==0){var h=o.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),o.pending=n,n=Mu(t),Rg(t,null,s),n}return Ou(t,o,n,s),Mu(t)}function il(t,n,s){if(n=n.updateQueue,n!==null&&(n=n.shared,(s&4194048)!==0)){var o=n.lanes;o&=t.pendingLanes,s|=o,n.lanes=s,It(t,s)}}function sf(t,n){var s=t.updateQueue,o=t.alternate;if(o!==null&&(o=o.updateQueue,s===o)){var h=null,f=null;if(s=s.firstBaseUpdate,s!==null){do{var p={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};f===null?h=f=p:f=f.next=p,s=s.next}while(s!==null);f===null?h=f=n:f=f.next=n}else h=f=n;s={baseState:o.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:o.shared,callbacks:o.callbacks},t.updateQueue=s;return}t=s.lastBaseUpdate,t===null?s.firstBaseUpdate=n:t.next=n,s.lastBaseUpdate=n}var af=!1;function rl(){if(af){var t=za;if(t!==null)throw t}}function sl(t,n,s,o){af=!1;var h=t.updateQueue;Kr=!1;var f=h.firstBaseUpdate,p=h.lastBaseUpdate,E=h.shared.pending;if(E!==null){h.shared.pending=null;var D=E,B=D.next;D.next=null,p===null?f=B:p.next=B,p=D;var Q=t.alternate;Q!==null&&(Q=Q.updateQueue,E=Q.lastBaseUpdate,E!==p&&(E===null?Q.firstBaseUpdate=B:E.next=B,Q.lastBaseUpdate=D))}if(f!==null){var J=h.baseState;p=0,Q=B=D=null,E=f;do{var H=E.lane&-536870913,Y=H!==E.lane;if(Y?(Xe&H)===H:(o&H)===H){H!==0&&H===Ua&&(af=!0),Q!==null&&(Q=Q.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});e:{var pe=t,Re=E;H=n;var Tt=s;switch(Re.tag){case 1:if(pe=Re.payload,typeof pe=="function"){J=pe.call(Tt,J,H);break e}J=pe;break e;case 3:pe.flags=pe.flags&-65537|128;case 0:if(pe=Re.payload,H=typeof pe=="function"?pe.call(Tt,J,H):pe,H==null)break e;J=A({},J,H);break e;case 2:Kr=!0}}H=E.callback,H!==null&&(t.flags|=64,Y&&(t.flags|=8192),Y=h.callbacks,Y===null?h.callbacks=[H]:Y.push(H))}else Y={lane:H,tag:E.tag,payload:E.payload,callback:E.callback,next:null},Q===null?(B=Q=Y,D=J):Q=Q.next=Y,p|=H;if(E=E.next,E===null){if(E=h.shared.pending,E===null)break;Y=E,E=Y.next,Y.next=null,h.lastBaseUpdate=Y,h.shared.pending=null}}while(!0);Q===null&&(D=J),h.baseState=D,h.firstBaseUpdate=B,h.lastBaseUpdate=Q,f===null&&(h.shared.lanes=0),es|=p,t.lanes=p,t.memoizedState=J}}function Gg(t,n){if(typeof t!="function")throw Error(a(191,t));t.call(n)}function Fg(t,n){var s=t.callbacks;if(s!==null)for(t.callbacks=null,t=0;t<s.length;t++)Gg(s[t],n)}var Ha=V(null),qu=V(0);function Yg(t,n){t=_r,ce(qu,t),ce(Ha,n),_r=t|n.baseLanes}function of(){ce(qu,_r),ce(Ha,Ha.current)}function lf(){_r=qu.current,X(Ha),X(qu)}var Hn=V(null),ai=null;function Zr(t){var n=t.alternate;ce(Ht,Ht.current&1),ce(Hn,t),ai===null&&(n===null||Ha.current!==null||n.memoizedState!==null)&&(ai=t)}function uf(t){ce(Ht,Ht.current),ce(Hn,t),ai===null&&(ai=t)}function Kg(t){t.tag===22?(ce(Ht,Ht.current),ce(Hn,t),ai===null&&(ai=t)):Jr()}function Jr(){ce(Ht,Ht.current),ce(Hn,Hn.current)}function qn(t){X(Hn),ai===t&&(ai=null),X(Ht)}var Ht=V(0);function Gu(t){for(var n=t;n!==null;){if(n.tag===13){var s=n.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||gd(s)||pd(s)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var cr=0,He=null,_t=null,Qt=null,Fu=!1,qa=!1,Js=!1,Yu=0,al=0,Ga=null,l1=0;function kt(){throw Error(a(321))}function cf(t,n){if(n===null)return!1;for(var s=0;s<n.length&&s<t.length;s++)if(!jn(t[s],n[s]))return!1;return!0}function hf(t,n,s,o,h,f){return cr=f,He=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,K.H=t===null||t.memoizedState===null?xp:Rf,Js=!1,f=s(o,h),Js=!1,qa&&(f=Xg(n,s,o,h)),Qg(t),f}function Qg(t){K.H=ul;var n=_t!==null&&_t.next!==null;if(cr=0,Qt=_t=He=null,Fu=!1,al=0,Ga=null,n)throw Error(a(300));t===null||Xt||(t=t.dependencies,t!==null&&ku(t)&&(Xt=!0))}function Xg(t,n,s,o){He=t;var h=0;do{if(qa&&(Ga=null),al=0,qa=!1,25<=h)throw Error(a(301));if(h+=1,Qt=_t=null,t.updateQueue!=null){var f=t.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}K.H=Dp,f=n(s,o)}while(qa);return f}function u1(){var t=K.H,n=t.useState()[0];return n=typeof n.then=="function"?ol(n):n,t=t.useState()[0],(_t!==null?_t.memoizedState:null)!==t&&(He.flags|=1024),n}function ff(){var t=Yu!==0;return Yu=0,t}function df(t,n,s){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~s}function mf(t){if(Fu){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}Fu=!1}cr=0,Qt=_t=He=null,qa=!1,al=Yu=0,Ga=null}function In(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Qt===null?He.memoizedState=Qt=t:Qt=Qt.next=t,Qt}function qt(){if(_t===null){var t=He.alternate;t=t!==null?t.memoizedState:null}else t=_t.next;var n=Qt===null?He.memoizedState:Qt.next;if(n!==null)Qt=n,_t=t;else{if(t===null)throw He.alternate===null?Error(a(467)):Error(a(310));_t=t,t={memoizedState:_t.memoizedState,baseState:_t.baseState,baseQueue:_t.baseQueue,queue:_t.queue,next:null},Qt===null?He.memoizedState=Qt=t:Qt=Qt.next=t}return Qt}function Ku(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ol(t){var n=al;return al+=1,Ga===null&&(Ga=[]),t=zg(Ga,t,n),n=He,(Qt===null?n.memoizedState:Qt.next)===null&&(n=n.alternate,K.H=n===null||n.memoizedState===null?xp:Rf),t}function Qu(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return ol(t);if(t.$$typeof===Se)return mn(t)}throw Error(a(438,String(t)))}function gf(t){var n=null,s=He.updateQueue;if(s!==null&&(n=s.memoCache),n==null){var o=He.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(n={data:o.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),s===null&&(s=Ku(),He.updateQueue=s),s.memoCache=n,s=n.data[n.index],s===void 0)for(s=n.data[n.index]=Array(t),o=0;o<t;o++)s[o]=k;return n.index++,s}function hr(t,n){return typeof n=="function"?n(t):n}function Xu(t){var n=qt();return pf(n,_t,t)}function pf(t,n,s){var o=t.queue;if(o===null)throw Error(a(311));o.lastRenderedReducer=s;var h=t.baseQueue,f=o.pending;if(f!==null){if(h!==null){var p=h.next;h.next=f.next,f.next=p}n.baseQueue=h=f,o.pending=null}if(f=t.baseState,h===null)t.memoizedState=f;else{n=h.next;var E=p=null,D=null,B=n,Q=!1;do{var J=B.lane&-536870913;if(J!==B.lane?(Xe&J)===J:(cr&J)===J){var H=B.revertLane;if(H===0)D!==null&&(D=D.next={lane:0,revertLane:0,gesture:null,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null}),J===Ua&&(Q=!0);else if((cr&H)===H){B=B.next,H===Ua&&(Q=!0);continue}else J={lane:0,revertLane:B.revertLane,gesture:null,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},D===null?(E=D=J,p=f):D=D.next=J,He.lanes|=H,es|=H;J=B.action,Js&&s(f,J),f=B.hasEagerState?B.eagerState:s(f,J)}else H={lane:J,revertLane:B.revertLane,gesture:B.gesture,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},D===null?(E=D=H,p=f):D=D.next=H,He.lanes|=J,es|=J;B=B.next}while(B!==null&&B!==n);if(D===null?p=f:D.next=E,!jn(f,t.memoizedState)&&(Xt=!0,Q&&(s=za,s!==null)))throw s;t.memoizedState=f,t.baseState=p,t.baseQueue=D,o.lastRenderedState=f}return h===null&&(o.lanes=0),[t.memoizedState,o.dispatch]}function yf(t){var n=qt(),s=n.queue;if(s===null)throw Error(a(311));s.lastRenderedReducer=t;var o=s.dispatch,h=s.pending,f=n.memoizedState;if(h!==null){s.pending=null;var p=h=h.next;do f=t(f,p.action),p=p.next;while(p!==h);jn(f,n.memoizedState)||(Xt=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),s.lastRenderedState=f}return[f,o]}function Zg(t,n,s){var o=He,h=qt(),f=et;if(f){if(s===void 0)throw Error(a(407));s=s()}else s=n();var p=!jn((_t||h).memoizedState,s);if(p&&(h.memoizedState=s,Xt=!0),h=h.queue,Tf(Wg.bind(null,o,h,t),[t]),h.getSnapshot!==n||p||Qt!==null&&Qt.memoizedState.tag&1){if(o.flags|=2048,Fa(9,{destroy:void 0},$g.bind(null,o,h,s,n),null),Et===null)throw Error(a(349));f||(cr&127)!==0||Jg(o,n,s)}return s}function Jg(t,n,s){t.flags|=16384,t={getSnapshot:n,value:s},n=He.updateQueue,n===null?(n=Ku(),He.updateQueue=n,n.stores=[t]):(s=n.stores,s===null?n.stores=[t]:s.push(t))}function $g(t,n,s,o){n.value=s,n.getSnapshot=o,ep(n)&&tp(t)}function Wg(t,n,s){return s(function(){ep(n)&&tp(t)})}function ep(t){var n=t.getSnapshot;t=t.value;try{var s=n();return!jn(t,s)}catch{return!0}}function tp(t){var n=Hs(t,2);n!==null&&kn(n,t,2)}function _f(t){var n=In();if(typeof t=="function"){var s=t;if(t=s(),Js){T(!0);try{s()}finally{T(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:hr,lastRenderedState:t},n}function np(t,n,s,o){return t.baseState=s,pf(t,_t,typeof o=="function"?o:hr)}function c1(t,n,s,o,h){if($u(t))throw Error(a(485));if(t=n.action,t!==null){var f={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(p){f.listeners.push(p)}};K.T!==null?s(!0):f.isTransition=!1,o(f),s=n.pending,s===null?(f.next=n.pending=f,ip(n,f)):(f.next=s.next,n.pending=s.next=f)}}function ip(t,n){var s=n.action,o=n.payload,h=t.state;if(n.isTransition){var f=K.T,p={};K.T=p;try{var E=s(h,o),D=K.S;D!==null&&D(p,E),rp(t,n,E)}catch(B){vf(t,n,B)}finally{f!==null&&p.types!==null&&(f.types=p.types),K.T=f}}else try{f=s(h,o),rp(t,n,f)}catch(B){vf(t,n,B)}}function rp(t,n,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(o){sp(t,n,o)},function(o){return vf(t,n,o)}):sp(t,n,s)}function sp(t,n,s){n.status="fulfilled",n.value=s,ap(n),t.state=s,n=t.pending,n!==null&&(s=n.next,s===n?t.pending=null:(s=s.next,n.next=s,ip(t,s)))}function vf(t,n,s){var o=t.pending;if(t.pending=null,o!==null){o=o.next;do n.status="rejected",n.reason=s,ap(n),n=n.next;while(n!==o)}t.action=null}function ap(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function op(t,n){return n}function lp(t,n){if(et){var s=Et.formState;if(s!==null){e:{var o=He;if(et){if(bt){t:{for(var h=bt,f=si;h.nodeType!==8;){if(!f){h=null;break t}if(h=oi(h.nextSibling),h===null){h=null;break t}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){bt=oi(h.nextSibling),o=h.data==="F!";break e}}Fr(o)}o=!1}o&&(n=s[0])}}return s=In(),s.memoizedState=s.baseState=n,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:op,lastRenderedState:n},s.queue=o,s=Cp.bind(null,He,o),o.dispatch=s,o=_f(!1),f=wf.bind(null,He,!1,o.queue),o=In(),h={state:n,dispatch:null,action:t,pending:null},o.queue=h,s=c1.bind(null,He,h,f,s),h.dispatch=s,o.memoizedState=t,[n,s,!1]}function up(t){var n=qt();return cp(n,_t,t)}function cp(t,n,s){if(n=pf(t,n,op)[0],t=Xu(hr)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var o=ol(n)}catch(p){throw p===ja?zu:p}else o=n;n=qt();var h=n.queue,f=h.dispatch;return s!==n.memoizedState&&(He.flags|=2048,Fa(9,{destroy:void 0},h1.bind(null,h,s),null)),[o,f,t]}function h1(t,n){t.action=n}function hp(t){var n=qt(),s=_t;if(s!==null)return cp(n,s,t);qt(),n=n.memoizedState,s=qt();var o=s.queue.dispatch;return s.memoizedState=t,[n,o,!1]}function Fa(t,n,s,o){return t={tag:t,create:s,deps:o,inst:n,next:null},n=He.updateQueue,n===null&&(n=Ku(),He.updateQueue=n),s=n.lastEffect,s===null?n.lastEffect=t.next=t:(o=s.next,s.next=t,t.next=o,n.lastEffect=t),t}function fp(){return qt().memoizedState}function Zu(t,n,s,o){var h=In();He.flags|=t,h.memoizedState=Fa(1|n,{destroy:void 0},s,o===void 0?null:o)}function Ju(t,n,s,o){var h=qt();o=o===void 0?null:o;var f=h.memoizedState.inst;_t!==null&&o!==null&&cf(o,_t.memoizedState.deps)?h.memoizedState=Fa(n,f,s,o):(He.flags|=t,h.memoizedState=Fa(1|n,f,s,o))}function dp(t,n){Zu(8390656,8,t,n)}function Tf(t,n){Ju(2048,8,t,n)}function f1(t){He.flags|=4;var n=He.updateQueue;if(n===null)n=Ku(),He.updateQueue=n,n.events=[t];else{var s=n.events;s===null?n.events=[t]:s.push(t)}}function mp(t){var n=qt().memoizedState;return f1({ref:n,nextImpl:t}),function(){if((lt&2)!==0)throw Error(a(440));return n.impl.apply(void 0,arguments)}}function gp(t,n){return Ju(4,2,t,n)}function pp(t,n){return Ju(4,4,t,n)}function yp(t,n){if(typeof n=="function"){t=t();var s=n(t);return function(){typeof s=="function"?s():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function _p(t,n,s){s=s!=null?s.concat([t]):null,Ju(4,4,yp.bind(null,n,t),s)}function Ef(){}function vp(t,n){var s=qt();n=n===void 0?null:n;var o=s.memoizedState;return n!==null&&cf(n,o[1])?o[0]:(s.memoizedState=[t,n],t)}function Tp(t,n){var s=qt();n=n===void 0?null:n;var o=s.memoizedState;if(n!==null&&cf(n,o[1]))return o[0];if(o=t(),Js){T(!0);try{t()}finally{T(!1)}}return s.memoizedState=[o,n],o}function Sf(t,n,s){return s===void 0||(cr&1073741824)!==0&&(Xe&261930)===0?t.memoizedState=n:(t.memoizedState=s,t=Ey(),He.lanes|=t,es|=t,s)}function Ep(t,n,s,o){return jn(s,n)?s:Ha.current!==null?(t=Sf(t,s,o),jn(t,n)||(Xt=!0),t):(cr&42)===0||(cr&1073741824)!==0&&(Xe&261930)===0?(Xt=!0,t.memoizedState=s):(t=Ey(),He.lanes|=t,es|=t,n)}function Sp(t,n,s,o,h){var f=ue.p;ue.p=f!==0&&8>f?f:8;var p=K.T,E={};K.T=E,wf(t,!1,n,s);try{var D=h(),B=K.S;if(B!==null&&B(E,D),D!==null&&typeof D=="object"&&typeof D.then=="function"){var Q=o1(D,o);ll(t,n,Q,Yn(t))}else ll(t,n,o,Yn(t))}catch(J){ll(t,n,{then:function(){},status:"rejected",reason:J},Yn())}finally{ue.p=f,p!==null&&E.types!==null&&(p.types=E.types),K.T=p}}function d1(){}function Af(t,n,s,o){if(t.tag!==5)throw Error(a(476));var h=Ap(t).queue;Sp(t,h,n,ve,s===null?d1:function(){return bp(t),s(o)})}function Ap(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:ve,baseState:ve,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:hr,lastRenderedState:ve},next:null};var s={};return n.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:hr,lastRenderedState:s},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function bp(t){var n=Ap(t);n.next===null&&(n=t.alternate.memoizedState),ll(t,n.next.queue,{},Yn())}function bf(){return mn(wl)}function wp(){return qt().memoizedState}function Rp(){return qt().memoizedState}function m1(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var s=Yn();t=Qr(s);var o=Xr(n,t,s);o!==null&&(kn(o,n,s),il(o,n,s)),n={cache:$h()},t.payload=n;return}n=n.return}}function g1(t,n,s){var o=Yn();s={lane:o,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null},$u(t)?Ip(n,s):(s=Bh(t,n,s,o),s!==null&&(kn(s,t,o),Np(s,n,o)))}function Cp(t,n,s){var o=Yn();ll(t,n,s,o)}function ll(t,n,s,o){var h={lane:o,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null};if($u(t))Ip(n,h);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var p=n.lastRenderedState,E=f(p,s);if(h.hasEagerState=!0,h.eagerState=E,jn(E,p))return Ou(t,n,h,0),Et===null&&Du(),!1}catch{}finally{}if(s=Bh(t,n,h,o),s!==null)return kn(s,t,o),Np(s,n,o),!0}return!1}function wf(t,n,s,o){if(o={lane:2,revertLane:id(),gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},$u(t)){if(n)throw Error(a(479))}else n=Bh(t,s,o,2),n!==null&&kn(n,t,2)}function $u(t){var n=t.alternate;return t===He||n!==null&&n===He}function Ip(t,n){qa=Fu=!0;var s=t.pending;s===null?n.next=n:(n.next=s.next,s.next=n),t.pending=n}function Np(t,n,s){if((s&4194048)!==0){var o=n.lanes;o&=t.pendingLanes,s|=o,n.lanes=s,It(t,s)}}var ul={readContext:mn,use:Qu,useCallback:kt,useContext:kt,useEffect:kt,useImperativeHandle:kt,useLayoutEffect:kt,useInsertionEffect:kt,useMemo:kt,useReducer:kt,useRef:kt,useState:kt,useDebugValue:kt,useDeferredValue:kt,useTransition:kt,useSyncExternalStore:kt,useId:kt,useHostTransitionStatus:kt,useFormState:kt,useActionState:kt,useOptimistic:kt,useMemoCache:kt,useCacheRefresh:kt};ul.useEffectEvent=kt;var xp={readContext:mn,use:Qu,useCallback:function(t,n){return In().memoizedState=[t,n===void 0?null:n],t},useContext:mn,useEffect:dp,useImperativeHandle:function(t,n,s){s=s!=null?s.concat([t]):null,Zu(4194308,4,yp.bind(null,n,t),s)},useLayoutEffect:function(t,n){return Zu(4194308,4,t,n)},useInsertionEffect:function(t,n){Zu(4,2,t,n)},useMemo:function(t,n){var s=In();n=n===void 0?null:n;var o=t();if(Js){T(!0);try{t()}finally{T(!1)}}return s.memoizedState=[o,n],o},useReducer:function(t,n,s){var o=In();if(s!==void 0){var h=s(n);if(Js){T(!0);try{s(n)}finally{T(!1)}}}else h=n;return o.memoizedState=o.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},o.queue=t,t=t.dispatch=g1.bind(null,He,t),[o.memoizedState,t]},useRef:function(t){var n=In();return t={current:t},n.memoizedState=t},useState:function(t){t=_f(t);var n=t.queue,s=Cp.bind(null,He,n);return n.dispatch=s,[t.memoizedState,s]},useDebugValue:Ef,useDeferredValue:function(t,n){var s=In();return Sf(s,t,n)},useTransition:function(){var t=_f(!1);return t=Sp.bind(null,He,t.queue,!0,!1),In().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,s){var o=He,h=In();if(et){if(s===void 0)throw Error(a(407));s=s()}else{if(s=n(),Et===null)throw Error(a(349));(Xe&127)!==0||Jg(o,n,s)}h.memoizedState=s;var f={value:s,getSnapshot:n};return h.queue=f,dp(Wg.bind(null,o,f,t),[t]),o.flags|=2048,Fa(9,{destroy:void 0},$g.bind(null,o,f,s,n),null),s},useId:function(){var t=In(),n=Et.identifierPrefix;if(et){var s=ji,o=zi;s=(o&~(1<<32-w(o)-1)).toString(32)+s,n="_"+n+"R_"+s,s=Yu++,0<s&&(n+="H"+s.toString(32)),n+="_"}else s=l1++,n="_"+n+"r_"+s.toString(32)+"_";return t.memoizedState=n},useHostTransitionStatus:bf,useFormState:lp,useActionState:lp,useOptimistic:function(t){var n=In();n.memoizedState=n.baseState=t;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=s,n=wf.bind(null,He,!0,s),s.dispatch=n,[t,n]},useMemoCache:gf,useCacheRefresh:function(){return In().memoizedState=m1.bind(null,He)},useEffectEvent:function(t){var n=In(),s={impl:t};return n.memoizedState=s,function(){if((lt&2)!==0)throw Error(a(440));return s.impl.apply(void 0,arguments)}}},Rf={readContext:mn,use:Qu,useCallback:vp,useContext:mn,useEffect:Tf,useImperativeHandle:_p,useInsertionEffect:gp,useLayoutEffect:pp,useMemo:Tp,useReducer:Xu,useRef:fp,useState:function(){return Xu(hr)},useDebugValue:Ef,useDeferredValue:function(t,n){var s=qt();return Ep(s,_t.memoizedState,t,n)},useTransition:function(){var t=Xu(hr)[0],n=qt().memoizedState;return[typeof t=="boolean"?t:ol(t),n]},useSyncExternalStore:Zg,useId:wp,useHostTransitionStatus:bf,useFormState:up,useActionState:up,useOptimistic:function(t,n){var s=qt();return np(s,_t,t,n)},useMemoCache:gf,useCacheRefresh:Rp};Rf.useEffectEvent=mp;var Dp={readContext:mn,use:Qu,useCallback:vp,useContext:mn,useEffect:Tf,useImperativeHandle:_p,useInsertionEffect:gp,useLayoutEffect:pp,useMemo:Tp,useReducer:yf,useRef:fp,useState:function(){return yf(hr)},useDebugValue:Ef,useDeferredValue:function(t,n){var s=qt();return _t===null?Sf(s,t,n):Ep(s,_t.memoizedState,t,n)},useTransition:function(){var t=yf(hr)[0],n=qt().memoizedState;return[typeof t=="boolean"?t:ol(t),n]},useSyncExternalStore:Zg,useId:wp,useHostTransitionStatus:bf,useFormState:hp,useActionState:hp,useOptimistic:function(t,n){var s=qt();return _t!==null?np(s,_t,t,n):(s.baseState=t,[t,s.queue.dispatch])},useMemoCache:gf,useCacheRefresh:Rp};Dp.useEffectEvent=mp;function Cf(t,n,s,o){n=t.memoizedState,s=s(o,n),s=s==null?n:A({},n,s),t.memoizedState=s,t.lanes===0&&(t.updateQueue.baseState=s)}var If={enqueueSetState:function(t,n,s){t=t._reactInternals;var o=Yn(),h=Qr(o);h.payload=n,s!=null&&(h.callback=s),n=Xr(t,h,o),n!==null&&(kn(n,t,o),il(n,t,o))},enqueueReplaceState:function(t,n,s){t=t._reactInternals;var o=Yn(),h=Qr(o);h.tag=1,h.payload=n,s!=null&&(h.callback=s),n=Xr(t,h,o),n!==null&&(kn(n,t,o),il(n,t,o))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var s=Yn(),o=Qr(s);o.tag=2,n!=null&&(o.callback=n),n=Xr(t,o,s),n!==null&&(kn(n,t,s),il(n,t,s))}};function Op(t,n,s,o,h,f,p){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(o,f,p):n.prototype&&n.prototype.isPureReactComponent?!Xo(s,o)||!Xo(h,f):!0}function Mp(t,n,s,o){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(s,o),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(s,o),n.state!==t&&If.enqueueReplaceState(n,n.state,null)}function $s(t,n){var s=n;if("ref"in n){s={};for(var o in n)o!=="ref"&&(s[o]=n[o])}if(t=t.defaultProps){s===n&&(s=A({},s));for(var h in t)s[h]===void 0&&(s[h]=t[h])}return s}function Vp(t){xu(t)}function Lp(t){console.error(t)}function kp(t){xu(t)}function Wu(t,n){try{var s=t.onUncaughtError;s(n.value,{componentStack:n.stack})}catch(o){setTimeout(function(){throw o})}}function Pp(t,n,s){try{var o=t.onCaughtError;o(s.value,{componentStack:s.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Nf(t,n,s){return s=Qr(s),s.tag=3,s.payload={element:null},s.callback=function(){Wu(t,n)},s}function Up(t){return t=Qr(t),t.tag=3,t}function zp(t,n,s,o){var h=s.type.getDerivedStateFromError;if(typeof h=="function"){var f=o.value;t.payload=function(){return h(f)},t.callback=function(){Pp(n,s,o)}}var p=s.stateNode;p!==null&&typeof p.componentDidCatch=="function"&&(t.callback=function(){Pp(n,s,o),typeof h!="function"&&(ts===null?ts=new Set([this]):ts.add(this));var E=o.stack;this.componentDidCatch(o.value,{componentStack:E!==null?E:""})})}function p1(t,n,s,o,h){if(s.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(n=s.alternate,n!==null&&Pa(n,s,h,!0),s=Hn.current,s!==null){switch(s.tag){case 31:case 13:return ai===null?hc():s.alternate===null&&Pt===0&&(Pt=3),s.flags&=-257,s.flags|=65536,s.lanes=h,o===ju?s.flags|=16384:(n=s.updateQueue,n===null?s.updateQueue=new Set([o]):n.add(o),ed(t,o,h)),!1;case 22:return s.flags|=65536,o===ju?s.flags|=16384:(n=s.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([o])},s.updateQueue=n):(s=n.retryQueue,s===null?n.retryQueue=new Set([o]):s.add(o)),ed(t,o,h)),!1}throw Error(a(435,s.tag))}return ed(t,o,h),hc(),!1}if(et)return n=Hn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,o!==Kh&&(t=Error(a(422),{cause:o}),$o(ni(t,s)))):(o!==Kh&&(n=Error(a(423),{cause:o}),$o(ni(n,s))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,o=ni(o,s),h=Nf(t.stateNode,o,h),sf(t,h),Pt!==4&&(Pt=2)),!1;var f=Error(a(520),{cause:o});if(f=ni(f,s),yl===null?yl=[f]:yl.push(f),Pt!==4&&(Pt=2),n===null)return!0;o=ni(o,s),s=n;do{switch(s.tag){case 3:return s.flags|=65536,t=h&-h,s.lanes|=t,t=Nf(s.stateNode,o,t),sf(s,t),!1;case 1:if(n=s.type,f=s.stateNode,(s.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(ts===null||!ts.has(f))))return s.flags|=65536,h&=-h,s.lanes|=h,h=Up(h),zp(h,t,s,o),sf(s,h),!1}s=s.return}while(s!==null);return!1}var xf=Error(a(461)),Xt=!1;function gn(t,n,s,o){n.child=t===null?qg(n,null,s,o):Zs(n,t.child,s,o)}function jp(t,n,s,o,h){s=s.render;var f=n.ref;if("ref"in o){var p={};for(var E in o)E!=="ref"&&(p[E]=o[E])}else p=o;return Ys(n),o=hf(t,n,s,p,f,h),E=ff(),t!==null&&!Xt?(df(t,n,h),fr(t,n,h)):(et&&E&&Fh(n),n.flags|=1,gn(t,n,o,h),n.child)}function Bp(t,n,s,o,h){if(t===null){var f=s.type;return typeof f=="function"&&!Hh(f)&&f.defaultProps===void 0&&s.compare===null?(n.tag=15,n.type=f,Hp(t,n,f,o,h)):(t=Vu(s.type,null,o,n,n.mode,h),t.ref=n.ref,t.return=n,n.child=t)}if(f=t.child,!Uf(t,h)){var p=f.memoizedProps;if(s=s.compare,s=s!==null?s:Xo,s(p,o)&&t.ref===n.ref)return fr(t,n,h)}return n.flags|=1,t=ar(f,o),t.ref=n.ref,t.return=n,n.child=t}function Hp(t,n,s,o,h){if(t!==null){var f=t.memoizedProps;if(Xo(f,o)&&t.ref===n.ref)if(Xt=!1,n.pendingProps=o=f,Uf(t,h))(t.flags&131072)!==0&&(Xt=!0);else return n.lanes=t.lanes,fr(t,n,h)}return Df(t,n,s,o,h)}function qp(t,n,s,o){var h=o.children,f=t!==null?t.memoizedState:null;if(t===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.mode==="hidden"){if((n.flags&128)!==0){if(f=f!==null?f.baseLanes|s:s,t!==null){for(o=n.child=t.child,h=0;o!==null;)h=h|o.lanes|o.childLanes,o=o.sibling;o=h&~f}else o=0,n.child=null;return Gp(t,n,f,s,o)}if((s&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&Uu(n,f!==null?f.cachePool:null),f!==null?Yg(n,f):of(),Kg(n);else return o=n.lanes=536870912,Gp(t,n,f!==null?f.baseLanes|s:s,s,o)}else f!==null?(Uu(n,f.cachePool),Yg(n,f),Jr(),n.memoizedState=null):(t!==null&&Uu(n,null),of(),Jr());return gn(t,n,h,s),n.child}function cl(t,n){return t!==null&&t.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function Gp(t,n,s,o,h){var f=ef();return f=f===null?null:{parent:Kt._currentValue,pool:f},n.memoizedState={baseLanes:s,cachePool:f},t!==null&&Uu(n,null),of(),Kg(n),t!==null&&Pa(t,n,o,!0),n.childLanes=h,null}function ec(t,n){return n=nc({mode:n.mode,children:n.children},t.mode),n.ref=t.ref,t.child=n,n.return=t,n}function Fp(t,n,s){return Zs(n,t.child,null,s),t=ec(n,n.pendingProps),t.flags|=2,qn(n),n.memoizedState=null,t}function y1(t,n,s){var o=n.pendingProps,h=(n.flags&128)!==0;if(n.flags&=-129,t===null){if(et){if(o.mode==="hidden")return t=ec(n,o),n.lanes=536870912,cl(null,t);if(uf(n),(t=bt)?(t=i0(t,si),t=t!==null&&t.data==="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:qr!==null?{id:zi,overflow:ji}:null,retryLane:536870912,hydrationErrors:null},s=Ig(t),s.return=n,n.child=s,dn=n,bt=null)):t=null,t===null)throw Fr(n);return n.lanes=536870912,null}return ec(n,o)}var f=t.memoizedState;if(f!==null){var p=f.dehydrated;if(uf(n),h)if(n.flags&256)n.flags&=-257,n=Fp(t,n,s);else if(n.memoizedState!==null)n.child=t.child,n.flags|=128,n=null;else throw Error(a(558));else if(Xt||Pa(t,n,s,!1),h=(s&t.childLanes)!==0,Xt||h){if(o=Et,o!==null&&(p=je(o,s),p!==0&&p!==f.retryLane))throw f.retryLane=p,Hs(t,p),kn(o,t,p),xf;hc(),n=Fp(t,n,s)}else t=f.treeContext,bt=oi(p.nextSibling),dn=n,et=!0,Gr=null,si=!1,t!==null&&Dg(n,t),n=ec(n,o),n.flags|=4096;return n}return t=ar(t.child,{mode:o.mode,children:o.children}),t.ref=n.ref,n.child=t,t.return=n,t}function tc(t,n){var s=n.ref;if(s===null)t!==null&&t.ref!==null&&(n.flags|=4194816);else{if(typeof s!="function"&&typeof s!="object")throw Error(a(284));(t===null||t.ref!==s)&&(n.flags|=4194816)}}function Df(t,n,s,o,h){return Ys(n),s=hf(t,n,s,o,void 0,h),o=ff(),t!==null&&!Xt?(df(t,n,h),fr(t,n,h)):(et&&o&&Fh(n),n.flags|=1,gn(t,n,s,h),n.child)}function Yp(t,n,s,o,h,f){return Ys(n),n.updateQueue=null,s=Xg(n,o,s,h),Qg(t),o=ff(),t!==null&&!Xt?(df(t,n,f),fr(t,n,f)):(et&&o&&Fh(n),n.flags|=1,gn(t,n,s,f),n.child)}function Kp(t,n,s,o,h){if(Ys(n),n.stateNode===null){var f=Ma,p=s.contextType;typeof p=="object"&&p!==null&&(f=mn(p)),f=new s(o,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=If,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=o,f.state=n.memoizedState,f.refs={},nf(n),p=s.contextType,f.context=typeof p=="object"&&p!==null?mn(p):Ma,f.state=n.memoizedState,p=s.getDerivedStateFromProps,typeof p=="function"&&(Cf(n,s,p,o),f.state=n.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(p=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),p!==f.state&&If.enqueueReplaceState(f,f.state,null),sl(n,o,f,h),rl(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!0}else if(t===null){f=n.stateNode;var E=n.memoizedProps,D=$s(s,E);f.props=D;var B=f.context,Q=s.contextType;p=Ma,typeof Q=="object"&&Q!==null&&(p=mn(Q));var J=s.getDerivedStateFromProps;Q=typeof J=="function"||typeof f.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,Q||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E||B!==p)&&Mp(n,f,o,p),Kr=!1;var H=n.memoizedState;f.state=H,sl(n,o,f,h),rl(),B=n.memoizedState,E||H!==B||Kr?(typeof J=="function"&&(Cf(n,s,J,o),B=n.memoizedState),(D=Kr||Op(n,s,D,o,H,B,p))?(Q||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=o,n.memoizedState=B),f.props=o,f.state=B,f.context=p,o=D):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!1)}else{f=n.stateNode,rf(t,n),p=n.memoizedProps,Q=$s(s,p),f.props=Q,J=n.pendingProps,H=f.context,B=s.contextType,D=Ma,typeof B=="object"&&B!==null&&(D=mn(B)),E=s.getDerivedStateFromProps,(B=typeof E=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(p!==J||H!==D)&&Mp(n,f,o,D),Kr=!1,H=n.memoizedState,f.state=H,sl(n,o,f,h),rl();var Y=n.memoizedState;p!==J||H!==Y||Kr||t!==null&&t.dependencies!==null&&ku(t.dependencies)?(typeof E=="function"&&(Cf(n,s,E,o),Y=n.memoizedState),(Q=Kr||Op(n,s,Q,o,H,Y,D)||t!==null&&t.dependencies!==null&&ku(t.dependencies))?(B||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(o,Y,D),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(o,Y,D)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||p===t.memoizedProps&&H===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||p===t.memoizedProps&&H===t.memoizedState||(n.flags|=1024),n.memoizedProps=o,n.memoizedState=Y),f.props=o,f.state=Y,f.context=D,o=Q):(typeof f.componentDidUpdate!="function"||p===t.memoizedProps&&H===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||p===t.memoizedProps&&H===t.memoizedState||(n.flags|=1024),o=!1)}return f=o,tc(t,n),o=(n.flags&128)!==0,f||o?(f=n.stateNode,s=o&&typeof s.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,t!==null&&o?(n.child=Zs(n,t.child,null,h),n.child=Zs(n,null,s,h)):gn(t,n,s,h),n.memoizedState=f.state,t=n.child):t=fr(t,n,h),t}function Qp(t,n,s,o){return Gs(),n.flags|=256,gn(t,n,s,o),n.child}var Of={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Mf(t){return{baseLanes:t,cachePool:Pg()}}function Vf(t,n,s){return t=t!==null?t.childLanes&~s:0,n&&(t|=Fn),t}function Xp(t,n,s){var o=n.pendingProps,h=!1,f=(n.flags&128)!==0,p;if((p=f)||(p=t!==null&&t.memoizedState===null?!1:(Ht.current&2)!==0),p&&(h=!0,n.flags&=-129),p=(n.flags&32)!==0,n.flags&=-33,t===null){if(et){if(h?Zr(n):Jr(),(t=bt)?(t=i0(t,si),t=t!==null&&t.data!=="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:qr!==null?{id:zi,overflow:ji}:null,retryLane:536870912,hydrationErrors:null},s=Ig(t),s.return=n,n.child=s,dn=n,bt=null)):t=null,t===null)throw Fr(n);return pd(t)?n.lanes=32:n.lanes=536870912,null}var E=o.children;return o=o.fallback,h?(Jr(),h=n.mode,E=nc({mode:"hidden",children:E},h),o=qs(o,h,s,null),E.return=n,o.return=n,E.sibling=o,n.child=E,o=n.child,o.memoizedState=Mf(s),o.childLanes=Vf(t,p,s),n.memoizedState=Of,cl(null,o)):(Zr(n),Lf(n,E))}var D=t.memoizedState;if(D!==null&&(E=D.dehydrated,E!==null)){if(f)n.flags&256?(Zr(n),n.flags&=-257,n=kf(t,n,s)):n.memoizedState!==null?(Jr(),n.child=t.child,n.flags|=128,n=null):(Jr(),E=o.fallback,h=n.mode,o=nc({mode:"visible",children:o.children},h),E=qs(E,h,s,null),E.flags|=2,o.return=n,E.return=n,o.sibling=E,n.child=o,Zs(n,t.child,null,s),o=n.child,o.memoizedState=Mf(s),o.childLanes=Vf(t,p,s),n.memoizedState=Of,n=cl(null,o));else if(Zr(n),pd(E)){if(p=E.nextSibling&&E.nextSibling.dataset,p)var B=p.dgst;p=B,o=Error(a(419)),o.stack="",o.digest=p,$o({value:o,source:null,stack:null}),n=kf(t,n,s)}else if(Xt||Pa(t,n,s,!1),p=(s&t.childLanes)!==0,Xt||p){if(p=Et,p!==null&&(o=je(p,s),o!==0&&o!==D.retryLane))throw D.retryLane=o,Hs(t,o),kn(p,t,o),xf;gd(E)||hc(),n=kf(t,n,s)}else gd(E)?(n.flags|=192,n.child=t.child,n=null):(t=D.treeContext,bt=oi(E.nextSibling),dn=n,et=!0,Gr=null,si=!1,t!==null&&Dg(n,t),n=Lf(n,o.children),n.flags|=4096);return n}return h?(Jr(),E=o.fallback,h=n.mode,D=t.child,B=D.sibling,o=ar(D,{mode:"hidden",children:o.children}),o.subtreeFlags=D.subtreeFlags&65011712,B!==null?E=ar(B,E):(E=qs(E,h,s,null),E.flags|=2),E.return=n,o.return=n,o.sibling=E,n.child=o,cl(null,o),o=n.child,E=t.child.memoizedState,E===null?E=Mf(s):(h=E.cachePool,h!==null?(D=Kt._currentValue,h=h.parent!==D?{parent:D,pool:D}:h):h=Pg(),E={baseLanes:E.baseLanes|s,cachePool:h}),o.memoizedState=E,o.childLanes=Vf(t,p,s),n.memoizedState=Of,cl(t.child,o)):(Zr(n),s=t.child,t=s.sibling,s=ar(s,{mode:"visible",children:o.children}),s.return=n,s.sibling=null,t!==null&&(p=n.deletions,p===null?(n.deletions=[t],n.flags|=16):p.push(t)),n.child=s,n.memoizedState=null,s)}function Lf(t,n){return n=nc({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function nc(t,n){return t=Bn(22,t,null,n),t.lanes=0,t}function kf(t,n,s){return Zs(n,t.child,null,s),t=Lf(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function Zp(t,n,s){t.lanes|=n;var o=t.alternate;o!==null&&(o.lanes|=n),Zh(t.return,n,s)}function Pf(t,n,s,o,h,f){var p=t.memoizedState;p===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:o,tail:s,tailMode:h,treeForkCount:f}:(p.isBackwards=n,p.rendering=null,p.renderingStartTime=0,p.last=o,p.tail=s,p.tailMode=h,p.treeForkCount=f)}function Jp(t,n,s){var o=n.pendingProps,h=o.revealOrder,f=o.tail;o=o.children;var p=Ht.current,E=(p&2)!==0;if(E?(p=p&1|2,n.flags|=128):p&=1,ce(Ht,p),gn(t,n,o,s),o=et?Jo:0,!E&&t!==null&&(t.flags&128)!==0)e:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Zp(t,s,n);else if(t.tag===19)Zp(t,s,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break e;for(;t.sibling===null;){if(t.return===null||t.return===n)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(h){case"forwards":for(s=n.child,h=null;s!==null;)t=s.alternate,t!==null&&Gu(t)===null&&(h=s),s=s.sibling;s=h,s===null?(h=n.child,n.child=null):(h=s.sibling,s.sibling=null),Pf(n,!1,h,s,f,o);break;case"backwards":case"unstable_legacy-backwards":for(s=null,h=n.child,n.child=null;h!==null;){if(t=h.alternate,t!==null&&Gu(t)===null){n.child=h;break}t=h.sibling,h.sibling=s,s=h,h=t}Pf(n,!0,s,null,f,o);break;case"together":Pf(n,!1,null,null,void 0,o);break;default:n.memoizedState=null}return n.child}function fr(t,n,s){if(t!==null&&(n.dependencies=t.dependencies),es|=n.lanes,(s&n.childLanes)===0)if(t!==null){if(Pa(t,n,s,!1),(s&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(a(153));if(n.child!==null){for(t=n.child,s=ar(t,t.pendingProps),n.child=s,s.return=n;t.sibling!==null;)t=t.sibling,s=s.sibling=ar(t,t.pendingProps),s.return=n;s.sibling=null}return n.child}function Uf(t,n){return(t.lanes&n)!==0?!0:(t=t.dependencies,!!(t!==null&&ku(t)))}function _1(t,n,s){switch(n.tag){case 3:Ut(n,n.stateNode.containerInfo),Yr(n,Kt,t.memoizedState.cache),Gs();break;case 27:case 5:Qn(n);break;case 4:Ut(n,n.stateNode.containerInfo);break;case 10:Yr(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,uf(n),null;break;case 13:var o=n.memoizedState;if(o!==null)return o.dehydrated!==null?(Zr(n),n.flags|=128,null):(s&n.child.childLanes)!==0?Xp(t,n,s):(Zr(n),t=fr(t,n,s),t!==null?t.sibling:null);Zr(n);break;case 19:var h=(t.flags&128)!==0;if(o=(s&n.childLanes)!==0,o||(Pa(t,n,s,!1),o=(s&n.childLanes)!==0),h){if(o)return Jp(t,n,s);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),ce(Ht,Ht.current),o)break;return null;case 22:return n.lanes=0,qp(t,n,s,n.pendingProps);case 24:Yr(n,Kt,t.memoizedState.cache)}return fr(t,n,s)}function $p(t,n,s){if(t!==null)if(t.memoizedProps!==n.pendingProps)Xt=!0;else{if(!Uf(t,s)&&(n.flags&128)===0)return Xt=!1,_1(t,n,s);Xt=(t.flags&131072)!==0}else Xt=!1,et&&(n.flags&1048576)!==0&&xg(n,Jo,n.index);switch(n.lanes=0,n.tag){case 16:e:{var o=n.pendingProps;if(t=Qs(n.elementType),n.type=t,typeof t=="function")Hh(t)?(o=$s(t,o),n.tag=1,n=Kp(null,n,t,o,s)):(n.tag=0,n=Df(null,n,t,o,s));else{if(t!=null){var h=t.$$typeof;if(h===qe){n.tag=11,n=jp(null,n,t,o,s);break e}else if(h===N){n.tag=14,n=Bp(null,n,t,o,s);break e}}throw n=gt(t)||t,Error(a(306,n,""))}}return n;case 0:return Df(t,n,n.type,n.pendingProps,s);case 1:return o=n.type,h=$s(o,n.pendingProps),Kp(t,n,o,h,s);case 3:e:{if(Ut(n,n.stateNode.containerInfo),t===null)throw Error(a(387));o=n.pendingProps;var f=n.memoizedState;h=f.element,rf(t,n),sl(n,o,null,s);var p=n.memoizedState;if(o=p.cache,Yr(n,Kt,o),o!==f.cache&&Jh(n,[Kt],s,!0),rl(),o=p.element,f.isDehydrated)if(f={element:o,isDehydrated:!1,cache:p.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=Qp(t,n,o,s);break e}else if(o!==h){h=ni(Error(a(424)),n),$o(h),n=Qp(t,n,o,s);break e}else{switch(t=n.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(bt=oi(t.firstChild),dn=n,et=!0,Gr=null,si=!0,s=qg(n,null,o,s),n.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling}else{if(Gs(),o===h){n=fr(t,n,s);break e}gn(t,n,o,s)}n=n.child}return n;case 26:return tc(t,n),t===null?(s=u0(n.type,null,n.pendingProps,null))?n.memoizedState=s:et||(s=n.type,t=n.pendingProps,o=_c(xe.current).createElement(s),o[Nt]=n,o[Lt]=t,pn(o,s,t),Ft(o),n.stateNode=o):n.memoizedState=u0(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return Qn(n),t===null&&et&&(o=n.stateNode=a0(n.type,n.pendingProps,xe.current),dn=n,si=!0,h=bt,ss(n.type)?(yd=h,bt=oi(o.firstChild)):bt=h),gn(t,n,n.pendingProps.children,s),tc(t,n),t===null&&(n.flags|=4194304),n.child;case 5:return t===null&&et&&((h=o=bt)&&(o=Q1(o,n.type,n.pendingProps,si),o!==null?(n.stateNode=o,dn=n,bt=oi(o.firstChild),si=!1,h=!0):h=!1),h||Fr(n)),Qn(n),h=n.type,f=n.pendingProps,p=t!==null?t.memoizedProps:null,o=f.children,fd(h,f)?o=null:p!==null&&fd(h,p)&&(n.flags|=32),n.memoizedState!==null&&(h=hf(t,n,u1,null,null,s),wl._currentValue=h),tc(t,n),gn(t,n,o,s),n.child;case 6:return t===null&&et&&((t=s=bt)&&(s=X1(s,n.pendingProps,si),s!==null?(n.stateNode=s,dn=n,bt=null,t=!0):t=!1),t||Fr(n)),null;case 13:return Xp(t,n,s);case 4:return Ut(n,n.stateNode.containerInfo),o=n.pendingProps,t===null?n.child=Zs(n,null,o,s):gn(t,n,o,s),n.child;case 11:return jp(t,n,n.type,n.pendingProps,s);case 7:return gn(t,n,n.pendingProps,s),n.child;case 8:return gn(t,n,n.pendingProps.children,s),n.child;case 12:return gn(t,n,n.pendingProps.children,s),n.child;case 10:return o=n.pendingProps,Yr(n,n.type,o.value),gn(t,n,o.children,s),n.child;case 9:return h=n.type._context,o=n.pendingProps.children,Ys(n),h=mn(h),o=o(h),n.flags|=1,gn(t,n,o,s),n.child;case 14:return Bp(t,n,n.type,n.pendingProps,s);case 15:return Hp(t,n,n.type,n.pendingProps,s);case 19:return Jp(t,n,s);case 31:return y1(t,n,s);case 22:return qp(t,n,s,n.pendingProps);case 24:return Ys(n),o=mn(Kt),t===null?(h=ef(),h===null&&(h=Et,f=$h(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=s),h=f),n.memoizedState={parent:o,cache:h},nf(n),Yr(n,Kt,h)):((t.lanes&s)!==0&&(rf(t,n),sl(n,null,null,s),rl()),h=t.memoizedState,f=n.memoizedState,h.parent!==o?(h={parent:o,cache:o},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),Yr(n,Kt,o)):(o=f.cache,Yr(n,Kt,o),o!==h.cache&&Jh(n,[Kt],s,!0))),gn(t,n,n.pendingProps.children,s),n.child;case 29:throw n.pendingProps}throw Error(a(156,n.tag))}function dr(t){t.flags|=4}function zf(t,n,s,o,h){if((n=(t.mode&32)!==0)&&(n=!1),n){if(t.flags|=16777216,(h&335544128)===h)if(t.stateNode.complete)t.flags|=8192;else if(wy())t.flags|=8192;else throw Xs=ju,tf}else t.flags&=-16777217}function Wp(t,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!m0(n))if(wy())t.flags|=8192;else throw Xs=ju,tf}function ic(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?Mt():536870912,t.lanes|=n,Xa|=n)}function hl(t,n){if(!et)switch(t.tailMode){case"hidden":n=t.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?t.tail=null:s.sibling=null;break;case"collapsed":s=t.tail;for(var o=null;s!==null;)s.alternate!==null&&(o=s),s=s.sibling;o===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:o.sibling=null}}function wt(t){var n=t.alternate!==null&&t.alternate.child===t.child,s=0,o=0;if(n)for(var h=t.child;h!==null;)s|=h.lanes|h.childLanes,o|=h.subtreeFlags&65011712,o|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)s|=h.lanes|h.childLanes,o|=h.subtreeFlags,o|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=o,t.childLanes=s,n}function v1(t,n,s){var o=n.pendingProps;switch(Yh(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return wt(n),null;case 1:return wt(n),null;case 3:return s=n.stateNode,o=null,t!==null&&(o=t.memoizedState.cache),n.memoizedState.cache!==o&&(n.flags|=2048),ur(Kt),At(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(t===null||t.child===null)&&(ka(n)?dr(n):t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Qh())),wt(n),null;case 26:var h=n.type,f=n.memoizedState;return t===null?(dr(n),f!==null?(wt(n),Wp(n,f)):(wt(n),zf(n,h,null,o,s))):f?f!==t.memoizedState?(dr(n),wt(n),Wp(n,f)):(wt(n),n.flags&=-16777217):(t=t.memoizedProps,t!==o&&dr(n),wt(n),zf(n,h,t,o,s)),null;case 27:if(Nr(n),s=xe.current,h=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==o&&dr(n);else{if(!o){if(n.stateNode===null)throw Error(a(166));return wt(n),null}t=he.current,ka(n)?Og(n):(t=a0(h,o,s),n.stateNode=t,dr(n))}return wt(n),null;case 5:if(Nr(n),h=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==o&&dr(n);else{if(!o){if(n.stateNode===null)throw Error(a(166));return wt(n),null}if(f=he.current,ka(n))Og(n);else{var p=_c(xe.current);switch(f){case 1:f=p.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:f=p.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":f=p.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":f=p.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":f=p.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof o.is=="string"?p.createElement("select",{is:o.is}):p.createElement("select"),o.multiple?f.multiple=!0:o.size&&(f.size=o.size);break;default:f=typeof o.is=="string"?p.createElement(h,{is:o.is}):p.createElement(h)}}f[Nt]=n,f[Lt]=o;e:for(p=n.child;p!==null;){if(p.tag===5||p.tag===6)f.appendChild(p.stateNode);else if(p.tag!==4&&p.tag!==27&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===n)break e;for(;p.sibling===null;){if(p.return===null||p.return===n)break e;p=p.return}p.sibling.return=p.return,p=p.sibling}n.stateNode=f;e:switch(pn(f,h,o),h){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break e;case"img":o=!0;break e;default:o=!1}o&&dr(n)}}return wt(n),zf(n,n.type,t===null?null:t.memoizedProps,n.pendingProps,s),null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==o&&dr(n);else{if(typeof o!="string"&&n.stateNode===null)throw Error(a(166));if(t=xe.current,ka(n)){if(t=n.stateNode,s=n.memoizedProps,o=null,h=dn,h!==null)switch(h.tag){case 27:case 5:o=h.memoizedProps}t[Nt]=n,t=!!(t.nodeValue===s||o!==null&&o.suppressHydrationWarning===!0||Xy(t.nodeValue,s)),t||Fr(n,!0)}else t=_c(t).createTextNode(o),t[Nt]=n,n.stateNode=t}return wt(n),null;case 31:if(s=n.memoizedState,t===null||t.memoizedState!==null){if(o=ka(n),s!==null){if(t===null){if(!o)throw Error(a(318));if(t=n.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(557));t[Nt]=n}else Gs(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;wt(n),t=!1}else s=Qh(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=s),t=!0;if(!t)return n.flags&256?(qn(n),n):(qn(n),null);if((n.flags&128)!==0)throw Error(a(558))}return wt(n),null;case 13:if(o=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=ka(n),o!==null&&o.dehydrated!==null){if(t===null){if(!h)throw Error(a(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(a(317));h[Nt]=n}else Gs(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;wt(n),h=!1}else h=Qh(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return n.flags&256?(qn(n),n):(qn(n),null)}return qn(n),(n.flags&128)!==0?(n.lanes=s,n):(s=o!==null,t=t!==null&&t.memoizedState!==null,s&&(o=n.child,h=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(h=o.alternate.memoizedState.cachePool.pool),f=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),f!==h&&(o.flags|=2048)),s!==t&&s&&(n.child.flags|=8192),ic(n,n.updateQueue),wt(n),null);case 4:return At(),t===null&&od(n.stateNode.containerInfo),wt(n),null;case 10:return ur(n.type),wt(n),null;case 19:if(X(Ht),o=n.memoizedState,o===null)return wt(n),null;if(h=(n.flags&128)!==0,f=o.rendering,f===null)if(h)hl(o,!1);else{if(Pt!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(f=Gu(t),f!==null){for(n.flags|=128,hl(o,!1),t=f.updateQueue,n.updateQueue=t,ic(n,t),n.subtreeFlags=0,t=s,s=n.child;s!==null;)Cg(s,t),s=s.sibling;return ce(Ht,Ht.current&1|2),et&&or(n,o.treeForkCount),n.child}t=t.sibling}o.tail!==null&&un()>lc&&(n.flags|=128,h=!0,hl(o,!1),n.lanes=4194304)}else{if(!h)if(t=Gu(f),t!==null){if(n.flags|=128,h=!0,t=t.updateQueue,n.updateQueue=t,ic(n,t),hl(o,!0),o.tail===null&&o.tailMode==="hidden"&&!f.alternate&&!et)return wt(n),null}else 2*un()-o.renderingStartTime>lc&&s!==536870912&&(n.flags|=128,h=!0,hl(o,!1),n.lanes=4194304);o.isBackwards?(f.sibling=n.child,n.child=f):(t=o.last,t!==null?t.sibling=f:n.child=f,o.last=f)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=un(),t.sibling=null,s=Ht.current,ce(Ht,h?s&1|2:s&1),et&&or(n,o.treeForkCount),t):(wt(n),null);case 22:case 23:return qn(n),lf(),o=n.memoizedState!==null,t!==null?t.memoizedState!==null!==o&&(n.flags|=8192):o&&(n.flags|=8192),o?(s&536870912)!==0&&(n.flags&128)===0&&(wt(n),n.subtreeFlags&6&&(n.flags|=8192)):wt(n),s=n.updateQueue,s!==null&&ic(n,s.retryQueue),s=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),o=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),o!==s&&(n.flags|=2048),t!==null&&X(Ks),null;case 24:return s=null,t!==null&&(s=t.memoizedState.cache),n.memoizedState.cache!==s&&(n.flags|=2048),ur(Kt),wt(n),null;case 25:return null;case 30:return null}throw Error(a(156,n.tag))}function T1(t,n){switch(Yh(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return ur(Kt),At(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return Nr(n),null;case 31:if(n.memoizedState!==null){if(qn(n),n.alternate===null)throw Error(a(340));Gs()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 13:if(qn(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(a(340));Gs()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return X(Ht),null;case 4:return At(),null;case 10:return ur(n.type),null;case 22:case 23:return qn(n),lf(),t!==null&&X(Ks),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return ur(Kt),null;case 25:return null;default:return null}}function ey(t,n){switch(Yh(n),n.tag){case 3:ur(Kt),At();break;case 26:case 27:case 5:Nr(n);break;case 4:At();break;case 31:n.memoizedState!==null&&qn(n);break;case 13:qn(n);break;case 19:X(Ht);break;case 10:ur(n.type);break;case 22:case 23:qn(n),lf(),t!==null&&X(Ks);break;case 24:ur(Kt)}}function fl(t,n){try{var s=n.updateQueue,o=s!==null?s.lastEffect:null;if(o!==null){var h=o.next;s=h;do{if((s.tag&t)===t){o=void 0;var f=s.create,p=s.inst;o=f(),p.destroy=o}s=s.next}while(s!==h)}}catch(E){mt(n,n.return,E)}}function $r(t,n,s){try{var o=n.updateQueue,h=o!==null?o.lastEffect:null;if(h!==null){var f=h.next;o=f;do{if((o.tag&t)===t){var p=o.inst,E=p.destroy;if(E!==void 0){p.destroy=void 0,h=n;var D=s,B=E;try{B()}catch(Q){mt(h,D,Q)}}}o=o.next}while(o!==f)}}catch(Q){mt(n,n.return,Q)}}function ty(t){var n=t.updateQueue;if(n!==null){var s=t.stateNode;try{Fg(n,s)}catch(o){mt(t,t.return,o)}}}function ny(t,n,s){s.props=$s(t.type,t.memoizedProps),s.state=t.memoizedState;try{s.componentWillUnmount()}catch(o){mt(t,n,o)}}function dl(t,n){try{var s=t.ref;if(s!==null){switch(t.tag){case 26:case 27:case 5:var o=t.stateNode;break;case 30:o=t.stateNode;break;default:o=t.stateNode}typeof s=="function"?t.refCleanup=s(o):s.current=o}}catch(h){mt(t,n,h)}}function Bi(t,n){var s=t.ref,o=t.refCleanup;if(s!==null)if(typeof o=="function")try{o()}catch(h){mt(t,n,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(h){mt(t,n,h)}else s.current=null}function iy(t){var n=t.type,s=t.memoizedProps,o=t.stateNode;try{e:switch(n){case"button":case"input":case"select":case"textarea":s.autoFocus&&o.focus();break e;case"img":s.src?o.src=s.src:s.srcSet&&(o.srcset=s.srcSet)}}catch(h){mt(t,t.return,h)}}function jf(t,n,s){try{var o=t.stateNode;H1(o,t.type,s,n),o[Lt]=n}catch(h){mt(t,t.return,h)}}function ry(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&ss(t.type)||t.tag===4}function Bf(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||ry(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&ss(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Hf(t,n,s){var o=t.tag;if(o===5||o===6)t=t.stateNode,n?(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s).insertBefore(t,n):(n=s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,n.appendChild(t),s=s._reactRootContainer,s!=null||n.onclick!==null||(n.onclick=fi));else if(o!==4&&(o===27&&ss(t.type)&&(s=t.stateNode,n=null),t=t.child,t!==null))for(Hf(t,n,s),t=t.sibling;t!==null;)Hf(t,n,s),t=t.sibling}function rc(t,n,s){var o=t.tag;if(o===5||o===6)t=t.stateNode,n?s.insertBefore(t,n):s.appendChild(t);else if(o!==4&&(o===27&&ss(t.type)&&(s=t.stateNode),t=t.child,t!==null))for(rc(t,n,s),t=t.sibling;t!==null;)rc(t,n,s),t=t.sibling}function sy(t){var n=t.stateNode,s=t.memoizedProps;try{for(var o=t.type,h=n.attributes;h.length;)n.removeAttributeNode(h[0]);pn(n,o,s),n[Nt]=t,n[Lt]=s}catch(f){mt(t,t.return,f)}}var mr=!1,Zt=!1,qf=!1,ay=typeof WeakSet=="function"?WeakSet:Set,on=null;function E1(t,n){if(t=t.containerInfo,cd=wc,t=_g(t),Lh(t)){if("selectionStart"in t)var s={start:t.selectionStart,end:t.selectionEnd};else e:{s=(s=t.ownerDocument)&&s.defaultView||window;var o=s.getSelection&&s.getSelection();if(o&&o.rangeCount!==0){s=o.anchorNode;var h=o.anchorOffset,f=o.focusNode;o=o.focusOffset;try{s.nodeType,f.nodeType}catch{s=null;break e}var p=0,E=-1,D=-1,B=0,Q=0,J=t,H=null;t:for(;;){for(var Y;J!==s||h!==0&&J.nodeType!==3||(E=p+h),J!==f||o!==0&&J.nodeType!==3||(D=p+o),J.nodeType===3&&(p+=J.nodeValue.length),(Y=J.firstChild)!==null;)H=J,J=Y;for(;;){if(J===t)break t;if(H===s&&++B===h&&(E=p),H===f&&++Q===o&&(D=p),(Y=J.nextSibling)!==null)break;J=H,H=J.parentNode}J=Y}s=E===-1||D===-1?null:{start:E,end:D}}else s=null}s=s||{start:0,end:0}}else s=null;for(hd={focusedElem:t,selectionRange:s},wc=!1,on=n;on!==null;)if(n=on,t=n.child,(n.subtreeFlags&1028)!==0&&t!==null)t.return=n,on=t;else for(;on!==null;){switch(n=on,f=n.alternate,t=n.flags,n.tag){case 0:if((t&4)!==0&&(t=n.updateQueue,t=t!==null?t.events:null,t!==null))for(s=0;s<t.length;s++)h=t[s],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&f!==null){t=void 0,s=n,h=f.memoizedProps,f=f.memoizedState,o=s.stateNode;try{var pe=$s(s.type,h);t=o.getSnapshotBeforeUpdate(pe,f),o.__reactInternalSnapshotBeforeUpdate=t}catch(Re){mt(s,s.return,Re)}}break;case 3:if((t&1024)!==0){if(t=n.stateNode.containerInfo,s=t.nodeType,s===9)md(t);else if(s===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":md(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(a(163))}if(t=n.sibling,t!==null){t.return=n.return,on=t;break}on=n.return}}function oy(t,n,s){var o=s.flags;switch(s.tag){case 0:case 11:case 15:pr(t,s),o&4&&fl(5,s);break;case 1:if(pr(t,s),o&4)if(t=s.stateNode,n===null)try{t.componentDidMount()}catch(p){mt(s,s.return,p)}else{var h=$s(s.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(h,n,t.__reactInternalSnapshotBeforeUpdate)}catch(p){mt(s,s.return,p)}}o&64&&ty(s),o&512&&dl(s,s.return);break;case 3:if(pr(t,s),o&64&&(t=s.updateQueue,t!==null)){if(n=null,s.child!==null)switch(s.child.tag){case 27:case 5:n=s.child.stateNode;break;case 1:n=s.child.stateNode}try{Fg(t,n)}catch(p){mt(s,s.return,p)}}break;case 27:n===null&&o&4&&sy(s);case 26:case 5:pr(t,s),n===null&&o&4&&iy(s),o&512&&dl(s,s.return);break;case 12:pr(t,s);break;case 31:pr(t,s),o&4&&cy(t,s);break;case 13:pr(t,s),o&4&&hy(t,s),o&64&&(t=s.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(s=x1.bind(null,s),Z1(t,s))));break;case 22:if(o=s.memoizedState!==null||mr,!o){n=n!==null&&n.memoizedState!==null||Zt,h=mr;var f=Zt;mr=o,(Zt=n)&&!f?yr(t,s,(s.subtreeFlags&8772)!==0):pr(t,s),mr=h,Zt=f}break;case 30:break;default:pr(t,s)}}function ly(t){var n=t.alternate;n!==null&&(t.alternate=null,ly(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&va(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var Dt=null,On=!1;function gr(t,n,s){for(s=s.child;s!==null;)uy(t,n,s),s=s.sibling}function uy(t,n,s){if(jt&&typeof jt.onCommitFiberUnmount=="function")try{jt.onCommitFiberUnmount(Rn,s)}catch{}switch(s.tag){case 26:Zt||Bi(s,n),gr(t,n,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:Zt||Bi(s,n);var o=Dt,h=On;ss(s.type)&&(Dt=s.stateNode,On=!1),gr(t,n,s),Sl(s.stateNode),Dt=o,On=h;break;case 5:Zt||Bi(s,n);case 6:if(o=Dt,h=On,Dt=null,gr(t,n,s),Dt=o,On=h,Dt!==null)if(On)try{(Dt.nodeType===9?Dt.body:Dt.nodeName==="HTML"?Dt.ownerDocument.body:Dt).removeChild(s.stateNode)}catch(f){mt(s,n,f)}else try{Dt.removeChild(s.stateNode)}catch(f){mt(s,n,f)}break;case 18:Dt!==null&&(On?(t=Dt,t0(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,s.stateNode),io(t)):t0(Dt,s.stateNode));break;case 4:o=Dt,h=On,Dt=s.stateNode.containerInfo,On=!0,gr(t,n,s),Dt=o,On=h;break;case 0:case 11:case 14:case 15:$r(2,s,n),Zt||$r(4,s,n),gr(t,n,s);break;case 1:Zt||(Bi(s,n),o=s.stateNode,typeof o.componentWillUnmount=="function"&&ny(s,n,o)),gr(t,n,s);break;case 21:gr(t,n,s);break;case 22:Zt=(o=Zt)||s.memoizedState!==null,gr(t,n,s),Zt=o;break;default:gr(t,n,s)}}function cy(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{io(t)}catch(s){mt(n,n.return,s)}}}function hy(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{io(t)}catch(s){mt(n,n.return,s)}}function S1(t){switch(t.tag){case 31:case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new ay),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new ay),n;default:throw Error(a(435,t.tag))}}function sc(t,n){var s=S1(t);n.forEach(function(o){if(!s.has(o)){s.add(o);var h=D1.bind(null,t,o);o.then(h,h)}})}function Mn(t,n){var s=n.deletions;if(s!==null)for(var o=0;o<s.length;o++){var h=s[o],f=t,p=n,E=p;e:for(;E!==null;){switch(E.tag){case 27:if(ss(E.type)){Dt=E.stateNode,On=!1;break e}break;case 5:Dt=E.stateNode,On=!1;break e;case 3:case 4:Dt=E.stateNode.containerInfo,On=!0;break e}E=E.return}if(Dt===null)throw Error(a(160));uy(f,p,h),Dt=null,On=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)fy(n,t),n=n.sibling}var _i=null;function fy(t,n){var s=t.alternate,o=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:Mn(n,t),Vn(t),o&4&&($r(3,t,t.return),fl(3,t),$r(5,t,t.return));break;case 1:Mn(n,t),Vn(t),o&512&&(Zt||s===null||Bi(s,s.return)),o&64&&mr&&(t=t.updateQueue,t!==null&&(o=t.callbacks,o!==null&&(s=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=s===null?o:s.concat(o))));break;case 26:var h=_i;if(Mn(n,t),Vn(t),o&512&&(Zt||s===null||Bi(s,s.return)),o&4){var f=s!==null?s.memoizedState:null;if(o=t.memoizedState,s===null)if(o===null)if(t.stateNode===null){e:{o=t.type,s=t.memoizedProps,h=h.ownerDocument||h;t:switch(o){case"title":f=h.getElementsByTagName("title")[0],(!f||f[Ci]||f[Nt]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(o),h.head.insertBefore(f,h.querySelector("head > title"))),pn(f,o,s),f[Nt]=t,Ft(f),o=f;break e;case"link":var p=f0("link","href",h).get(o+(s.href||""));if(p){for(var E=0;E<p.length;E++)if(f=p[E],f.getAttribute("href")===(s.href==null||s.href===""?null:s.href)&&f.getAttribute("rel")===(s.rel==null?null:s.rel)&&f.getAttribute("title")===(s.title==null?null:s.title)&&f.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){p.splice(E,1);break t}}f=h.createElement(o),pn(f,o,s),h.head.appendChild(f);break;case"meta":if(p=f0("meta","content",h).get(o+(s.content||""))){for(E=0;E<p.length;E++)if(f=p[E],f.getAttribute("content")===(s.content==null?null:""+s.content)&&f.getAttribute("name")===(s.name==null?null:s.name)&&f.getAttribute("property")===(s.property==null?null:s.property)&&f.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&f.getAttribute("charset")===(s.charSet==null?null:s.charSet)){p.splice(E,1);break t}}f=h.createElement(o),pn(f,o,s),h.head.appendChild(f);break;default:throw Error(a(468,o))}f[Nt]=t,Ft(f),o=f}t.stateNode=o}else d0(h,t.type,t.stateNode);else t.stateNode=h0(h,o,t.memoizedProps);else f!==o?(f===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):f.count--,o===null?d0(h,t.type,t.stateNode):h0(h,o,t.memoizedProps)):o===null&&t.stateNode!==null&&jf(t,t.memoizedProps,s.memoizedProps)}break;case 27:Mn(n,t),Vn(t),o&512&&(Zt||s===null||Bi(s,s.return)),s!==null&&o&4&&jf(t,t.memoizedProps,s.memoizedProps);break;case 5:if(Mn(n,t),Vn(t),o&512&&(Zt||s===null||Bi(s,s.return)),t.flags&32){h=t.stateNode;try{Dn(h,"")}catch(pe){mt(t,t.return,pe)}}o&4&&t.stateNode!=null&&(h=t.memoizedProps,jf(t,h,s!==null?s.memoizedProps:h)),o&1024&&(qf=!0);break;case 6:if(Mn(n,t),Vn(t),o&4){if(t.stateNode===null)throw Error(a(162));o=t.memoizedProps,s=t.stateNode;try{s.nodeValue=o}catch(pe){mt(t,t.return,pe)}}break;case 3:if(Ec=null,h=_i,_i=vc(n.containerInfo),Mn(n,t),_i=h,Vn(t),o&4&&s!==null&&s.memoizedState.isDehydrated)try{io(n.containerInfo)}catch(pe){mt(t,t.return,pe)}qf&&(qf=!1,dy(t));break;case 4:o=_i,_i=vc(t.stateNode.containerInfo),Mn(n,t),Vn(t),_i=o;break;case 12:Mn(n,t),Vn(t);break;case 31:Mn(n,t),Vn(t),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,sc(t,o)));break;case 13:Mn(n,t),Vn(t),t.child.flags&8192&&t.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(oc=un()),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,sc(t,o)));break;case 22:h=t.memoizedState!==null;var D=s!==null&&s.memoizedState!==null,B=mr,Q=Zt;if(mr=B||h,Zt=Q||D,Mn(n,t),Zt=Q,mr=B,Vn(t),o&8192)e:for(n=t.stateNode,n._visibility=h?n._visibility&-2:n._visibility|1,h&&(s===null||D||mr||Zt||Ws(t)),s=null,n=t;;){if(n.tag===5||n.tag===26){if(s===null){D=s=n;try{if(f=D.stateNode,h)p=f.style,typeof p.setProperty=="function"?p.setProperty("display","none","important"):p.display="none";else{E=D.stateNode;var J=D.memoizedProps.style,H=J!=null&&J.hasOwnProperty("display")?J.display:null;E.style.display=H==null||typeof H=="boolean"?"":(""+H).trim()}}catch(pe){mt(D,D.return,pe)}}}else if(n.tag===6){if(s===null){D=n;try{D.stateNode.nodeValue=h?"":D.memoizedProps}catch(pe){mt(D,D.return,pe)}}}else if(n.tag===18){if(s===null){D=n;try{var Y=D.stateNode;h?n0(Y,!0):n0(D.stateNode,!1)}catch(pe){mt(D,D.return,pe)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break e;for(;n.sibling===null;){if(n.return===null||n.return===t)break e;s===n&&(s=null),n=n.return}s===n&&(s=null),n.sibling.return=n.return,n=n.sibling}o&4&&(o=t.updateQueue,o!==null&&(s=o.retryQueue,s!==null&&(o.retryQueue=null,sc(t,s))));break;case 19:Mn(n,t),Vn(t),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,sc(t,o)));break;case 30:break;case 21:break;default:Mn(n,t),Vn(t)}}function Vn(t){var n=t.flags;if(n&2){try{for(var s,o=t.return;o!==null;){if(ry(o)){s=o;break}o=o.return}if(s==null)throw Error(a(160));switch(s.tag){case 27:var h=s.stateNode,f=Bf(t);rc(t,f,h);break;case 5:var p=s.stateNode;s.flags&32&&(Dn(p,""),s.flags&=-33);var E=Bf(t);rc(t,E,p);break;case 3:case 4:var D=s.stateNode.containerInfo,B=Bf(t);Hf(t,B,D);break;default:throw Error(a(161))}}catch(Q){mt(t,t.return,Q)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function dy(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;dy(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function pr(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)oy(t,n.alternate,n),n=n.sibling}function Ws(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:$r(4,n,n.return),Ws(n);break;case 1:Bi(n,n.return);var s=n.stateNode;typeof s.componentWillUnmount=="function"&&ny(n,n.return,s),Ws(n);break;case 27:Sl(n.stateNode);case 26:case 5:Bi(n,n.return),Ws(n);break;case 22:n.memoizedState===null&&Ws(n);break;case 30:Ws(n);break;default:Ws(n)}t=t.sibling}}function yr(t,n,s){for(s=s&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var o=n.alternate,h=t,f=n,p=f.flags;switch(f.tag){case 0:case 11:case 15:yr(h,f,s),fl(4,f);break;case 1:if(yr(h,f,s),o=f,h=o.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(B){mt(o,o.return,B)}if(o=f,h=o.updateQueue,h!==null){var E=o.stateNode;try{var D=h.shared.hiddenCallbacks;if(D!==null)for(h.shared.hiddenCallbacks=null,h=0;h<D.length;h++)Gg(D[h],E)}catch(B){mt(o,o.return,B)}}s&&p&64&&ty(f),dl(f,f.return);break;case 27:sy(f);case 26:case 5:yr(h,f,s),s&&o===null&&p&4&&iy(f),dl(f,f.return);break;case 12:yr(h,f,s);break;case 31:yr(h,f,s),s&&p&4&&cy(h,f);break;case 13:yr(h,f,s),s&&p&4&&hy(h,f);break;case 22:f.memoizedState===null&&yr(h,f,s),dl(f,f.return);break;case 30:break;default:yr(h,f,s)}n=n.sibling}}function Gf(t,n){var s=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==s&&(t!=null&&t.refCount++,s!=null&&Wo(s))}function Ff(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&Wo(t))}function vi(t,n,s,o){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)my(t,n,s,o),n=n.sibling}function my(t,n,s,o){var h=n.flags;switch(n.tag){case 0:case 11:case 15:vi(t,n,s,o),h&2048&&fl(9,n);break;case 1:vi(t,n,s,o);break;case 3:vi(t,n,s,o),h&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&Wo(t)));break;case 12:if(h&2048){vi(t,n,s,o),t=n.stateNode;try{var f=n.memoizedProps,p=f.id,E=f.onPostCommit;typeof E=="function"&&E(p,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(D){mt(n,n.return,D)}}else vi(t,n,s,o);break;case 31:vi(t,n,s,o);break;case 13:vi(t,n,s,o);break;case 23:break;case 22:f=n.stateNode,p=n.alternate,n.memoizedState!==null?f._visibility&2?vi(t,n,s,o):ml(t,n):f._visibility&2?vi(t,n,s,o):(f._visibility|=2,Ya(t,n,s,o,(n.subtreeFlags&10256)!==0||!1)),h&2048&&Gf(p,n);break;case 24:vi(t,n,s,o),h&2048&&Ff(n.alternate,n);break;default:vi(t,n,s,o)}}function Ya(t,n,s,o,h){for(h=h&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var f=t,p=n,E=s,D=o,B=p.flags;switch(p.tag){case 0:case 11:case 15:Ya(f,p,E,D,h),fl(8,p);break;case 23:break;case 22:var Q=p.stateNode;p.memoizedState!==null?Q._visibility&2?Ya(f,p,E,D,h):ml(f,p):(Q._visibility|=2,Ya(f,p,E,D,h)),h&&B&2048&&Gf(p.alternate,p);break;case 24:Ya(f,p,E,D,h),h&&B&2048&&Ff(p.alternate,p);break;default:Ya(f,p,E,D,h)}n=n.sibling}}function ml(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var s=t,o=n,h=o.flags;switch(o.tag){case 22:ml(s,o),h&2048&&Gf(o.alternate,o);break;case 24:ml(s,o),h&2048&&Ff(o.alternate,o);break;default:ml(s,o)}n=n.sibling}}var gl=8192;function Ka(t,n,s){if(t.subtreeFlags&gl)for(t=t.child;t!==null;)gy(t,n,s),t=t.sibling}function gy(t,n,s){switch(t.tag){case 26:Ka(t,n,s),t.flags&gl&&t.memoizedState!==null&&lS(s,_i,t.memoizedState,t.memoizedProps);break;case 5:Ka(t,n,s);break;case 3:case 4:var o=_i;_i=vc(t.stateNode.containerInfo),Ka(t,n,s),_i=o;break;case 22:t.memoizedState===null&&(o=t.alternate,o!==null&&o.memoizedState!==null?(o=gl,gl=16777216,Ka(t,n,s),gl=o):Ka(t,n,s));break;default:Ka(t,n,s)}}function py(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function pl(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var o=n[s];on=o,_y(o,t)}py(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)yy(t),t=t.sibling}function yy(t){switch(t.tag){case 0:case 11:case 15:pl(t),t.flags&2048&&$r(9,t,t.return);break;case 3:pl(t);break;case 12:pl(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&2&&(t.return===null||t.return.tag!==13)?(n._visibility&=-3,ac(t)):pl(t);break;default:pl(t)}}function ac(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var o=n[s];on=o,_y(o,t)}py(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:$r(8,n,n.return),ac(n);break;case 22:s=n.stateNode,s._visibility&2&&(s._visibility&=-3,ac(n));break;default:ac(n)}t=t.sibling}}function _y(t,n){for(;on!==null;){var s=on;switch(s.tag){case 0:case 11:case 15:$r(8,s,n);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var o=s.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:Wo(s.memoizedState.cache)}if(o=s.child,o!==null)o.return=s,on=o;else e:for(s=t;on!==null;){o=on;var h=o.sibling,f=o.return;if(ly(o),o===s){on=null;break e}if(h!==null){h.return=f,on=h;break e}on=f}}}var A1={getCacheForType:function(t){var n=mn(Kt),s=n.data.get(t);return s===void 0&&(s=t(),n.data.set(t,s)),s},cacheSignal:function(){return mn(Kt).controller.signal}},b1=typeof WeakMap=="function"?WeakMap:Map,lt=0,Et=null,Ye=null,Xe=0,dt=0,Gn=null,Wr=!1,Qa=!1,Yf=!1,_r=0,Pt=0,es=0,ea=0,Kf=0,Fn=0,Xa=0,yl=null,Ln=null,Qf=!1,oc=0,vy=0,lc=1/0,uc=null,ts=null,en=0,ns=null,Za=null,vr=0,Xf=0,Zf=null,Ty=null,_l=0,Jf=null;function Yn(){return(lt&2)!==0&&Xe!==0?Xe&-Xe:K.T!==null?id():it()}function Ey(){if(Fn===0)if((Xe&536870912)===0||et){var t=me;me<<=1,(me&3932160)===0&&(me=262144),Fn=t}else Fn=536870912;return t=Hn.current,t!==null&&(t.flags|=32),Fn}function kn(t,n,s){(t===Et&&(dt===2||dt===9)||t.cancelPendingCommit!==null)&&(Ja(t,0),is(t,Xe,Fn,!1)),Vt(t,s),((lt&2)===0||t!==Et)&&(t===Et&&((lt&2)===0&&(ea|=s),Pt===4&&is(t,Xe,Fn,!1)),Hi(t))}function Sy(t,n,s){if((lt&6)!==0)throw Error(a(327));var o=!s&&(n&127)===0&&(n&t.expiredLanes)===0||ye(t,n),h=o?C1(t,n):Wf(t,n,!0),f=o;do{if(h===0){Qa&&!o&&is(t,n,0,!1);break}else{if(s=t.current.alternate,f&&!w1(s)){h=Wf(t,n,!1),f=!1;continue}if(h===2){if(f=n,t.errorRecoveryDisabledLanes&f)var p=0;else p=t.pendingLanes&-536870913,p=p!==0?p:p&536870912?536870912:0;if(p!==0){n=p;e:{var E=t;h=yl;var D=E.current.memoizedState.isDehydrated;if(D&&(Ja(E,p).flags|=256),p=Wf(E,p,!1),p!==2){if(Yf&&!D){E.errorRecoveryDisabledLanes|=f,ea|=f,h=4;break e}f=Ln,Ln=h,f!==null&&(Ln===null?Ln=f:Ln.push.apply(Ln,f))}h=p}if(f=!1,h!==2)continue}}if(h===1){Ja(t,0),is(t,n,0,!0);break}e:{switch(o=t,f=h,f){case 0:case 1:throw Error(a(345));case 4:if((n&4194048)!==n)break;case 6:is(o,n,Fn,!Wr);break e;case 2:Ln=null;break;case 3:case 5:break;default:throw Error(a(329))}if((n&62914560)===n&&(h=oc+300-un(),10<h)){if(is(o,n,Fn,!Wr),Me(o,0,!0)!==0)break e;vr=n,o.timeoutHandle=Wy(Ay.bind(null,o,s,Ln,uc,Qf,n,Fn,ea,Xa,Wr,f,"Throttled",-0,0),h);break e}Ay(o,s,Ln,uc,Qf,n,Fn,ea,Xa,Wr,f,null,-0,0)}}break}while(!0);Hi(t)}function Ay(t,n,s,o,h,f,p,E,D,B,Q,J,H,Y){if(t.timeoutHandle=-1,J=n.subtreeFlags,J&8192||(J&16785408)===16785408){J={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:fi},gy(n,f,J);var pe=(f&62914560)===f?oc-un():(f&4194048)===f?vy-un():0;if(pe=uS(J,pe),pe!==null){vr=f,t.cancelPendingCommit=pe(Dy.bind(null,t,n,f,s,o,h,p,E,D,Q,J,null,H,Y)),is(t,f,p,!B);return}}Dy(t,n,f,s,o,h,p,E,D)}function w1(t){for(var n=t;;){var s=n.tag;if((s===0||s===11||s===15)&&n.flags&16384&&(s=n.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var o=0;o<s.length;o++){var h=s[o],f=h.getSnapshot;h=h.value;try{if(!jn(f(),h))return!1}catch{return!1}}if(s=n.child,n.subtreeFlags&16384&&s!==null)s.return=n,n=s;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function is(t,n,s,o){n&=~Kf,n&=~ea,t.suspendedLanes|=n,t.pingedLanes&=~n,o&&(t.warmLanes|=n),o=t.expirationTimes;for(var h=n;0<h;){var f=31-w(h),p=1<<f;o[f]=-1,h&=~p}s!==0&&Ve(t,s,n)}function cc(){return(lt&6)===0?(vl(0),!1):!0}function $f(){if(Ye!==null){if(dt===0)var t=Ye.return;else t=Ye,lr=Fs=null,mf(t),Ba=null,tl=0,t=Ye;for(;t!==null;)ey(t.alternate,t),t=t.return;Ye=null}}function Ja(t,n){var s=t.timeoutHandle;s!==-1&&(t.timeoutHandle=-1,F1(s)),s=t.cancelPendingCommit,s!==null&&(t.cancelPendingCommit=null,s()),vr=0,$f(),Et=t,Ye=s=ar(t.current,null),Xe=n,dt=0,Gn=null,Wr=!1,Qa=ye(t,n),Yf=!1,Xa=Fn=Kf=ea=es=Pt=0,Ln=yl=null,Qf=!1,(n&8)!==0&&(n|=n&32);var o=t.entangledLanes;if(o!==0)for(t=t.entanglements,o&=n;0<o;){var h=31-w(o),f=1<<h;n|=t[h],o&=~f}return _r=n,Du(),s}function by(t,n){He=null,K.H=ul,n===ja||n===zu?(n=jg(),dt=3):n===tf?(n=jg(),dt=4):dt=n===xf?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,Gn=n,Ye===null&&(Pt=1,Wu(t,ni(n,t.current)))}function wy(){var t=Hn.current;return t===null?!0:(Xe&4194048)===Xe?ai===null:(Xe&62914560)===Xe||(Xe&536870912)!==0?t===ai:!1}function Ry(){var t=K.H;return K.H=ul,t===null?ul:t}function Cy(){var t=K.A;return K.A=A1,t}function hc(){Pt=4,Wr||(Xe&4194048)!==Xe&&Hn.current!==null||(Qa=!0),(es&134217727)===0&&(ea&134217727)===0||Et===null||is(Et,Xe,Fn,!1)}function Wf(t,n,s){var o=lt;lt|=2;var h=Ry(),f=Cy();(Et!==t||Xe!==n)&&(uc=null,Ja(t,n)),n=!1;var p=Pt;e:do try{if(dt!==0&&Ye!==null){var E=Ye,D=Gn;switch(dt){case 8:$f(),p=6;break e;case 3:case 2:case 9:case 6:Hn.current===null&&(n=!0);var B=dt;if(dt=0,Gn=null,$a(t,E,D,B),s&&Qa){p=0;break e}break;default:B=dt,dt=0,Gn=null,$a(t,E,D,B)}}R1(),p=Pt;break}catch(Q){by(t,Q)}while(!0);return n&&t.shellSuspendCounter++,lr=Fs=null,lt=o,K.H=h,K.A=f,Ye===null&&(Et=null,Xe=0,Du()),p}function R1(){for(;Ye!==null;)Iy(Ye)}function C1(t,n){var s=lt;lt|=2;var o=Ry(),h=Cy();Et!==t||Xe!==n?(uc=null,lc=un()+500,Ja(t,n)):Qa=ye(t,n);e:do try{if(dt!==0&&Ye!==null){n=Ye;var f=Gn;t:switch(dt){case 1:dt=0,Gn=null,$a(t,n,f,1);break;case 2:case 9:if(Ug(f)){dt=0,Gn=null,Ny(n);break}n=function(){dt!==2&&dt!==9||Et!==t||(dt=7),Hi(t)},f.then(n,n);break e;case 3:dt=7;break e;case 4:dt=5;break e;case 7:Ug(f)?(dt=0,Gn=null,Ny(n)):(dt=0,Gn=null,$a(t,n,f,7));break;case 5:var p=null;switch(Ye.tag){case 26:p=Ye.memoizedState;case 5:case 27:var E=Ye;if(p?m0(p):E.stateNode.complete){dt=0,Gn=null;var D=E.sibling;if(D!==null)Ye=D;else{var B=E.return;B!==null?(Ye=B,fc(B)):Ye=null}break t}}dt=0,Gn=null,$a(t,n,f,5);break;case 6:dt=0,Gn=null,$a(t,n,f,6);break;case 8:$f(),Pt=6;break e;default:throw Error(a(462))}}I1();break}catch(Q){by(t,Q)}while(!0);return lr=Fs=null,K.H=o,K.A=h,lt=s,Ye!==null?0:(Et=null,Xe=0,Du(),Pt)}function I1(){for(;Ye!==null&&!xo();)Iy(Ye)}function Iy(t){var n=$p(t.alternate,t,_r);t.memoizedProps=t.pendingProps,n===null?fc(t):Ye=n}function Ny(t){var n=t,s=n.alternate;switch(n.tag){case 15:case 0:n=Yp(s,n,n.pendingProps,n.type,void 0,Xe);break;case 11:n=Yp(s,n,n.pendingProps,n.type.render,n.ref,Xe);break;case 5:mf(n);default:ey(s,n),n=Ye=Cg(n,_r),n=$p(s,n,_r)}t.memoizedProps=t.pendingProps,n===null?fc(t):Ye=n}function $a(t,n,s,o){lr=Fs=null,mf(n),Ba=null,tl=0;var h=n.return;try{if(p1(t,h,n,s,Xe)){Pt=1,Wu(t,ni(s,t.current)),Ye=null;return}}catch(f){if(h!==null)throw Ye=h,f;Pt=1,Wu(t,ni(s,t.current)),Ye=null;return}n.flags&32768?(et||o===1?t=!0:Qa||(Xe&536870912)!==0?t=!1:(Wr=t=!0,(o===2||o===9||o===3||o===6)&&(o=Hn.current,o!==null&&o.tag===13&&(o.flags|=16384))),xy(n,t)):fc(n)}function fc(t){var n=t;do{if((n.flags&32768)!==0){xy(n,Wr);return}t=n.return;var s=v1(n.alternate,n,_r);if(s!==null){Ye=s;return}if(n=n.sibling,n!==null){Ye=n;return}Ye=n=t}while(n!==null);Pt===0&&(Pt=5)}function xy(t,n){do{var s=T1(t.alternate,t);if(s!==null){s.flags&=32767,Ye=s;return}if(s=t.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!n&&(t=t.sibling,t!==null)){Ye=t;return}Ye=t=s}while(t!==null);Pt=6,Ye=null}function Dy(t,n,s,o,h,f,p,E,D){t.cancelPendingCommit=null;do dc();while(en!==0);if((lt&6)!==0)throw Error(a(327));if(n!==null){if(n===t.current)throw Error(a(177));if(f=n.lanes|n.childLanes,f|=jh,oe(t,s,f,p,E,D),t===Et&&(Ye=Et=null,Xe=0),Za=n,ns=t,vr=s,Xf=f,Zf=h,Ty=o,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,O1(hi,function(){return ky(),null})):(t.callbackNode=null,t.callbackPriority=0),o=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||o){o=K.T,K.T=null,h=ue.p,ue.p=2,p=lt,lt|=4;try{E1(t,n,s)}finally{lt=p,ue.p=h,K.T=o}}en=1,Oy(),My(),Vy()}}function Oy(){if(en===1){en=0;var t=ns,n=Za,s=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||s){s=K.T,K.T=null;var o=ue.p;ue.p=2;var h=lt;lt|=4;try{fy(n,t);var f=hd,p=_g(t.containerInfo),E=f.focusedElem,D=f.selectionRange;if(p!==E&&E&&E.ownerDocument&&yg(E.ownerDocument.documentElement,E)){if(D!==null&&Lh(E)){var B=D.start,Q=D.end;if(Q===void 0&&(Q=B),"selectionStart"in E)E.selectionStart=B,E.selectionEnd=Math.min(Q,E.value.length);else{var J=E.ownerDocument||document,H=J&&J.defaultView||window;if(H.getSelection){var Y=H.getSelection(),pe=E.textContent.length,Re=Math.min(D.start,pe),Tt=D.end===void 0?Re:Math.min(D.end,pe);!Y.extend&&Re>Tt&&(p=Tt,Tt=Re,Re=p);var P=pg(E,Re),M=pg(E,Tt);if(P&&M&&(Y.rangeCount!==1||Y.anchorNode!==P.node||Y.anchorOffset!==P.offset||Y.focusNode!==M.node||Y.focusOffset!==M.offset)){var j=J.createRange();j.setStart(P.node,P.offset),Y.removeAllRanges(),Re>Tt?(Y.addRange(j),Y.extend(M.node,M.offset)):(j.setEnd(M.node,M.offset),Y.addRange(j))}}}}for(J=[],Y=E;Y=Y.parentNode;)Y.nodeType===1&&J.push({element:Y,left:Y.scrollLeft,top:Y.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<J.length;E++){var Z=J[E];Z.element.scrollLeft=Z.left,Z.element.scrollTop=Z.top}}wc=!!cd,hd=cd=null}finally{lt=h,ue.p=o,K.T=s}}t.current=n,en=2}}function My(){if(en===2){en=0;var t=ns,n=Za,s=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||s){s=K.T,K.T=null;var o=ue.p;ue.p=2;var h=lt;lt|=4;try{oy(t,n.alternate,n)}finally{lt=h,ue.p=o,K.T=s}}en=3}}function Vy(){if(en===4||en===3){en=0,pa();var t=ns,n=Za,s=vr,o=Ty;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?en=5:(en=0,Za=ns=null,Ly(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(ts=null),Ne(s),n=n.stateNode,jt&&typeof jt.onCommitFiberRoot=="function")try{jt.onCommitFiberRoot(Rn,n,void 0,(n.current.flags&128)===128)}catch{}if(o!==null){n=K.T,h=ue.p,ue.p=2,K.T=null;try{for(var f=t.onRecoverableError,p=0;p<o.length;p++){var E=o[p];f(E.value,{componentStack:E.stack})}}finally{K.T=n,ue.p=h}}(vr&3)!==0&&dc(),Hi(t),h=t.pendingLanes,(s&261930)!==0&&(h&42)!==0?t===Jf?_l++:(_l=0,Jf=t):_l=0,vl(0)}}function Ly(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,Wo(n)))}function dc(){return Oy(),My(),Vy(),ky()}function ky(){if(en!==5)return!1;var t=ns,n=Xf;Xf=0;var s=Ne(vr),o=K.T,h=ue.p;try{ue.p=32>s?32:s,K.T=null,s=Zf,Zf=null;var f=ns,p=vr;if(en=0,Za=ns=null,vr=0,(lt&6)!==0)throw Error(a(331));var E=lt;if(lt|=4,yy(f.current),my(f,f.current,p,s),lt=E,vl(0,!1),jt&&typeof jt.onPostCommitFiberRoot=="function")try{jt.onPostCommitFiberRoot(Rn,f)}catch{}return!0}finally{ue.p=h,K.T=o,Ly(t,n)}}function Py(t,n,s){n=ni(s,n),n=Nf(t.stateNode,n,2),t=Xr(t,n,2),t!==null&&(Vt(t,2),Hi(t))}function mt(t,n,s){if(t.tag===3)Py(t,t,s);else for(;n!==null;){if(n.tag===3){Py(n,t,s);break}else if(n.tag===1){var o=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(ts===null||!ts.has(o))){t=ni(s,t),s=Up(2),o=Xr(n,s,2),o!==null&&(zp(s,o,n,t),Vt(o,2),Hi(o));break}}n=n.return}}function ed(t,n,s){var o=t.pingCache;if(o===null){o=t.pingCache=new b1;var h=new Set;o.set(n,h)}else h=o.get(n),h===void 0&&(h=new Set,o.set(n,h));h.has(s)||(Yf=!0,h.add(s),t=N1.bind(null,t,n,s),n.then(t,t))}function N1(t,n,s){var o=t.pingCache;o!==null&&o.delete(n),t.pingedLanes|=t.suspendedLanes&s,t.warmLanes&=~s,Et===t&&(Xe&s)===s&&(Pt===4||Pt===3&&(Xe&62914560)===Xe&&300>un()-oc?(lt&2)===0&&Ja(t,0):Kf|=s,Xa===Xe&&(Xa=0)),Hi(t)}function Uy(t,n){n===0&&(n=Mt()),t=Hs(t,n),t!==null&&(Vt(t,n),Hi(t))}function x1(t){var n=t.memoizedState,s=0;n!==null&&(s=n.retryLane),Uy(t,s)}function D1(t,n){var s=0;switch(t.tag){case 31:case 13:var o=t.stateNode,h=t.memoizedState;h!==null&&(s=h.retryLane);break;case 19:o=t.stateNode;break;case 22:o=t.stateNode._retryCache;break;default:throw Error(a(314))}o!==null&&o.delete(n),Uy(t,s)}function O1(t,n){return zt(t,n)}var mc=null,Wa=null,td=!1,gc=!1,nd=!1,rs=0;function Hi(t){t!==Wa&&t.next===null&&(Wa===null?mc=Wa=t:Wa=Wa.next=t),gc=!0,td||(td=!0,V1())}function vl(t,n){if(!nd&&gc){nd=!0;do for(var s=!1,o=mc;o!==null;){if(t!==0){var h=o.pendingLanes;if(h===0)var f=0;else{var p=o.suspendedLanes,E=o.pingedLanes;f=(1<<31-w(42|t)+1)-1,f&=h&~(p&~E),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(s=!0,Hy(o,f))}else f=Xe,f=Me(o,o===Et?f:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(f&3)===0||ye(o,f)||(s=!0,Hy(o,f));o=o.next}while(s);nd=!1}}function M1(){zy()}function zy(){gc=td=!1;var t=0;rs!==0&&G1()&&(t=rs);for(var n=un(),s=null,o=mc;o!==null;){var h=o.next,f=jy(o,n);f===0?(o.next=null,s===null?mc=h:s.next=h,h===null&&(Wa=s)):(s=o,(t!==0||(f&3)!==0)&&(gc=!0)),o=h}en!==0&&en!==5||vl(t),rs!==0&&(rs=0)}function jy(t,n){for(var s=t.suspendedLanes,o=t.pingedLanes,h=t.expirationTimes,f=t.pendingLanes&-62914561;0<f;){var p=31-w(f),E=1<<p,D=h[p];D===-1?((E&s)===0||(E&o)!==0)&&(h[p]=pt(E,n)):D<=n&&(t.expiredLanes|=E),f&=~E}if(n=Et,s=Xe,s=Me(t,t===n?s:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),o=t.callbackNode,s===0||t===n&&(dt===2||dt===9)||t.cancelPendingCommit!==null)return o!==null&&o!==null&&wi(o),t.callbackNode=null,t.callbackPriority=0;if((s&3)===0||ye(t,s)){if(n=s&-s,n===t.callbackPriority)return n;switch(o!==null&&wi(o),Ne(s)){case 2:case 8:s=xs;break;case 32:s=hi;break;case 268435456:s=ya;break;default:s=hi}return o=By.bind(null,t),s=zt(s,o),t.callbackPriority=n,t.callbackNode=s,n}return o!==null&&o!==null&&wi(o),t.callbackPriority=2,t.callbackNode=null,2}function By(t,n){if(en!==0&&en!==5)return t.callbackNode=null,t.callbackPriority=0,null;var s=t.callbackNode;if(dc()&&t.callbackNode!==s)return null;var o=Xe;return o=Me(t,t===Et?o:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),o===0?null:(Sy(t,o,n),jy(t,un()),t.callbackNode!=null&&t.callbackNode===s?By.bind(null,t):null)}function Hy(t,n){if(dc())return null;Sy(t,n,!0)}function V1(){Y1(function(){(lt&6)!==0?zt(Ri,M1):zy()})}function id(){if(rs===0){var t=Ua;t===0&&(t=ie,ie<<=1,(ie&261888)===0&&(ie=256)),rs=t}return rs}function qy(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Aa(""+t)}function Gy(t,n){var s=n.ownerDocument.createElement("input");return s.name=n.name,s.value=n.value,t.id&&s.setAttribute("form",t.id),n.parentNode.insertBefore(s,n),t=new FormData(t),s.parentNode.removeChild(s),t}function L1(t,n,s,o,h){if(n==="submit"&&s&&s.stateNode===h){var f=qy((h[Lt]||null).action),p=o.submitter;p&&(n=(n=p[Lt]||null)?qy(n.formAction):p.getAttribute("formAction"),n!==null&&(f=n,p=null));var E=new Li("action","action",null,o,h);t.push({event:E,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(rs!==0){var D=p?Gy(h,p):new FormData(h);Af(s,{pending:!0,data:D,method:h.method,action:f},null,D)}}else typeof f=="function"&&(E.preventDefault(),D=p?Gy(h,p):new FormData(h),Af(s,{pending:!0,data:D,method:h.method,action:f},f,D))},currentTarget:h}]})}}for(var rd=0;rd<zh.length;rd++){var sd=zh[rd],k1=sd.toLowerCase(),P1=sd[0].toUpperCase()+sd.slice(1);yi(k1,"on"+P1)}yi(Eg,"onAnimationEnd"),yi(Sg,"onAnimationIteration"),yi(Ag,"onAnimationStart"),yi("dblclick","onDoubleClick"),yi("focusin","onFocus"),yi("focusout","onBlur"),yi(WE,"onTransitionRun"),yi(e1,"onTransitionStart"),yi(t1,"onTransitionCancel"),yi(bg,"onTransitionEnd"),Di("onMouseEnter",["mouseout","mouseover"]),Di("onMouseLeave",["mouseout","mouseover"]),Di("onPointerEnter",["pointerout","pointerover"]),Di("onPointerLeave",["pointerout","pointerover"]),xi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),xi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),xi("onBeforeInput",["compositionend","keypress","textInput","paste"]),xi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),xi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),xi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Tl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),U1=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Tl));function Fy(t,n){n=(n&4)!==0;for(var s=0;s<t.length;s++){var o=t[s],h=o.event;o=o.listeners;e:{var f=void 0;if(n)for(var p=o.length-1;0<=p;p--){var E=o[p],D=E.instance,B=E.currentTarget;if(E=E.listener,D!==f&&h.isPropagationStopped())break e;f=E,h.currentTarget=B;try{f(h)}catch(Q){xu(Q)}h.currentTarget=null,f=D}else for(p=0;p<o.length;p++){if(E=o[p],D=E.instance,B=E.currentTarget,E=E.listener,D!==f&&h.isPropagationStopped())break e;f=E,h.currentTarget=B;try{f(h)}catch(Q){xu(Q)}h.currentTarget=null,f=D}}}}function Ke(t,n){var s=n[_a];s===void 0&&(s=n[_a]=new Set);var o=t+"__bubble";s.has(o)||(Yy(n,t,2,!1),s.add(o))}function ad(t,n,s){var o=0;n&&(o|=4),Yy(s,t,o,n)}var pc="_reactListening"+Math.random().toString(36).slice(2);function od(t){if(!t[pc]){t[pc]=!0,Oo.forEach(function(s){s!=="selectionchange"&&(U1.has(s)||ad(s,!1,t),ad(s,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[pc]||(n[pc]=!0,ad("selectionchange",!1,n))}}function Yy(t,n,s,o){switch(E0(n)){case 2:var h=fS;break;case 8:h=dS;break;default:h=Sd}s=h.bind(null,n,s,t),h=void 0,!Vs||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),o?h!==void 0?t.addEventListener(n,s,{capture:!0,passive:h}):t.addEventListener(n,s,!0):h!==void 0?t.addEventListener(n,s,{passive:h}):t.addEventListener(n,s,!1)}function ld(t,n,s,o,h){var f=o;if((n&1)===0&&(n&2)===0&&o!==null)e:for(;;){if(o===null)return;var p=o.tag;if(p===3||p===4){var E=o.stateNode.containerInfo;if(E===h)break;if(p===4)for(p=o.return;p!==null;){var D=p.tag;if((D===3||D===4)&&p.stateNode.containerInfo===h)return;p=p.return}for(;E!==null;){if(p=Ii(E),p===null)return;if(D=p.tag,D===5||D===6||D===26||D===27){o=f=p;continue e}E=E.parentNode}}o=o.return}zr(function(){var B=f,Q=$n(s),J=[];e:{var H=wg.get(t);if(H!==void 0){var Y=Li,pe=t;switch(t){case"keypress":if(ks(s)===0)break e;case"keydown":case"keyup":Y=Cu;break;case"focusin":pe="focus",Y=Us;break;case"focusout":pe="blur",Y=Us;break;case"beforeblur":case"afterblur":Y=Us;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Y=Fo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Y=_u;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Y=m;break;case Eg:case Sg:case Ag:Y=Tu;break;case bg:Y=S;break;case"scroll":case"scrollend":Y=Go;break;case"wheel":Y=G;break;case"copy":case"cut":case"paste":Y=Eu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Y=sr;break;case"toggle":case"beforetoggle":Y=Be}var Re=(n&4)!==0,Tt=!Re&&(t==="scroll"||t==="scrollend"),P=Re?H!==null?H+"Capture":null:H;Re=[];for(var M=B,j;M!==null;){var Z=M;if(j=Z.stateNode,Z=Z.tag,Z!==5&&Z!==26&&Z!==27||j===null||P===null||(Z=di(M,P),Z!=null&&Re.push(El(M,Z,j))),Tt)break;M=M.return}0<Re.length&&(H=new Y(H,pe,null,s,Q),J.push({event:H,listeners:Re}))}}if((n&7)===0){e:{if(H=t==="mouseover"||t==="pointerover",Y=t==="mouseout"||t==="pointerout",H&&s!==Bo&&(pe=s.relatedTarget||s.fromElement)&&(Ii(pe)||pe[Zn]))break e;if((Y||H)&&(H=Q.window===Q?Q:(H=Q.ownerDocument)?H.defaultView||H.parentWindow:window,Y?(pe=s.relatedTarget||s.toElement,Y=B,pe=pe?Ii(pe):null,pe!==null&&(Tt=c(pe),Re=pe.tag,pe!==Tt||Re!==5&&Re!==27&&Re!==6)&&(pe=null)):(Y=null,pe=B),Y!==pe)){if(Re=Fo,Z="onMouseLeave",P="onMouseEnter",M="mouse",(t==="pointerout"||t==="pointerover")&&(Re=sr,Z="onPointerLeave",P="onPointerEnter",M="pointer"),Tt=Y==null?H:Un(Y),j=pe==null?H:Un(pe),H=new Re(Z,M+"leave",Y,s,Q),H.target=Tt,H.relatedTarget=j,Z=null,Ii(Q)===B&&(Re=new Re(P,M+"enter",pe,s,Q),Re.target=j,Re.relatedTarget=Tt,Z=Re),Tt=Z,Y&&pe)t:{for(Re=z1,P=Y,M=pe,j=0,Z=P;Z;Z=Re(Z))j++;Z=0;for(var be=M;be;be=Re(be))Z++;for(;0<j-Z;)P=Re(P),j--;for(;0<Z-j;)M=Re(M),Z--;for(;j--;){if(P===M||M!==null&&P===M.alternate){Re=P;break t}P=Re(P),M=Re(M)}Re=null}else Re=null;Y!==null&&Ky(J,H,Y,Re,!1),pe!==null&&Tt!==null&&Ky(J,Tt,pe,Re,!0)}}e:{if(H=B?Un(B):window,Y=H.nodeName&&H.nodeName.toLowerCase(),Y==="select"||Y==="input"&&H.type==="file")var rt=cg;else if(lg(H))if(hg)rt=ZE;else{rt=QE;var _e=KE}else Y=H.nodeName,!Y||Y.toLowerCase()!=="input"||H.type!=="checkbox"&&H.type!=="radio"?B&&Sa(B.elementType)&&(rt=cg):rt=XE;if(rt&&(rt=rt(t,B))){ug(J,rt,s,Q);break e}_e&&_e(t,H,B),t==="focusout"&&B&&H.type==="number"&&B.memoizedProps.value!=null&&Uo(H,"number",H.value)}switch(_e=B?Un(B):window,t){case"focusin":(lg(_e)||_e.contentEditable==="true")&&(xa=_e,kh=B,Zo=null);break;case"focusout":Zo=kh=xa=null;break;case"mousedown":Ph=!0;break;case"contextmenu":case"mouseup":case"dragend":Ph=!1,vg(J,s,Q);break;case"selectionchange":if($E)break;case"keydown":case"keyup":vg(J,s,Q)}var Ge;if(ot)e:{switch(t){case"compositionstart":var Ze="onCompositionStart";break e;case"compositionend":Ze="onCompositionEnd";break e;case"compositionupdate":Ze="onCompositionUpdate";break e}Ze=void 0}else Na?zs(t,s)&&(Ze="onCompositionEnd"):t==="keydown"&&s.keyCode===229&&(Ze="onCompositionStart");Ze&&(Ui&&s.locale!=="ko"&&(Na||Ze!=="onCompositionStart"?Ze==="onCompositionEnd"&&Na&&(Ge=qo()):(Vi=Q,Ho="value"in Vi?Vi.value:Vi.textContent,Na=!0)),_e=yc(B,Ze),0<_e.length&&(Ze=new Pi(Ze,t,null,s,Q),J.push({event:Ze,listeners:_e}),Ge?Ze.data=Ge:(Ge=Ia(s),Ge!==null&&(Ze.data=Ge)))),(Ge=ei?qE(t,s):GE(t,s))&&(Ze=yc(B,"onBeforeInput"),0<Ze.length&&(_e=new Pi("onBeforeInput","beforeinput",null,s,Q),J.push({event:_e,listeners:Ze}),_e.data=Ge)),L1(J,t,B,s,Q)}Fy(J,n)})}function El(t,n,s){return{instance:t,listener:n,currentTarget:s}}function yc(t,n){for(var s=n+"Capture",o=[];t!==null;){var h=t,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=di(t,s),h!=null&&o.unshift(El(t,h,f)),h=di(t,n),h!=null&&o.push(El(t,h,f))),t.tag===3)return o;t=t.return}return[]}function z1(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function Ky(t,n,s,o,h){for(var f=n._reactName,p=[];s!==null&&s!==o;){var E=s,D=E.alternate,B=E.stateNode;if(E=E.tag,D!==null&&D===o)break;E!==5&&E!==26&&E!==27||B===null||(D=B,h?(B=di(s,f),B!=null&&p.unshift(El(s,B,D))):h||(B=di(s,f),B!=null&&p.push(El(s,B,D)))),s=s.return}p.length!==0&&t.push({event:n,listeners:p})}var j1=/\r\n?/g,B1=/\u0000|\uFFFD/g;function Qy(t){return(typeof t=="string"?t:""+t).replace(j1,`
`).replace(B1,"")}function Xy(t,n){return n=Qy(n),Qy(t)===n}function vt(t,n,s,o,h,f){switch(s){case"children":typeof o=="string"?n==="body"||n==="textarea"&&o===""||Dn(t,o):(typeof o=="number"||typeof o=="bigint")&&n!=="body"&&Dn(t,""+o);break;case"className":zn(t,"class",o);break;case"tabIndex":zn(t,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":zn(t,s,o);break;case"style":jo(t,o,f);break;case"data":if(n!=="object"){zn(t,"data",o);break}case"src":case"href":if(o===""&&(n!=="a"||s!=="href")){t.removeAttribute(s);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){t.removeAttribute(s);break}o=Aa(""+o),t.setAttribute(s,o);break;case"action":case"formAction":if(typeof o=="function"){t.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(s==="formAction"?(n!=="input"&&vt(t,n,"name",h.name,h,null),vt(t,n,"formEncType",h.formEncType,h,null),vt(t,n,"formMethod",h.formMethod,h,null),vt(t,n,"formTarget",h.formTarget,h,null)):(vt(t,n,"encType",h.encType,h,null),vt(t,n,"method",h.method,h,null),vt(t,n,"target",h.target,h,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){t.removeAttribute(s);break}o=Aa(""+o),t.setAttribute(s,o);break;case"onClick":o!=null&&(t.onclick=fi);break;case"onScroll":o!=null&&Ke("scroll",t);break;case"onScrollEnd":o!=null&&Ke("scrollend",t);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(a(61));if(s=o.__html,s!=null){if(h.children!=null)throw Error(a(60));t.innerHTML=s}}break;case"multiple":t.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":t.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){t.removeAttribute("xlink:href");break}s=Aa(""+o),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(s,""+o):t.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(s,""):t.removeAttribute(s);break;case"capture":case"download":o===!0?t.setAttribute(s,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(s,o):t.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?t.setAttribute(s,o):t.removeAttribute(s);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?t.removeAttribute(s):t.setAttribute(s,o);break;case"popover":Ke("beforetoggle",t),Ke("toggle",t),Ta(t,"popover",o);break;case"xlinkActuate":Yt(t,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":Yt(t,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":Yt(t,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":Yt(t,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":Yt(t,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":Yt(t,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":Yt(t,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":Yt(t,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":Yt(t,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":Ta(t,"is",o);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=yu.get(s)||s,Ta(t,s,o))}}function ud(t,n,s,o,h,f){switch(s){case"style":jo(t,o,f);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(a(61));if(s=o.__html,s!=null){if(h.children!=null)throw Error(a(60));t.innerHTML=s}}break;case"children":typeof o=="string"?Dn(t,o):(typeof o=="number"||typeof o=="bigint")&&Dn(t,""+o);break;case"onScroll":o!=null&&Ke("scroll",t);break;case"onScrollEnd":o!=null&&Ke("scrollend",t);break;case"onClick":o!=null&&(t.onclick=fi);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Mo.hasOwnProperty(s))e:{if(s[0]==="o"&&s[1]==="n"&&(h=s.endsWith("Capture"),n=s.slice(2,h?s.length-7:void 0),f=t[Lt]||null,f=f!=null?f[s]:null,typeof f=="function"&&t.removeEventListener(n,f,h),typeof o=="function")){typeof f!="function"&&f!==null&&(s in t?t[s]=null:t.hasAttribute(s)&&t.removeAttribute(s)),t.addEventListener(n,o,h);break e}s in t?t[s]=o:o===!0?t.setAttribute(s,""):Ta(t,s,o)}}}function pn(t,n,s){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ke("error",t),Ke("load",t);var o=!1,h=!1,f;for(f in s)if(s.hasOwnProperty(f)){var p=s[f];if(p!=null)switch(f){case"src":o=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:vt(t,n,f,p,s,null)}}h&&vt(t,n,"srcSet",s.srcSet,s,null),o&&vt(t,n,"src",s.src,s,null);return;case"input":Ke("invalid",t);var E=f=p=h=null,D=null,B=null;for(o in s)if(s.hasOwnProperty(o)){var Q=s[o];if(Q!=null)switch(o){case"name":h=Q;break;case"type":p=Q;break;case"checked":D=Q;break;case"defaultChecked":B=Q;break;case"value":f=Q;break;case"defaultValue":E=Q;break;case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(a(137,n));break;default:vt(t,n,o,Q,s,null)}}mu(t,f,E,D,B,p,h,!1);return;case"select":Ke("invalid",t),o=p=f=null;for(h in s)if(s.hasOwnProperty(h)&&(E=s[h],E!=null))switch(h){case"value":f=E;break;case"defaultValue":p=E;break;case"multiple":o=E;default:vt(t,n,h,E,s,null)}n=f,s=p,t.multiple=!!o,n!=null?Lr(t,!!o,n,!1):s!=null&&Lr(t,!!o,s,!0);return;case"textarea":Ke("invalid",t),f=h=o=null;for(p in s)if(s.hasOwnProperty(p)&&(E=s[p],E!=null))switch(p){case"value":o=E;break;case"defaultValue":h=E;break;case"children":f=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(a(91));break;default:vt(t,n,p,E,s,null)}kr(t,o,h,f);return;case"option":for(D in s)if(s.hasOwnProperty(D)&&(o=s[D],o!=null))switch(D){case"selected":t.selected=o&&typeof o!="function"&&typeof o!="symbol";break;default:vt(t,n,D,o,s,null)}return;case"dialog":Ke("beforetoggle",t),Ke("toggle",t),Ke("cancel",t),Ke("close",t);break;case"iframe":case"object":Ke("load",t);break;case"video":case"audio":for(o=0;o<Tl.length;o++)Ke(Tl[o],t);break;case"image":Ke("error",t),Ke("load",t);break;case"details":Ke("toggle",t);break;case"embed":case"source":case"link":Ke("error",t),Ke("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(B in s)if(s.hasOwnProperty(B)&&(o=s[B],o!=null))switch(B){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:vt(t,n,B,o,s,null)}return;default:if(Sa(n)){for(Q in s)s.hasOwnProperty(Q)&&(o=s[Q],o!==void 0&&ud(t,n,Q,o,s,void 0));return}}for(E in s)s.hasOwnProperty(E)&&(o=s[E],o!=null&&vt(t,n,E,o,s,null))}function H1(t,n,s,o){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,p=null,E=null,D=null,B=null,Q=null;for(Y in s){var J=s[Y];if(s.hasOwnProperty(Y)&&J!=null)switch(Y){case"checked":break;case"value":break;case"defaultValue":D=J;default:o.hasOwnProperty(Y)||vt(t,n,Y,null,o,J)}}for(var H in o){var Y=o[H];if(J=s[H],o.hasOwnProperty(H)&&(Y!=null||J!=null))switch(H){case"type":f=Y;break;case"name":h=Y;break;case"checked":B=Y;break;case"defaultChecked":Q=Y;break;case"value":p=Y;break;case"defaultValue":E=Y;break;case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(a(137,n));break;default:Y!==J&&vt(t,n,H,Y,o,J)}}Ea(t,p,E,D,B,Q,f,h);return;case"select":Y=p=E=H=null;for(f in s)if(D=s[f],s.hasOwnProperty(f)&&D!=null)switch(f){case"value":break;case"multiple":Y=D;default:o.hasOwnProperty(f)||vt(t,n,f,null,o,D)}for(h in o)if(f=o[h],D=s[h],o.hasOwnProperty(h)&&(f!=null||D!=null))switch(h){case"value":H=f;break;case"defaultValue":E=f;break;case"multiple":p=f;default:f!==D&&vt(t,n,h,f,o,D)}n=E,s=p,o=Y,H!=null?Lr(t,!!s,H,!1):!!o!=!!s&&(n!=null?Lr(t,!!s,n,!0):Lr(t,!!s,s?[]:"",!1));return;case"textarea":Y=H=null;for(E in s)if(h=s[E],s.hasOwnProperty(E)&&h!=null&&!o.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:vt(t,n,E,null,o,h)}for(p in o)if(h=o[p],f=s[p],o.hasOwnProperty(p)&&(h!=null||f!=null))switch(p){case"value":H=h;break;case"defaultValue":Y=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(a(91));break;default:h!==f&&vt(t,n,p,h,o,f)}gu(t,H,Y);return;case"option":for(var pe in s)if(H=s[pe],s.hasOwnProperty(pe)&&H!=null&&!o.hasOwnProperty(pe))switch(pe){case"selected":t.selected=!1;break;default:vt(t,n,pe,null,o,H)}for(D in o)if(H=o[D],Y=s[D],o.hasOwnProperty(D)&&H!==Y&&(H!=null||Y!=null))switch(D){case"selected":t.selected=H&&typeof H!="function"&&typeof H!="symbol";break;default:vt(t,n,D,H,o,Y)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Re in s)H=s[Re],s.hasOwnProperty(Re)&&H!=null&&!o.hasOwnProperty(Re)&&vt(t,n,Re,null,o,H);for(B in o)if(H=o[B],Y=s[B],o.hasOwnProperty(B)&&H!==Y&&(H!=null||Y!=null))switch(B){case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(a(137,n));break;default:vt(t,n,B,H,o,Y)}return;default:if(Sa(n)){for(var Tt in s)H=s[Tt],s.hasOwnProperty(Tt)&&H!==void 0&&!o.hasOwnProperty(Tt)&&ud(t,n,Tt,void 0,o,H);for(Q in o)H=o[Q],Y=s[Q],!o.hasOwnProperty(Q)||H===Y||H===void 0&&Y===void 0||ud(t,n,Q,H,o,Y);return}}for(var P in s)H=s[P],s.hasOwnProperty(P)&&H!=null&&!o.hasOwnProperty(P)&&vt(t,n,P,null,o,H);for(J in o)H=o[J],Y=s[J],!o.hasOwnProperty(J)||H===Y||H==null&&Y==null||vt(t,n,J,H,o,Y)}function Zy(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function q1(){if(typeof performance.getEntriesByType=="function"){for(var t=0,n=0,s=performance.getEntriesByType("resource"),o=0;o<s.length;o++){var h=s[o],f=h.transferSize,p=h.initiatorType,E=h.duration;if(f&&E&&Zy(p)){for(p=0,E=h.responseEnd,o+=1;o<s.length;o++){var D=s[o],B=D.startTime;if(B>E)break;var Q=D.transferSize,J=D.initiatorType;Q&&Zy(J)&&(D=D.responseEnd,p+=Q*(D<E?1:(E-B)/(D-B)))}if(--o,n+=8*(f+p)/(h.duration/1e3),t++,10<t)break}}if(0<t)return n/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var cd=null,hd=null;function _c(t){return t.nodeType===9?t:t.ownerDocument}function Jy(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function $y(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function fd(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var dd=null;function G1(){var t=window.event;return t&&t.type==="popstate"?t===dd?!1:(dd=t,!0):(dd=null,!1)}var Wy=typeof setTimeout=="function"?setTimeout:void 0,F1=typeof clearTimeout=="function"?clearTimeout:void 0,e0=typeof Promise=="function"?Promise:void 0,Y1=typeof queueMicrotask=="function"?queueMicrotask:typeof e0<"u"?function(t){return e0.resolve(null).then(t).catch(K1)}:Wy;function K1(t){setTimeout(function(){throw t})}function ss(t){return t==="head"}function t0(t,n){var s=n,o=0;do{var h=s.nextSibling;if(t.removeChild(s),h&&h.nodeType===8)if(s=h.data,s==="/$"||s==="/&"){if(o===0){t.removeChild(h),io(n);return}o--}else if(s==="$"||s==="$?"||s==="$~"||s==="$!"||s==="&")o++;else if(s==="html")Sl(t.ownerDocument.documentElement);else if(s==="head"){s=t.ownerDocument.head,Sl(s);for(var f=s.firstChild;f;){var p=f.nextSibling,E=f.nodeName;f[Ci]||E==="SCRIPT"||E==="STYLE"||E==="LINK"&&f.rel.toLowerCase()==="stylesheet"||s.removeChild(f),f=p}}else s==="body"&&Sl(t.ownerDocument.body);s=h}while(s);io(n)}function n0(t,n){var s=t;t=0;do{var o=s.nextSibling;if(s.nodeType===1?n?(s._stashedDisplay=s.style.display,s.style.display="none"):(s.style.display=s._stashedDisplay||"",s.getAttribute("style")===""&&s.removeAttribute("style")):s.nodeType===3&&(n?(s._stashedText=s.nodeValue,s.nodeValue=""):s.nodeValue=s._stashedText||""),o&&o.nodeType===8)if(s=o.data,s==="/$"){if(t===0)break;t--}else s!=="$"&&s!=="$?"&&s!=="$~"&&s!=="$!"||t++;s=o}while(s)}function md(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var s=n;switch(n=n.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":md(s),va(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}t.removeChild(s)}}function Q1(t,n,s,o){for(;t.nodeType===1;){var h=s;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!o&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(o){if(!t[Ci])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(f=t.getAttribute("rel"),f==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(f!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(f=t.getAttribute("src"),(f!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===f)return t}else return t;if(t=oi(t.nextSibling),t===null)break}return null}function X1(t,n,s){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!s||(t=oi(t.nextSibling),t===null))return null;return t}function i0(t,n){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!n||(t=oi(t.nextSibling),t===null))return null;return t}function gd(t){return t.data==="$?"||t.data==="$~"}function pd(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function Z1(t,n){var s=t.ownerDocument;if(t.data==="$~")t._reactRetry=n;else if(t.data!=="$?"||s.readyState!=="loading")n();else{var o=function(){n(),s.removeEventListener("DOMContentLoaded",o)};s.addEventListener("DOMContentLoaded",o),t._reactRetry=o}}function oi(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return t}var yd=null;function r0(t){t=t.nextSibling;for(var n=0;t;){if(t.nodeType===8){var s=t.data;if(s==="/$"||s==="/&"){if(n===0)return oi(t.nextSibling);n--}else s!=="$"&&s!=="$!"&&s!=="$?"&&s!=="$~"&&s!=="&"||n++}t=t.nextSibling}return null}function s0(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var s=t.data;if(s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"){if(n===0)return t;n--}else s!=="/$"&&s!=="/&"||n++}t=t.previousSibling}return null}function a0(t,n,s){switch(n=_c(s),t){case"html":if(t=n.documentElement,!t)throw Error(a(452));return t;case"head":if(t=n.head,!t)throw Error(a(453));return t;case"body":if(t=n.body,!t)throw Error(a(454));return t;default:throw Error(a(451))}}function Sl(t){for(var n=t.attributes;n.length;)t.removeAttributeNode(n[0]);va(t)}var li=new Map,o0=new Set;function vc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Tr=ue.d;ue.d={f:J1,r:$1,D:W1,C:eS,L:tS,m:nS,X:rS,S:iS,M:sS};function J1(){var t=Tr.f(),n=cc();return t||n}function $1(t){var n=Jn(t);n!==null&&n.tag===5&&n.type==="form"?bp(n):Tr.r(t)}var eo=typeof document>"u"?null:document;function l0(t,n,s){var o=eo;if(o&&typeof n=="string"&&n){var h=xn(n);h='link[rel="'+t+'"][href="'+h+'"]',typeof s=="string"&&(h+='[crossorigin="'+s+'"]'),o0.has(h)||(o0.add(h),t={rel:t,crossOrigin:s,href:n},o.querySelector(h)===null&&(n=o.createElement("link"),pn(n,"link",t),Ft(n),o.head.appendChild(n)))}}function W1(t){Tr.D(t),l0("dns-prefetch",t,null)}function eS(t,n){Tr.C(t,n),l0("preconnect",t,n)}function tS(t,n,s){Tr.L(t,n,s);var o=eo;if(o&&t&&n){var h='link[rel="preload"][as="'+xn(n)+'"]';n==="image"&&s&&s.imageSrcSet?(h+='[imagesrcset="'+xn(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(h+='[imagesizes="'+xn(s.imageSizes)+'"]')):h+='[href="'+xn(t)+'"]';var f=h;switch(n){case"style":f=to(t);break;case"script":f=no(t)}li.has(f)||(t=A({rel:"preload",href:n==="image"&&s&&s.imageSrcSet?void 0:t,as:n},s),li.set(f,t),o.querySelector(h)!==null||n==="style"&&o.querySelector(Al(f))||n==="script"&&o.querySelector(bl(f))||(n=o.createElement("link"),pn(n,"link",t),Ft(n),o.head.appendChild(n)))}}function nS(t,n){Tr.m(t,n);var s=eo;if(s&&t){var o=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+xn(o)+'"][href="'+xn(t)+'"]',f=h;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=no(t)}if(!li.has(f)&&(t=A({rel:"modulepreload",href:t},n),li.set(f,t),s.querySelector(h)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(bl(f)))return}o=s.createElement("link"),pn(o,"link",t),Ft(o),s.head.appendChild(o)}}}function iS(t,n,s){Tr.S(t,n,s);var o=eo;if(o&&t){var h=Ni(o).hoistableStyles,f=to(t);n=n||"default";var p=h.get(f);if(!p){var E={loading:0,preload:null};if(p=o.querySelector(Al(f)))E.loading=5;else{t=A({rel:"stylesheet",href:t,"data-precedence":n},s),(s=li.get(f))&&_d(t,s);var D=p=o.createElement("link");Ft(D),pn(D,"link",t),D._p=new Promise(function(B,Q){D.onload=B,D.onerror=Q}),D.addEventListener("load",function(){E.loading|=1}),D.addEventListener("error",function(){E.loading|=2}),E.loading|=4,Tc(p,n,o)}p={type:"stylesheet",instance:p,count:1,state:E},h.set(f,p)}}}function rS(t,n){Tr.X(t,n);var s=eo;if(s&&t){var o=Ni(s).hoistableScripts,h=no(t),f=o.get(h);f||(f=s.querySelector(bl(h)),f||(t=A({src:t,async:!0},n),(n=li.get(h))&&vd(t,n),f=s.createElement("script"),Ft(f),pn(f,"link",t),s.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function sS(t,n){Tr.M(t,n);var s=eo;if(s&&t){var o=Ni(s).hoistableScripts,h=no(t),f=o.get(h);f||(f=s.querySelector(bl(h)),f||(t=A({src:t,async:!0,type:"module"},n),(n=li.get(h))&&vd(t,n),f=s.createElement("script"),Ft(f),pn(f,"link",t),s.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function u0(t,n,s,o){var h=(h=xe.current)?vc(h):null;if(!h)throw Error(a(446));switch(t){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(n=to(s.href),s=Ni(h).hoistableStyles,o=s.get(n),o||(o={type:"style",instance:null,count:0,state:null},s.set(n,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){t=to(s.href);var f=Ni(h).hoistableStyles,p=f.get(t);if(p||(h=h.ownerDocument||h,p={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(t,p),(f=h.querySelector(Al(t)))&&!f._p&&(p.instance=f,p.state.loading=5),li.has(t)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},li.set(t,s),f||aS(h,t,s,p.state))),n&&o===null)throw Error(a(528,""));return p}if(n&&o!==null)throw Error(a(529,""));return null;case"script":return n=s.async,s=s.src,typeof s=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=no(s),s=Ni(h).hoistableScripts,o=s.get(n),o||(o={type:"script",instance:null,count:0,state:null},s.set(n,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,t))}}function to(t){return'href="'+xn(t)+'"'}function Al(t){return'link[rel="stylesheet"]['+t+"]"}function c0(t){return A({},t,{"data-precedence":t.precedence,precedence:null})}function aS(t,n,s,o){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?o.loading=1:(n=t.createElement("link"),o.preload=n,n.addEventListener("load",function(){return o.loading|=1}),n.addEventListener("error",function(){return o.loading|=2}),pn(n,"link",s),Ft(n),t.head.appendChild(n))}function no(t){return'[src="'+xn(t)+'"]'}function bl(t){return"script[async]"+t}function h0(t,n,s){if(n.count++,n.instance===null)switch(n.type){case"style":var o=t.querySelector('style[data-href~="'+xn(s.href)+'"]');if(o)return n.instance=o,Ft(o),o;var h=A({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return o=(t.ownerDocument||t).createElement("style"),Ft(o),pn(o,"style",h),Tc(o,s.precedence,t),n.instance=o;case"stylesheet":h=to(s.href);var f=t.querySelector(Al(h));if(f)return n.state.loading|=4,n.instance=f,Ft(f),f;o=c0(s),(h=li.get(h))&&_d(o,h),f=(t.ownerDocument||t).createElement("link"),Ft(f);var p=f;return p._p=new Promise(function(E,D){p.onload=E,p.onerror=D}),pn(f,"link",o),n.state.loading|=4,Tc(f,s.precedence,t),n.instance=f;case"script":return f=no(s.src),(h=t.querySelector(bl(f)))?(n.instance=h,Ft(h),h):(o=s,(h=li.get(f))&&(o=A({},s),vd(o,h)),t=t.ownerDocument||t,h=t.createElement("script"),Ft(h),pn(h,"link",o),t.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(a(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(o=n.instance,n.state.loading|=4,Tc(o,s.precedence,t));return n.instance}function Tc(t,n,s){for(var o=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=o.length?o[o.length-1]:null,f=h,p=0;p<o.length;p++){var E=o[p];if(E.dataset.precedence===n)f=E;else if(f!==h)break}f?f.parentNode.insertBefore(t,f.nextSibling):(n=s.nodeType===9?s.head:s,n.insertBefore(t,n.firstChild))}function _d(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function vd(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var Ec=null;function f0(t,n,s){if(Ec===null){var o=new Map,h=Ec=new Map;h.set(s,o)}else h=Ec,o=h.get(s),o||(o=new Map,h.set(s,o));if(o.has(t))return o;for(o.set(t,null),s=s.getElementsByTagName(t),h=0;h<s.length;h++){var f=s[h];if(!(f[Ci]||f[Nt]||t==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var p=f.getAttribute(n)||"";p=t+p;var E=o.get(p);E?E.push(f):o.set(p,[f])}}return o}function d0(t,n,s){t=t.ownerDocument||t,t.head.insertBefore(s,n==="title"?t.querySelector("head > title"):null)}function oS(t,n,s){if(s===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return t=n.disabled,typeof n.precedence=="string"&&t==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function m0(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function lS(t,n,s,o){if(s.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var h=to(o.href),f=n.querySelector(Al(h));if(f){n=f._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(t.count++,t=Sc.bind(t),n.then(t,t)),s.state.loading|=4,s.instance=f,Ft(f);return}f=n.ownerDocument||n,o=c0(o),(h=li.get(h))&&_d(o,h),f=f.createElement("link"),Ft(f);var p=f;p._p=new Promise(function(E,D){p.onload=E,p.onerror=D}),pn(f,"link",o),s.instance=f}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(s,n),(n=s.state.preload)&&(s.state.loading&3)===0&&(t.count++,s=Sc.bind(t),n.addEventListener("load",s),n.addEventListener("error",s))}}var Td=0;function uS(t,n){return t.stylesheets&&t.count===0&&bc(t,t.stylesheets),0<t.count||0<t.imgCount?function(s){var o=setTimeout(function(){if(t.stylesheets&&bc(t,t.stylesheets),t.unsuspend){var f=t.unsuspend;t.unsuspend=null,f()}},6e4+n);0<t.imgBytes&&Td===0&&(Td=62500*q1());var h=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&bc(t,t.stylesheets),t.unsuspend)){var f=t.unsuspend;t.unsuspend=null,f()}},(t.imgBytes>Td?50:800)+n);return t.unsuspend=s,function(){t.unsuspend=null,clearTimeout(o),clearTimeout(h)}}:null}function Sc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)bc(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Ac=null;function bc(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Ac=new Map,n.forEach(cS,t),Ac=null,Sc.call(t))}function cS(t,n){if(!(n.state.loading&4)){var s=Ac.get(t);if(s)var o=s.get(null);else{s=new Map,Ac.set(t,s);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var p=h[f];(p.nodeName==="LINK"||p.getAttribute("media")!=="not all")&&(s.set(p.dataset.precedence,p),o=p)}o&&s.set(null,o)}h=n.instance,p=h.getAttribute("data-precedence"),f=s.get(p)||o,f===o&&s.set(null,h),s.set(p,h),this.count++,o=Sc.bind(this),h.addEventListener("load",o),h.addEventListener("error",o),f?f.parentNode.insertBefore(h,f.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),n.state.loading|=4}}var wl={$$typeof:Se,Provider:null,Consumer:null,_currentValue:ve,_currentValue2:ve,_threadCount:0};function hS(t,n,s,o,h,f,p,E,D){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ht(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ht(0),this.hiddenUpdates=ht(null),this.identifierPrefix=o,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=p,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=D,this.incompleteTransitions=new Map}function g0(t,n,s,o,h,f,p,E,D,B,Q,J){return t=new hS(t,n,s,p,D,B,Q,J,E),n=1,f===!0&&(n|=24),f=Bn(3,null,null,n),t.current=f,f.stateNode=t,n=$h(),n.refCount++,t.pooledCache=n,n.refCount++,f.memoizedState={element:o,isDehydrated:s,cache:n},nf(f),t}function p0(t){return t?(t=Ma,t):Ma}function y0(t,n,s,o,h,f){h=p0(h),o.context===null?o.context=h:o.pendingContext=h,o=Qr(n),o.payload={element:s},f=f===void 0?null:f,f!==null&&(o.callback=f),s=Xr(t,o,n),s!==null&&(kn(s,t,n),il(s,t,n))}function _0(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var s=t.retryLane;t.retryLane=s!==0&&s<n?s:n}}function Ed(t,n){_0(t,n),(t=t.alternate)&&_0(t,n)}function v0(t){if(t.tag===13||t.tag===31){var n=Hs(t,67108864);n!==null&&kn(n,t,67108864),Ed(t,67108864)}}function T0(t){if(t.tag===13||t.tag===31){var n=Yn();n=at(n);var s=Hs(t,n);s!==null&&kn(s,t,n),Ed(t,n)}}var wc=!0;function fS(t,n,s,o){var h=K.T;K.T=null;var f=ue.p;try{ue.p=2,Sd(t,n,s,o)}finally{ue.p=f,K.T=h}}function dS(t,n,s,o){var h=K.T;K.T=null;var f=ue.p;try{ue.p=8,Sd(t,n,s,o)}finally{ue.p=f,K.T=h}}function Sd(t,n,s,o){if(wc){var h=Ad(o);if(h===null)ld(t,n,o,Rc,s),S0(t,o);else if(gS(h,t,n,s,o))o.stopPropagation();else if(S0(t,o),n&4&&-1<mS.indexOf(t)){for(;h!==null;){var f=Jn(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var p=Ae(f.pendingLanes);if(p!==0){var E=f;for(E.pendingLanes|=2,E.entangledLanes|=2;p;){var D=1<<31-w(p);E.entanglements[1]|=D,p&=~D}Hi(f),(lt&6)===0&&(lc=un()+500,vl(0))}}break;case 31:case 13:E=Hs(f,2),E!==null&&kn(E,f,2),cc(),Ed(f,2)}if(f=Ad(o),f===null&&ld(t,n,o,Rc,s),f===h)break;h=f}h!==null&&o.stopPropagation()}else ld(t,n,o,null,s)}}function Ad(t){return t=$n(t),bd(t)}var Rc=null;function bd(t){if(Rc=null,t=Ii(t),t!==null){var n=c(t);if(n===null)t=null;else{var s=n.tag;if(s===13){if(t=d(n),t!==null)return t;t=null}else if(s===31){if(t=g(n),t!==null)return t;t=null}else if(s===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return Rc=t,null}function E0(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(nr()){case Ri:return 2;case xs:return 8;case hi:case Do:return 32;case ya:return 268435456;default:return 32}default:return 32}}var wd=!1,as=null,os=null,ls=null,Rl=new Map,Cl=new Map,us=[],mS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function S0(t,n){switch(t){case"focusin":case"focusout":as=null;break;case"dragenter":case"dragleave":os=null;break;case"mouseover":case"mouseout":ls=null;break;case"pointerover":case"pointerout":Rl.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Cl.delete(n.pointerId)}}function Il(t,n,s,o,h,f){return t===null||t.nativeEvent!==f?(t={blockedOn:n,domEventName:s,eventSystemFlags:o,nativeEvent:f,targetContainers:[h]},n!==null&&(n=Jn(n),n!==null&&v0(n)),t):(t.eventSystemFlags|=o,n=t.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),t)}function gS(t,n,s,o,h){switch(n){case"focusin":return as=Il(as,t,n,s,o,h),!0;case"dragenter":return os=Il(os,t,n,s,o,h),!0;case"mouseover":return ls=Il(ls,t,n,s,o,h),!0;case"pointerover":var f=h.pointerId;return Rl.set(f,Il(Rl.get(f)||null,t,n,s,o,h)),!0;case"gotpointercapture":return f=h.pointerId,Cl.set(f,Il(Cl.get(f)||null,t,n,s,o,h)),!0}return!1}function A0(t){var n=Ii(t.target);if(n!==null){var s=c(n);if(s!==null){if(n=s.tag,n===13){if(n=d(s),n!==null){t.blockedOn=n,cn(t.priority,function(){T0(s)});return}}else if(n===31){if(n=g(s),n!==null){t.blockedOn=n,cn(t.priority,function(){T0(s)});return}}else if(n===3&&s.stateNode.current.memoizedState.isDehydrated){t.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Cc(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var s=Ad(t.nativeEvent);if(s===null){s=t.nativeEvent;var o=new s.constructor(s.type,s);Bo=o,s.target.dispatchEvent(o),Bo=null}else return n=Jn(s),n!==null&&v0(n),t.blockedOn=s,!1;n.shift()}return!0}function b0(t,n,s){Cc(t)&&s.delete(n)}function pS(){wd=!1,as!==null&&Cc(as)&&(as=null),os!==null&&Cc(os)&&(os=null),ls!==null&&Cc(ls)&&(ls=null),Rl.forEach(b0),Cl.forEach(b0)}function Ic(t,n){t.blockedOn===n&&(t.blockedOn=null,wd||(wd=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,pS)))}var Nc=null;function w0(t){Nc!==t&&(Nc=t,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Nc===t&&(Nc=null);for(var n=0;n<t.length;n+=3){var s=t[n],o=t[n+1],h=t[n+2];if(typeof o!="function"){if(bd(o||s)===null)continue;break}var f=Jn(s);f!==null&&(t.splice(n,3),n-=3,Af(f,{pending:!0,data:h,method:s.method,action:o},o,h))}}))}function io(t){function n(D){return Ic(D,t)}as!==null&&Ic(as,t),os!==null&&Ic(os,t),ls!==null&&Ic(ls,t),Rl.forEach(n),Cl.forEach(n);for(var s=0;s<us.length;s++){var o=us[s];o.blockedOn===t&&(o.blockedOn=null)}for(;0<us.length&&(s=us[0],s.blockedOn===null);)A0(s),s.blockedOn===null&&us.shift();if(s=(t.ownerDocument||t).$$reactFormReplay,s!=null)for(o=0;o<s.length;o+=3){var h=s[o],f=s[o+1],p=h[Lt]||null;if(typeof f=="function")p||w0(s);else if(p){var E=null;if(f&&f.hasAttribute("formAction")){if(h=f,p=f[Lt]||null)E=p.formAction;else if(bd(h)!==null)continue}else E=p.action;typeof E=="function"?s[o+1]=E:(s.splice(o,3),o-=3),w0(s)}}}function R0(){function t(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(p){return h=p})},focusReset:"manual",scroll:"manual"})}function n(){h!==null&&(h(),h=null),o||setTimeout(s,20)}function s(){if(!o&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var o=!1,h=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(s,100),function(){o=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),h!==null&&(h(),h=null)}}}function Rd(t){this._internalRoot=t}xc.prototype.render=Rd.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(a(409));var s=n.current,o=Yn();y0(s,o,t,n,null,null)},xc.prototype.unmount=Rd.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;y0(t.current,2,null,t,null,null),cc(),n[Zn]=null}};function xc(t){this._internalRoot=t}xc.prototype.unstable_scheduleHydration=function(t){if(t){var n=it();t={blockedOn:null,target:t,priority:n};for(var s=0;s<us.length&&n!==0&&n<us[s].priority;s++);us.splice(s,0,t),s===0&&A0(t)}};var C0=e.version;if(C0!=="19.2.0")throw Error(a(527,C0,"19.2.0"));ue.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(a(188)):(t=Object.keys(t).join(","),Error(a(268,t)));return t=_(n),t=t!==null?b(t):null,t=t===null?null:t.stateNode,t};var yS={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:K,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Dc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Dc.isDisabled&&Dc.supportsFiber)try{Rn=Dc.inject(yS),jt=Dc}catch{}}return xl.createRoot=function(t,n){if(!l(t))throw Error(a(299));var s=!1,o="",h=Vp,f=Lp,p=kp;return n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(p=n.onRecoverableError)),n=g0(t,1,!1,null,null,s,o,null,h,f,p,R0),t[Zn]=n.current,od(t),new Rd(n)},xl.hydrateRoot=function(t,n,s){if(!l(t))throw Error(a(299));var o=!1,h="",f=Vp,p=Lp,E=kp,D=null;return s!=null&&(s.unstable_strictMode===!0&&(o=!0),s.identifierPrefix!==void 0&&(h=s.identifierPrefix),s.onUncaughtError!==void 0&&(f=s.onUncaughtError),s.onCaughtError!==void 0&&(p=s.onCaughtError),s.onRecoverableError!==void 0&&(E=s.onRecoverableError),s.formState!==void 0&&(D=s.formState)),n=g0(t,1,!0,n,s??null,o,h,D,f,p,E,R0),n.context=p0(null),s=n.current,o=Yn(),o=at(o),h=Qr(o),h.callback=null,Xr(s,h,o),s=o,n.current.lanes=s,Vt(n,s),Hi(n),t[Zn]=n.current,od(t),new xc(n)},xl.version="19.2.0",xl}var P0;function IS(){if(P0)return Nd.exports;P0=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Nd.exports=CS(),Nd.exports}var NS=IS();const xS=mv(NS),DS=()=>{};var U0={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gv=function(r){const e=[];let i=0;for(let a=0;a<r.length;a++){let l=r.charCodeAt(a);l<128?e[i++]=l:l<2048?(e[i++]=l>>6|192,e[i++]=l&63|128):(l&64512)===55296&&a+1<r.length&&(r.charCodeAt(a+1)&64512)===56320?(l=65536+((l&1023)<<10)+(r.charCodeAt(++a)&1023),e[i++]=l>>18|240,e[i++]=l>>12&63|128,e[i++]=l>>6&63|128,e[i++]=l&63|128):(e[i++]=l>>12|224,e[i++]=l>>6&63|128,e[i++]=l&63|128)}return e},OS=function(r){const e=[];let i=0,a=0;for(;i<r.length;){const l=r[i++];if(l<128)e[a++]=String.fromCharCode(l);else if(l>191&&l<224){const c=r[i++];e[a++]=String.fromCharCode((l&31)<<6|c&63)}else if(l>239&&l<365){const c=r[i++],d=r[i++],g=r[i++],y=((l&7)<<18|(c&63)<<12|(d&63)<<6|g&63)-65536;e[a++]=String.fromCharCode(55296+(y>>10)),e[a++]=String.fromCharCode(56320+(y&1023))}else{const c=r[i++],d=r[i++];e[a++]=String.fromCharCode((l&15)<<12|(c&63)<<6|d&63)}}return e.join("")},pv={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let l=0;l<r.length;l+=3){const c=r[l],d=l+1<r.length,g=d?r[l+1]:0,y=l+2<r.length,_=y?r[l+2]:0,b=c>>2,A=(c&3)<<4|g>>4;let L=(g&15)<<2|_>>6,q=_&63;y||(q=64,d||(L=64)),a.push(i[b],i[A],i[L],i[q])}return a.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(gv(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):OS(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const i=e?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let l=0;l<r.length;){const c=i[r.charAt(l++)],g=l<r.length?i[r.charAt(l)]:0;++l;const _=l<r.length?i[r.charAt(l)]:64;++l;const A=l<r.length?i[r.charAt(l)]:64;if(++l,c==null||g==null||_==null||A==null)throw new MS;const L=c<<2|g>>4;if(a.push(L),_!==64){const q=g<<4&240|_>>2;if(a.push(q),A!==64){const re=_<<6&192|A;a.push(re)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class MS extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const VS=function(r){const e=gv(r);return pv.encodeByteArray(e,!0)},Xc=function(r){return VS(r).replace(/\./g,"")},yv=function(r){try{return pv.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LS(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kS=()=>LS().__FIREBASE_DEFAULTS__,PS=()=>{if(typeof process>"u"||typeof U0>"u")return;const r=U0.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},US=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&yv(r[1]);return e&&JSON.parse(e)},gh=()=>{try{return DS()||kS()||PS()||US()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},_v=r=>{var e,i;return(i=(e=gh())==null?void 0:e.emulatorHosts)==null?void 0:i[r]},zS=r=>{const e=_v(r);if(!e)return;const i=e.lastIndexOf(":");if(i<=0||i+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const a=parseInt(e.substring(i+1),10);return e[0]==="["?[e.substring(1,i-1),a]:[e.substring(0,i),a]},vv=()=>{var r;return(r=gh())==null?void 0:r.config},Tv=r=>{var e;return(e=gh())==null?void 0:e[`_${r}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jS{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}wrapCallback(e){return(i,a)=>{i?this.reject(i):this.resolve(a),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(i):e(i,a))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ao(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Ev(r){return(await fetch(r,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BS(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},a=e||"demo-project",l=r.iat||0,c=r.sub||r.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${a}`,aud:a,iat:l,exp:l+3600,auth_time:l,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...r};return[Xc(JSON.stringify(i)),Xc(JSON.stringify(d)),""].join(".")}const Ul={};function HS(){const r={prod:[],emulator:[]};for(const e of Object.keys(Ul))Ul[e]?r.emulator.push(e):r.prod.push(e);return r}function qS(r){let e=document.getElementById(r),i=!1;return e||(e=document.createElement("div"),e.setAttribute("id",r),i=!0),{created:i,element:e}}let z0=!1;function Sv(r,e){if(typeof window>"u"||typeof document>"u"||!Ao(window.location.host)||Ul[r]===e||Ul[r]||z0)return;Ul[r]=e;function i(L){return`__firebase__banner__${L}`}const a="__firebase__banner",c=HS().prod.length>0;function d(){const L=document.getElementById(a);L&&L.remove()}function g(L){L.style.display="flex",L.style.background="#7faaf0",L.style.position="fixed",L.style.bottom="5px",L.style.left="5px",L.style.padding=".5em",L.style.borderRadius="5px",L.style.alignItems="center"}function y(L,q){L.setAttribute("width","24"),L.setAttribute("id",q),L.setAttribute("height","24"),L.setAttribute("viewBox","0 0 24 24"),L.setAttribute("fill","none"),L.style.marginLeft="-6px"}function _(){const L=document.createElement("span");return L.style.cursor="pointer",L.style.marginLeft="16px",L.style.fontSize="24px",L.innerHTML=" &times;",L.onclick=()=>{z0=!0,d()},L}function b(L,q){L.setAttribute("id",q),L.innerText="Learn more",L.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",L.setAttribute("target","__blank"),L.style.paddingLeft="5px",L.style.textDecoration="underline"}function A(){const L=qS(a),q=i("text"),re=document.getElementById(q)||document.createElement("span"),ae=i("learnmore"),te=document.getElementById(ae)||document.createElement("a"),se=i("preprendIcon"),Ee=document.getElementById(se)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(L.created){const Se=L.element;g(Se),b(te,ae);const qe=_();y(Ee,se),Se.append(Ee,re,te,qe),document.body.appendChild(Se)}c?(re.innerText="Preview backend disconnected.",Ee.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(Ee.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,re.innerText="Preview backend running in this workspace."),re.setAttribute("id",q)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",A):A()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function GS(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(wn())}function FS(){var e;const r=(e=gh())==null?void 0:e.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function YS(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function KS(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function QS(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function XS(){const r=wn();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function ZS(){return!FS()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function JS(){try{return typeof indexedDB=="object"}catch{return!1}}function $S(){return new Promise((r,e)=>{try{let i=!0;const a="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(a);l.onsuccess=()=>{l.result.close(),i||self.indexedDB.deleteDatabase(a),r(!0)},l.onupgradeneeded=()=>{i=!1},l.onerror=()=>{var c;e(((c=l.error)==null?void 0:c.message)||"")}}catch(i){e(i)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WS="FirebaseError";class Ir extends Error{constructor(e,i,a){super(i),this.code=e,this.customData=a,this.name=WS,Object.setPrototypeOf(this,Ir.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,tu.prototype.create)}}class tu{constructor(e,i,a){this.service=e,this.serviceName=i,this.errors=a}create(e,...i){const a=i[0]||{},l=`${this.service}/${e}`,c=this.errors[e],d=c?eA(c,a):"Error",g=`${this.serviceName}: ${d} (${l}).`;return new Ir(l,g,a)}}function eA(r,e){return r.replace(tA,(i,a)=>{const l=e[a];return l!=null?String(l):`<${a}?>`})}const tA=/\{\$([^}]+)}/g;function nA(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function oa(r,e){if(r===e)return!0;const i=Object.keys(r),a=Object.keys(e);for(const l of i){if(!a.includes(l))return!1;const c=r[l],d=e[l];if(j0(c)&&j0(d)){if(!oa(c,d))return!1}else if(c!==d)return!1}for(const l of a)if(!i.includes(l))return!1;return!0}function j0(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nu(r){const e=[];for(const[i,a]of Object.entries(r))Array.isArray(a)?a.forEach(l=>{e.push(encodeURIComponent(i)+"="+encodeURIComponent(l))}):e.push(encodeURIComponent(i)+"="+encodeURIComponent(a));return e.length?"&"+e.join("&"):""}function iA(r,e){const i=new rA(r,e);return i.subscribe.bind(i)}class rA{constructor(e,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{e(this)}).catch(a=>{this.error(a)})}next(e){this.forEachObserver(i=>{i.next(e)})}error(e){this.forEachObserver(i=>{i.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,i,a){let l;if(e===void 0&&i===void 0&&a===void 0)throw new Error("Missing Observer.");sA(e,["next","error","complete"])?l=e:l={next:e,error:i,complete:a},l.next===void 0&&(l.next=Md),l.error===void 0&&(l.error=Md),l.complete===void 0&&(l.complete=Md);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),c}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,e)}sendOne(e,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{i(this.observers[e])}catch(a){typeof console<"u"&&console.error&&console.error(a)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function sA(r,e){if(typeof r!="object"||r===null)return!1;for(const i of e)if(i in r&&typeof r[i]=="function")return!0;return!1}function Md(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kn(r){return r&&r._delegate?r._delegate:r}class la{constructor(e,i,a){this.name=e,this.instanceFactory=i,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const na="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aA{constructor(e,i){this.name=e,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const i=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(i)){const a=new jS;if(this.instancesDeferred.set(i,a),this.isInitialized(i)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:i});l&&a.resolve(l)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(e){const i=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),a=(e==null?void 0:e.optional)??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(l){if(a)return null;throw l}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(lA(e))try{this.getOrInitializeService({instanceIdentifier:na})}catch{}for(const[i,a]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(i);try{const c=this.getOrInitializeService({instanceIdentifier:l});a.resolve(c)}catch{}}}}clearInstance(e=na){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...e.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=na){return this.instances.has(e)}getOptions(e=na){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:i={}}=e,a=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:a,options:i});for(const[c,d]of this.instancesDeferred.entries()){const g=this.normalizeInstanceIdentifier(c);a===g&&d.resolve(l)}return l}onInit(e,i){const a=this.normalizeInstanceIdentifier(i),l=this.onInitCallbacks.get(a)??new Set;l.add(e),this.onInitCallbacks.set(a,l);const c=this.instances.get(a);return c&&e(c,a),()=>{l.delete(e)}}invokeOnInitCallbacks(e,i){const a=this.onInitCallbacks.get(i);if(a)for(const l of a)try{l(e,i)}catch{}}getOrInitializeService({instanceIdentifier:e,options:i={}}){let a=this.instances.get(e);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:oA(e),options:i}),this.instances.set(e,a),this.instancesOptions.set(e,i),this.invokeOnInitCallbacks(a,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,a)}catch{}return a||null}normalizeInstanceIdentifier(e=na){return this.component?this.component.multipleInstances?e:na:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function oA(r){return r===na?void 0:r}function lA(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uA{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const i=this.getProvider(e.name);if(i.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);i.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const i=new aA(e,this);return this.providers.set(e,i),i}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Je;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Je||(Je={}));const cA={debug:Je.DEBUG,verbose:Je.VERBOSE,info:Je.INFO,warn:Je.WARN,error:Je.ERROR,silent:Je.SILENT},hA=Je.INFO,fA={[Je.DEBUG]:"log",[Je.VERBOSE]:"log",[Je.INFO]:"info",[Je.WARN]:"warn",[Je.ERROR]:"error"},dA=(r,e,...i)=>{if(e<r.logLevel)return;const a=new Date().toISOString(),l=fA[e];if(l)console[l](`[${a}]  ${r.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class _m{constructor(e){this.name=e,this._logLevel=hA,this._logHandler=dA,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Je))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?cA[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Je.DEBUG,...e),this._logHandler(this,Je.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Je.VERBOSE,...e),this._logHandler(this,Je.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Je.INFO,...e),this._logHandler(this,Je.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Je.WARN,...e),this._logHandler(this,Je.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Je.ERROR,...e),this._logHandler(this,Je.ERROR,...e)}}const mA=(r,e)=>e.some(i=>r instanceof i);let B0,H0;function gA(){return B0||(B0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function pA(){return H0||(H0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Av=new WeakMap,Kd=new WeakMap,bv=new WeakMap,Vd=new WeakMap,vm=new WeakMap;function yA(r){const e=new Promise((i,a)=>{const l=()=>{r.removeEventListener("success",c),r.removeEventListener("error",d)},c=()=>{i(ps(r.result)),l()},d=()=>{a(r.error),l()};r.addEventListener("success",c),r.addEventListener("error",d)});return e.then(i=>{i instanceof IDBCursor&&Av.set(i,r)}).catch(()=>{}),vm.set(e,r),e}function _A(r){if(Kd.has(r))return;const e=new Promise((i,a)=>{const l=()=>{r.removeEventListener("complete",c),r.removeEventListener("error",d),r.removeEventListener("abort",d)},c=()=>{i(),l()},d=()=>{a(r.error||new DOMException("AbortError","AbortError")),l()};r.addEventListener("complete",c),r.addEventListener("error",d),r.addEventListener("abort",d)});Kd.set(r,e)}let Qd={get(r,e,i){if(r instanceof IDBTransaction){if(e==="done")return Kd.get(r);if(e==="objectStoreNames")return r.objectStoreNames||bv.get(r);if(e==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return ps(r[e])},set(r,e,i){return r[e]=i,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function vA(r){Qd=r(Qd)}function TA(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...i){const a=r.call(Ld(this),e,...i);return bv.set(a,e.sort?e.sort():[e]),ps(a)}:pA().includes(r)?function(...e){return r.apply(Ld(this),e),ps(Av.get(this))}:function(...e){return ps(r.apply(Ld(this),e))}}function EA(r){return typeof r=="function"?TA(r):(r instanceof IDBTransaction&&_A(r),mA(r,gA())?new Proxy(r,Qd):r)}function ps(r){if(r instanceof IDBRequest)return yA(r);if(Vd.has(r))return Vd.get(r);const e=EA(r);return e!==r&&(Vd.set(r,e),vm.set(e,r)),e}const Ld=r=>vm.get(r);function SA(r,e,{blocked:i,upgrade:a,blocking:l,terminated:c}={}){const d=indexedDB.open(r,e),g=ps(d);return a&&d.addEventListener("upgradeneeded",y=>{a(ps(d.result),y.oldVersion,y.newVersion,ps(d.transaction),y)}),i&&d.addEventListener("blocked",y=>i(y.oldVersion,y.newVersion,y)),g.then(y=>{c&&y.addEventListener("close",()=>c()),l&&y.addEventListener("versionchange",_=>l(_.oldVersion,_.newVersion,_))}).catch(()=>{}),g}const AA=["get","getKey","getAll","getAllKeys","count"],bA=["put","add","delete","clear"],kd=new Map;function q0(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(kd.get(e))return kd.get(e);const i=e.replace(/FromIndex$/,""),a=e!==i,l=bA.includes(i);if(!(i in(a?IDBIndex:IDBObjectStore).prototype)||!(l||AA.includes(i)))return;const c=async function(d,...g){const y=this.transaction(d,l?"readwrite":"readonly");let _=y.store;return a&&(_=_.index(g.shift())),(await Promise.all([_[i](...g),l&&y.done]))[0]};return kd.set(e,c),c}vA(r=>({...r,get:(e,i,a)=>q0(e,i)||r.get(e,i,a),has:(e,i)=>!!q0(e,i)||r.has(e,i)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wA{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(RA(i)){const a=i.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(i=>i).join(" ")}}function RA(r){const e=r.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Xd="@firebase/app",G0="0.14.6";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const br=new _m("@firebase/app"),CA="@firebase/app-compat",IA="@firebase/analytics-compat",NA="@firebase/analytics",xA="@firebase/app-check-compat",DA="@firebase/app-check",OA="@firebase/auth",MA="@firebase/auth-compat",VA="@firebase/database",LA="@firebase/data-connect",kA="@firebase/database-compat",PA="@firebase/functions",UA="@firebase/functions-compat",zA="@firebase/installations",jA="@firebase/installations-compat",BA="@firebase/messaging",HA="@firebase/messaging-compat",qA="@firebase/performance",GA="@firebase/performance-compat",FA="@firebase/remote-config",YA="@firebase/remote-config-compat",KA="@firebase/storage",QA="@firebase/storage-compat",XA="@firebase/firestore",ZA="@firebase/ai",JA="@firebase/firestore-compat",$A="firebase",WA="12.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zd="[DEFAULT]",eb={[Xd]:"fire-core",[CA]:"fire-core-compat",[NA]:"fire-analytics",[IA]:"fire-analytics-compat",[DA]:"fire-app-check",[xA]:"fire-app-check-compat",[OA]:"fire-auth",[MA]:"fire-auth-compat",[VA]:"fire-rtdb",[LA]:"fire-data-connect",[kA]:"fire-rtdb-compat",[PA]:"fire-fn",[UA]:"fire-fn-compat",[zA]:"fire-iid",[jA]:"fire-iid-compat",[BA]:"fire-fcm",[HA]:"fire-fcm-compat",[qA]:"fire-perf",[GA]:"fire-perf-compat",[FA]:"fire-rc",[YA]:"fire-rc-compat",[KA]:"fire-gcs",[QA]:"fire-gcs-compat",[XA]:"fire-fst",[JA]:"fire-fst-compat",[ZA]:"fire-vertex","fire-js":"fire-js",[$A]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zc=new Map,tb=new Map,Jd=new Map;function F0(r,e){try{r.container.addComponent(e)}catch(i){br.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,i)}}function mo(r){const e=r.name;if(Jd.has(e))return br.debug(`There were multiple attempts to register component ${e}.`),!1;Jd.set(e,r);for(const i of Zc.values())F0(i,r);for(const i of tb.values())F0(i,r);return!0}function Tm(r,e){const i=r.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),r.container.getProvider(e)}function Ei(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nb={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ys=new tu("app","Firebase",nb);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ib{constructor(e,i,a){this._isDeleted=!1,this._options={...e},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new la("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ys.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bo=WA;function wv(r,e={}){let i=r;typeof e!="object"&&(e={name:e});const a={name:Zd,automaticDataCollectionEnabled:!0,...e},l=a.name;if(typeof l!="string"||!l)throw ys.create("bad-app-name",{appName:String(l)});if(i||(i=vv()),!i)throw ys.create("no-options");const c=Zc.get(l);if(c){if(oa(i,c.options)&&oa(a,c.config))return c;throw ys.create("duplicate-app",{appName:l})}const d=new uA(l);for(const y of Jd.values())d.addComponent(y);const g=new ib(i,a,d);return Zc.set(l,g),g}function Rv(r=Zd){const e=Zc.get(r);if(!e&&r===Zd&&vv())return wv();if(!e)throw ys.create("no-app",{appName:r});return e}function _s(r,e,i){let a=eb[r]??r;i&&(a+=`-${i}`);const l=a.match(/\s|\//),c=e.match(/\s|\//);if(l||c){const d=[`Unable to register library "${a}" with version "${e}":`];l&&d.push(`library name "${a}" contains illegal characters (whitespace or "/")`),l&&c&&d.push("and"),c&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),br.warn(d.join(" "));return}mo(new la(`${a}-version`,()=>({library:a,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rb="firebase-heartbeat-database",sb=1,Yl="firebase-heartbeat-store";let Pd=null;function Cv(){return Pd||(Pd=SA(rb,sb,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(Yl)}catch(i){console.warn(i)}}}}).catch(r=>{throw ys.create("idb-open",{originalErrorMessage:r.message})})),Pd}async function ab(r){try{const i=(await Cv()).transaction(Yl),a=await i.objectStore(Yl).get(Iv(r));return await i.done,a}catch(e){if(e instanceof Ir)br.warn(e.message);else{const i=ys.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});br.warn(i.message)}}}async function Y0(r,e){try{const a=(await Cv()).transaction(Yl,"readwrite");await a.objectStore(Yl).put(e,Iv(r)),await a.done}catch(i){if(i instanceof Ir)br.warn(i.message);else{const a=ys.create("idb-set",{originalErrorMessage:i==null?void 0:i.message});br.warn(a.message)}}}function Iv(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ob=1024,lb=30;class ub{constructor(e){this.container=e,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new hb(i),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){var e,i;try{const l=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),c=K0();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((i=this._heartbeatsCache)==null?void 0:i.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===c||this._heartbeatsCache.heartbeats.some(d=>d.date===c))return;if(this._heartbeatsCache.heartbeats.push({date:c,agent:l}),this._heartbeatsCache.heartbeats.length>lb){const d=fb(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(d,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(a){br.warn(a)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const i=K0(),{heartbeatsToSend:a,unsentEntries:l}=cb(this._heartbeatsCache.heartbeats),c=Xc(JSON.stringify({version:2,heartbeats:a}));return this._heartbeatsCache.lastSentHeartbeatDate=i,l.length>0?(this._heartbeatsCache.heartbeats=l,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),c}catch(i){return br.warn(i),""}}}function K0(){return new Date().toISOString().substring(0,10)}function cb(r,e=ob){const i=[];let a=r.slice();for(const l of r){const c=i.find(d=>d.agent===l.agent);if(c){if(c.dates.push(l.date),Q0(i)>e){c.dates.pop();break}}else if(i.push({agent:l.agent,dates:[l.date]}),Q0(i)>e){i.pop();break}a=a.slice(1)}return{heartbeatsToSend:i,unsentEntries:a}}class hb{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return JS()?$S().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await ab(this.app);return i!=null&&i.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const a=await this.read();return Y0(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const a=await this.read();return Y0(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...e.heartbeats]})}else return}}function Q0(r){return Xc(JSON.stringify({version:2,heartbeats:r})).length}function fb(r){if(r.length===0)return-1;let e=0,i=r[0].date;for(let a=1;a<r.length;a++)r[a].date<i&&(i=r[a].date,e=a);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function db(r){mo(new la("platform-logger",e=>new wA(e),"PRIVATE")),mo(new la("heartbeat",e=>new ub(e),"PRIVATE")),_s(Xd,G0,r),_s(Xd,G0,"esm2020"),_s("fire-js","")}db("");function Nv(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const mb=Nv,xv=new tu("auth","Firebase",Nv());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jc=new _m("@firebase/auth");function gb(r,...e){Jc.logLevel<=Je.WARN&&Jc.warn(`Auth (${bo}): ${r}`,...e)}function zc(r,...e){Jc.logLevel<=Je.ERROR&&Jc.error(`Auth (${bo}): ${r}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ji(r,...e){throw Sm(r,...e)}function bi(r,...e){return Sm(r,...e)}function Em(r,e,i){const a={...mb(),[e]:i};return new tu("auth","Firebase",a).create(e,{appName:r.name})}function sa(r){return Em(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function pb(r,e,i){const a=i;if(!(e instanceof a))throw a.name!==e.constructor.name&&Ji(r,"argument-error"),Em(r,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Sm(r,...e){if(typeof r!="string"){const i=e[0],a=[...e.slice(1)];return a[0]&&(a[0].appName=r.name),r._errorFactory.create(i,...a)}return xv.create(r,...e)}function De(r,e,...i){if(!r)throw Sm(e,...i)}function Er(r){const e="INTERNAL ASSERTION FAILED: "+r;throw zc(e),new Error(e)}function wr(r,e){r||Er(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $d(){var r;return typeof self<"u"&&((r=self.location)==null?void 0:r.href)||""}function yb(){return X0()==="http:"||X0()==="https:"}function X0(){var r;return typeof self<"u"&&((r=self.location)==null?void 0:r.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _b(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(yb()||KS()||"connection"in navigator)?navigator.onLine:!0}function vb(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iu{constructor(e,i){this.shortDelay=e,this.longDelay=i,wr(i>e,"Short delay should be less than long delay!"),this.isMobile=GS()||QS()}get(){return _b()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Am(r,e){wr(r.emulator,"Emulator should always be set here");const{url:i}=r.emulator;return e?`${i}${e.startsWith("/")?e.slice(1):e}`:i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dv{static initialize(e,i,a){this.fetchImpl=e,i&&(this.headersImpl=i),a&&(this.responseImpl=a)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Er("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Er("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Er("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tb={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Eb=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],Sb=new iu(3e4,6e4);function bm(r,e){return r.tenantId&&!e.tenantId?{...e,tenantId:r.tenantId}:e}async function wo(r,e,i,a,l={}){return Ov(r,l,async()=>{let c={},d={};a&&(e==="GET"?d=a:c={body:JSON.stringify(a)});const g=nu({key:r.config.apiKey,...d}).slice(1),y=await r._getAdditionalHeaders();y["Content-Type"]="application/json",r.languageCode&&(y["X-Firebase-Locale"]=r.languageCode);const _={method:e,headers:y,...c};return YS()||(_.referrerPolicy="no-referrer"),r.emulatorConfig&&Ao(r.emulatorConfig.host)&&(_.credentials="include"),Dv.fetch()(await Mv(r,r.config.apiHost,i,g),_)})}async function Ov(r,e,i){r._canInitEmulator=!1;const a={...Tb,...e};try{const l=new bb(r),c=await Promise.race([i(),l.promise]);l.clearNetworkTimeout();const d=await c.json();if("needConfirmation"in d)throw Oc(r,"account-exists-with-different-credential",d);if(c.ok&&!("errorMessage"in d))return d;{const g=c.ok?d.errorMessage:d.error.message,[y,_]=g.split(" : ");if(y==="FEDERATED_USER_ID_ALREADY_LINKED")throw Oc(r,"credential-already-in-use",d);if(y==="EMAIL_EXISTS")throw Oc(r,"email-already-in-use",d);if(y==="USER_DISABLED")throw Oc(r,"user-disabled",d);const b=a[y]||y.toLowerCase().replace(/[_\s]+/g,"-");if(_)throw Em(r,b,_);Ji(r,b)}}catch(l){if(l instanceof Ir)throw l;Ji(r,"network-request-failed",{message:String(l)})}}async function Ab(r,e,i,a,l={}){const c=await wo(r,e,i,a,l);return"mfaPendingCredential"in c&&Ji(r,"multi-factor-auth-required",{_serverResponse:c}),c}async function Mv(r,e,i,a){const l=`${e}${i}?${a}`,c=r,d=c.config.emulator?Am(r.config,l):`${r.config.apiScheme}://${l}`;return Eb.includes(i)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(d).toString():d}class bb{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((i,a)=>{this.timer=setTimeout(()=>a(bi(this.auth,"network-request-failed")),Sb.get())})}}function Oc(r,e,i){const a={appName:r.name};i.email&&(a.email=i.email),i.phoneNumber&&(a.phoneNumber=i.phoneNumber);const l=bi(r,e,a);return l.customData._tokenResponse=i,l}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wb(r,e){return wo(r,"POST","/v1/accounts:delete",e)}async function $c(r,e){return wo(r,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zl(r){if(r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function Rb(r,e=!1){const i=Kn(r),a=await i.getIdToken(e),l=wm(a);De(l&&l.exp&&l.auth_time&&l.iat,i.auth,"internal-error");const c=typeof l.firebase=="object"?l.firebase:void 0,d=c==null?void 0:c.sign_in_provider;return{claims:l,token:a,authTime:zl(Ud(l.auth_time)),issuedAtTime:zl(Ud(l.iat)),expirationTime:zl(Ud(l.exp)),signInProvider:d||null,signInSecondFactor:(c==null?void 0:c.sign_in_second_factor)||null}}function Ud(r){return Number(r)*1e3}function wm(r){const[e,i,a]=r.split(".");if(e===void 0||i===void 0||a===void 0)return zc("JWT malformed, contained fewer than 3 sections"),null;try{const l=yv(i);return l?JSON.parse(l):(zc("Failed to decode base64 JWT payload"),null)}catch(l){return zc("Caught error parsing JWT payload as JSON",l==null?void 0:l.toString()),null}}function Z0(r){const e=wm(r);return De(e,"internal-error"),De(typeof e.exp<"u","internal-error"),De(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Kl(r,e,i=!1){if(i)return e;try{return await e}catch(a){throw a instanceof Ir&&Cb(a)&&r.auth.currentUser===r&&await r.auth.signOut(),a}}function Cb({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ib{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const a=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,a)}}schedule(e=!1){if(!this.isRunning)return;const i=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wd{constructor(e,i){this.createdAt=e,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=zl(this.lastLoginAt),this.creationTime=zl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Wc(r){var A;const e=r.auth,i=await r.getIdToken(),a=await Kl(r,$c(e,{idToken:i}));De(a==null?void 0:a.users.length,e,"internal-error");const l=a.users[0];r._notifyReloadListener(l);const c=(A=l.providerUserInfo)!=null&&A.length?Vv(l.providerUserInfo):[],d=xb(r.providerData,c),g=r.isAnonymous,y=!(r.email&&l.passwordHash)&&!(d!=null&&d.length),_=g?y:!1,b={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:d,metadata:new Wd(l.createdAt,l.lastLoginAt),isAnonymous:_};Object.assign(r,b)}async function Nb(r){const e=Kn(r);await Wc(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function xb(r,e){return[...r.filter(a=>!e.some(l=>l.providerId===a.providerId)),...e]}function Vv(r){return r.map(({providerId:e,...i})=>({providerId:e,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Db(r,e){const i=await Ov(r,{},async()=>{const a=nu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:l,apiKey:c}=r.config,d=await Mv(r,l,"/v1/token",`key=${c}`),g=await r._getAdditionalHeaders();g["Content-Type"]="application/x-www-form-urlencoded";const y={method:"POST",headers:g,body:a};return r.emulatorConfig&&Ao(r.emulatorConfig.host)&&(y.credentials="include"),Dv.fetch()(d,y)});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function Ob(r,e){return wo(r,"POST","/v2/accounts:revokeToken",bm(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){De(e.idToken,"internal-error"),De(typeof e.idToken<"u","internal-error"),De(typeof e.refreshToken<"u","internal-error");const i="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Z0(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,i)}updateFromIdToken(e){De(e.length!==0,"internal-error");const i=Z0(e);this.updateTokensAndExpiration(e,null,i)}async getToken(e,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(De(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,i){const{accessToken:a,refreshToken:l,expiresIn:c}=await Db(e,i);this.updateTokensAndExpiration(a,l,Number(c))}updateTokensAndExpiration(e,i,a){this.refreshToken=i||null,this.accessToken=e||null,this.expirationTime=Date.now()+a*1e3}static fromJSON(e,i){const{refreshToken:a,accessToken:l,expirationTime:c}=i,d=new uo;return a&&(De(typeof a=="string","internal-error",{appName:e}),d.refreshToken=a),l&&(De(typeof l=="string","internal-error",{appName:e}),d.accessToken=l),c&&(De(typeof c=="number","internal-error",{appName:e}),d.expirationTime=c),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new uo,this.toJSON())}_performRefresh(){return Er("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hs(r,e){De(typeof r=="string"||typeof r>"u","internal-error",{appName:e})}class Si{constructor({uid:e,auth:i,stsTokenManager:a,...l}){this.providerId="firebase",this.proactiveRefresh=new Ib(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=i,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new Wd(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(e){const i=await Kl(this,this.stsTokenManager.getToken(this.auth,e));return De(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(e){return Rb(this,e)}reload(){return Nb(this)}_assign(e){this!==e&&(De(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(i=>({...i})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const i=new Si({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return i.metadata._copy(this.metadata),i}_onReload(e){De(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,i=!1){let a=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),a=!0),i&&await Wc(this),await this.auth._persistUserIfCurrent(this),a&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Ei(this.auth.app))return Promise.reject(sa(this.auth));const e=await this.getIdToken();return await Kl(this,wb(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,i){const a=i.displayName??void 0,l=i.email??void 0,c=i.phoneNumber??void 0,d=i.photoURL??void 0,g=i.tenantId??void 0,y=i._redirectEventId??void 0,_=i.createdAt??void 0,b=i.lastLoginAt??void 0,{uid:A,emailVerified:L,isAnonymous:q,providerData:re,stsTokenManager:ae}=i;De(A&&ae,e,"internal-error");const te=uo.fromJSON(this.name,ae);De(typeof A=="string",e,"internal-error"),hs(a,e.name),hs(l,e.name),De(typeof L=="boolean",e,"internal-error"),De(typeof q=="boolean",e,"internal-error"),hs(c,e.name),hs(d,e.name),hs(g,e.name),hs(y,e.name),hs(_,e.name),hs(b,e.name);const se=new Si({uid:A,auth:e,email:l,emailVerified:L,displayName:a,isAnonymous:q,photoURL:d,phoneNumber:c,tenantId:g,stsTokenManager:te,createdAt:_,lastLoginAt:b});return re&&Array.isArray(re)&&(se.providerData=re.map(Ee=>({...Ee}))),y&&(se._redirectEventId=y),se}static async _fromIdTokenResponse(e,i,a=!1){const l=new uo;l.updateFromServerResponse(i);const c=new Si({uid:i.localId,auth:e,stsTokenManager:l,isAnonymous:a});return await Wc(c),c}static async _fromGetAccountInfoResponse(e,i,a){const l=i.users[0];De(l.localId!==void 0,"internal-error");const c=l.providerUserInfo!==void 0?Vv(l.providerUserInfo):[],d=!(l.email&&l.passwordHash)&&!(c!=null&&c.length),g=new uo;g.updateFromIdToken(a);const y=new Si({uid:l.localId,auth:e,stsTokenManager:g,isAnonymous:d}),_={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:c,metadata:new Wd(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!(c!=null&&c.length)};return Object.assign(y,_),y}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J0=new Map;function Sr(r){wr(r instanceof Function,"Expected a class definition");let e=J0.get(r);return e?(wr(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,J0.set(r,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lv{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,i){this.storage[e]=i}async _get(e){const i=this.storage[e];return i===void 0?null:i}async _remove(e){delete this.storage[e]}_addListener(e,i){}_removeListener(e,i){}}Lv.type="NONE";const $0=Lv;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jc(r,e,i){return`firebase:${r}:${e}:${i}`}class co{constructor(e,i,a){this.persistence=e,this.auth=i,this.userKey=a;const{config:l,name:c}=this.auth;this.fullUserKey=jc(this.userKey,l.apiKey,c),this.fullPersistenceKey=jc("persistence",l.apiKey,c),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const i=await $c(this.auth,{idToken:e}).catch(()=>{});return i?Si._fromGetAccountInfoResponse(this.auth,i,e):null}return Si._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,i,a="authUser"){if(!i.length)return new co(Sr($0),e,a);const l=(await Promise.all(i.map(async _=>{if(await _._isAvailable())return _}))).filter(_=>_);let c=l[0]||Sr($0);const d=jc(a,e.config.apiKey,e.name);let g=null;for(const _ of i)try{const b=await _._get(d);if(b){let A;if(typeof b=="string"){const L=await $c(e,{idToken:b}).catch(()=>{});if(!L)break;A=await Si._fromGetAccountInfoResponse(e,L,b)}else A=Si._fromJSON(e,b);_!==c&&(g=A),c=_;break}}catch{}const y=l.filter(_=>_._shouldAllowMigration);return!c._shouldAllowMigration||!y.length?new co(c,e,a):(c=y[0],g&&await c._set(d,g.toJSON()),await Promise.all(i.map(async _=>{if(_!==c)try{await _._remove(d)}catch{}})),new co(c,e,a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W0(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(zv(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(kv(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Bv(e))return"Blackberry";if(Hv(e))return"Webos";if(Pv(e))return"Safari";if((e.includes("chrome/")||Uv(e))&&!e.includes("edge/"))return"Chrome";if(jv(e))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,a=r.match(i);if((a==null?void 0:a.length)===2)return a[1]}return"Other"}function kv(r=wn()){return/firefox\//i.test(r)}function Pv(r=wn()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Uv(r=wn()){return/crios\//i.test(r)}function zv(r=wn()){return/iemobile/i.test(r)}function jv(r=wn()){return/android/i.test(r)}function Bv(r=wn()){return/blackberry/i.test(r)}function Hv(r=wn()){return/webos/i.test(r)}function Rm(r=wn()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function Mb(r=wn()){var e;return Rm(r)&&!!((e=window.navigator)!=null&&e.standalone)}function Vb(){return XS()&&document.documentMode===10}function qv(r=wn()){return Rm(r)||jv(r)||Hv(r)||Bv(r)||/windows phone/i.test(r)||zv(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gv(r,e=[]){let i;switch(r){case"Browser":i=W0(wn());break;case"Worker":i=`${W0(wn())}-${r}`;break;default:i=r}const a=e.length?e.join(","):"FirebaseCore-web";return`${i}/JsCore/${bo}/${a}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lb{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,i){const a=c=>new Promise((d,g)=>{try{const y=e(c);d(y)}catch(y){g(y)}});a.onAbort=i,this.queue.push(a);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const i=[];try{for(const a of this.queue)await a(e),a.onAbort&&i.push(a.onAbort)}catch(a){i.reverse();for(const l of i)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:a==null?void 0:a.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kb(r,e={}){return wo(r,"GET","/v2/passwordPolicy",bm(r,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pb=6;class Ub{constructor(e){var a;const i=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=i.minPasswordLength??Pb,i.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=i.maxPasswordLength),i.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=i.containsLowercaseCharacter),i.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=i.containsUppercaseCharacter),i.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=i.containsNumericCharacter),i.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=i.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((a=e.allowedNonAlphanumericCharacters)==null?void 0:a.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const i={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,i),this.validatePasswordCharacterOptions(e,i),i.isValid&&(i.isValid=i.meetsMinPasswordLength??!0),i.isValid&&(i.isValid=i.meetsMaxPasswordLength??!0),i.isValid&&(i.isValid=i.containsLowercaseLetter??!0),i.isValid&&(i.isValid=i.containsUppercaseLetter??!0),i.isValid&&(i.isValid=i.containsNumericCharacter??!0),i.isValid&&(i.isValid=i.containsNonAlphanumericCharacter??!0),i}validatePasswordLengthOptions(e,i){const a=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;a&&(i.meetsMinPasswordLength=e.length>=a),l&&(i.meetsMaxPasswordLength=e.length<=l)}validatePasswordCharacterOptions(e,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let a;for(let l=0;l<e.length;l++)a=e.charAt(l),this.updatePasswordCharacterOptionsStatuses(i,a>="a"&&a<="z",a>="A"&&a<="Z",a>="0"&&a<="9",this.allowedNonAlphanumericCharacters.includes(a))}updatePasswordCharacterOptionsStatuses(e,i,a,l,c){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=a)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zb{constructor(e,i,a,l){this.app=e,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=a,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new e_(this),this.idTokenSubscription=new e_(this),this.beforeStateQueue=new Lb(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=xv,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=l.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(e,i){return i&&(this._popupRedirectResolver=Sr(i)),this._initializationPromise=this.queue(async()=>{var a,l,c;if(!this._deleted&&(this.persistenceManager=await co.create(this,e),(a=this._resolvePersistenceManagerAvailable)==null||a.call(this),!this._deleted)){if((l=this._popupRedirectResolver)!=null&&l._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=((c=this.currentUser)==null?void 0:c.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const i=await $c(this,{idToken:e}),a=await Si._fromGetAccountInfoResponse(this,i,e);await this.directlySetCurrentUser(a)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var c;if(Ei(this.app)){const d=this.app.settings.authIdToken;return d?new Promise(g=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(d).then(g,g))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let a=i,l=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const d=(c=this.redirectUser)==null?void 0:c._redirectEventId,g=a==null?void 0:a._redirectEventId,y=await this.tryRedirectSignIn(e);(!d||d===g)&&(y!=null&&y.user)&&(a=y.user,l=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(a)}catch(d){a=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(d))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return De(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(e){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(e){try{await Wc(e)}catch(i){if((i==null?void 0:i.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=vb()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Ei(this.app))return Promise.reject(sa(this));const i=e?Kn(e):null;return i&&De(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(e,i=!1){if(!this._deleted)return e&&De(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Ei(this.app)?Promise.reject(sa(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Ei(this.app)?Promise.reject(sa(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Sr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await kb(this),i=new Ub(e);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new tu("auth","Firebase",e())}onAuthStateChanged(e,i,a){return this.registerStateListener(this.authStateSubscription,e,i,a)}beforeAuthStateChanged(e,i){return this.beforeStateQueue.pushCallback(e,i)}onIdTokenChanged(e,i,a){return this.registerStateListener(this.idTokenSubscription,e,i,a)}authStateReady(){return new Promise((e,i)=>{if(this.currentUser)e();else{const a=this.onAuthStateChanged(()=>{a(),e()},i)}})}async revokeAccessToken(e){if(this.currentUser){const i=await this.currentUser.getIdToken(),a={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:i};this.tenantId!=null&&(a.tenantId=this.tenantId),await Ob(this,a)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,i){const a=await this.getOrInitRedirectPersistenceManager(i);return e===null?a.removeCurrentUser():a.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const i=e&&Sr(e)||this._popupRedirectResolver;De(i,this,"argument-error"),this.redirectPersistenceManager=await co.create(this,[Sr(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var i,a;return this._isInitialized&&await this.queue(async()=>{}),((i=this._currentUser)==null?void 0:i._redirectEventId)===e?this._currentUser:((a=this.redirectUser)==null?void 0:a._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var i;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((i=this.currentUser)==null?void 0:i.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,i,a,l){if(this._deleted)return()=>{};const c=typeof i=="function"?i:i.next.bind(i);let d=!1;const g=this._isInitialized?Promise.resolve():this._initializationPromise;if(De(g,this,"internal-error"),g.then(()=>{d||c(this.currentUser)}),typeof i=="function"){const y=e.addObserver(i,a,l);return()=>{d=!0,y()}}else{const y=e.addObserver(i);return()=>{d=!0,y()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return De(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Gv(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var l;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const i=await((l=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:l.getHeartbeatsHeader());i&&(e["X-Firebase-Client"]=i);const a=await this._getAppCheckToken();return a&&(e["X-Firebase-AppCheck"]=a),e}async _getAppCheckToken(){var i;if(Ei(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((i=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:i.getToken());return e!=null&&e.error&&gb(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function ph(r){return Kn(r)}class e_{constructor(e){this.auth=e,this.observer=null,this.addObserver=iA(i=>this.observer=i)}get next(){return De(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Cm={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function jb(r){Cm=r}function Bb(r){return Cm.loadJS(r)}function Hb(){return Cm.gapiScript}function qb(r){return`__${r}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gb(r,e){const i=Tm(r,"auth");if(i.isInitialized()){const l=i.getImmediate(),c=i.getOptions();if(oa(c,e??{}))return l;Ji(l,"already-initialized")}return i.initialize({options:e})}function Fb(r,e){const i=(e==null?void 0:e.persistence)||[],a=(Array.isArray(i)?i:[i]).map(Sr);e!=null&&e.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(a,e==null?void 0:e.popupRedirectResolver)}function Yb(r,e,i){const a=ph(r);De(/^https?:\/\//.test(e),a,"invalid-emulator-scheme");const l=!1,c=Fv(e),{host:d,port:g}=Kb(e),y=g===null?"":`:${g}`,_={url:`${c}//${d}${y}/`},b=Object.freeze({host:d,port:g,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:l})});if(!a._canInitEmulator){De(a.config.emulator&&a.emulatorConfig,a,"emulator-config-failed"),De(oa(_,a.config.emulator)&&oa(b,a.emulatorConfig),a,"emulator-config-failed");return}a.config.emulator=_,a.emulatorConfig=b,a.settings.appVerificationDisabledForTesting=!0,Ao(d)?(Ev(`${c}//${d}${y}`),Sv("Auth",!0)):Qb()}function Fv(r){const e=r.indexOf(":");return e<0?"":r.substr(0,e+1)}function Kb(r){const e=Fv(r),i=/(\/\/)?([^?#/]+)/.exec(r.substr(e.length));if(!i)return{host:"",port:null};const a=i[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(a);if(l){const c=l[1];return{host:c,port:t_(a.substr(c.length+1))}}else{const[c,d]=a.split(":");return{host:c,port:t_(d)}}}function t_(r){if(!r)return null;const e=Number(r);return isNaN(e)?null:e}function Qb(){function r(){const e=document.createElement("p"),i=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yv{constructor(e,i){this.providerId=e,this.signInMethod=i}toJSON(){return Er("not implemented")}_getIdTokenResponse(e){return Er("not implemented")}_linkToIdToken(e,i){return Er("not implemented")}_getReauthenticationResolver(e){return Er("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ho(r,e){return Ab(r,"POST","/v1/accounts:signInWithIdp",bm(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xb="http://localhost";class ua extends Yv{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const i=new ua(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(i.idToken=e.idToken),e.accessToken&&(i.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(i.nonce=e.nonce),e.pendingToken&&(i.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(i.accessToken=e.oauthToken,i.secret=e.oauthTokenSecret):Ji("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const i=typeof e=="string"?JSON.parse(e):e,{providerId:a,signInMethod:l,...c}=i;if(!a||!l)return null;const d=new ua(a,l);return d.idToken=c.idToken||void 0,d.accessToken=c.accessToken||void 0,d.secret=c.secret,d.nonce=c.nonce,d.pendingToken=c.pendingToken||null,d}_getIdTokenResponse(e){const i=this.buildRequest();return ho(e,i)}_linkToIdToken(e,i){const a=this.buildRequest();return a.idToken=i,ho(e,a)}_getReauthenticationResolver(e){const i=this.buildRequest();return i.autoCreate=!1,ho(e,i)}buildRequest(){const e={requestUri:Xb,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),e.postBody=nu(i)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Im{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ru extends Im{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fs extends ru{constructor(){super("facebook.com")}static credential(e){return ua._fromParams({providerId:fs.PROVIDER_ID,signInMethod:fs.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return fs.credentialFromTaggedObject(e)}static credentialFromError(e){return fs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return fs.credential(e.oauthAccessToken)}catch{return null}}}fs.FACEBOOK_SIGN_IN_METHOD="facebook.com";fs.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ds extends ru{constructor(){super("google.com"),this.addScope("profile")}static credential(e,i){return ua._fromParams({providerId:ds.PROVIDER_ID,signInMethod:ds.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:i})}static credentialFromResult(e){return ds.credentialFromTaggedObject(e)}static credentialFromError(e){return ds.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:i,oauthAccessToken:a}=e;if(!i&&!a)return null;try{return ds.credential(i,a)}catch{return null}}}ds.GOOGLE_SIGN_IN_METHOD="google.com";ds.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ms extends ru{constructor(){super("github.com")}static credential(e){return ua._fromParams({providerId:ms.PROVIDER_ID,signInMethod:ms.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ms.credentialFromTaggedObject(e)}static credentialFromError(e){return ms.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ms.credential(e.oauthAccessToken)}catch{return null}}}ms.GITHUB_SIGN_IN_METHOD="github.com";ms.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fi extends ru{constructor(){super("twitter.com")}static credential(e,i){return ua._fromParams({providerId:Fi.PROVIDER_ID,signInMethod:Fi.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:i})}static credentialFromResult(e){return Fi.credentialFromTaggedObject(e)}static credentialFromError(e){return Fi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:i,oauthTokenSecret:a}=e;if(!i||!a)return null;try{return Fi.credential(i,a)}catch{return null}}}Fi.TWITTER_SIGN_IN_METHOD="twitter.com";Fi.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class go{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,i,a,l=!1){const c=await Si._fromIdTokenResponse(e,a,l),d=n_(a);return new go({user:c,providerId:d,_tokenResponse:a,operationType:i})}static async _forOperation(e,i,a){await e._updateTokensIfNecessary(a,!0);const l=n_(a);return new go({user:e,providerId:l,_tokenResponse:a,operationType:i})}}function n_(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eh extends Ir{constructor(e,i,a,l){super(i.code,i.message),this.operationType=a,this.user=l,Object.setPrototypeOf(this,eh.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:i.customData._serverResponse,operationType:a}}static _fromErrorAndOperation(e,i,a,l){return new eh(e,i,a,l)}}function Kv(r,e,i,a){return(e==="reauthenticate"?i._getReauthenticationResolver(r):i._getIdTokenResponse(r)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?eh._fromErrorAndOperation(r,c,e,a):c})}async function Zb(r,e,i=!1){const a=await Kl(r,e._linkToIdToken(r.auth,await r.getIdToken()),i);return go._forOperation(r,"link",a)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Jb(r,e,i=!1){const{auth:a}=r;if(Ei(a.app))return Promise.reject(sa(a));const l="reauthenticate";try{const c=await Kl(r,Kv(a,l,e,r),i);De(c.idToken,a,"internal-error");const d=wm(c.idToken);De(d,a,"internal-error");const{sub:g}=d;return De(r.uid===g,a,"user-mismatch"),go._forOperation(r,l,c)}catch(c){throw(c==null?void 0:c.code)==="auth/user-not-found"&&Ji(a,"user-mismatch"),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $b(r,e,i=!1){if(Ei(r.app))return Promise.reject(sa(r));const a="signIn",l=await Kv(r,a,e),c=await go._fromIdTokenResponse(r,a,l);return i||await r._updateCurrentUser(c.user),c}function Wb(r,e,i,a){return Kn(r).onIdTokenChanged(e,i,a)}function ew(r,e,i){return Kn(r).beforeAuthStateChanged(e,i)}function tw(r,e,i,a){return Kn(r).onAuthStateChanged(e,i,a)}function Qv(r){return Kn(r).signOut()}const th="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xv{constructor(e,i){this.storageRetriever=e,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem(th,"1"),this.storage.removeItem(th),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,i){return this.storage.setItem(e,JSON.stringify(i)),Promise.resolve()}_get(e){const i=this.storage.getItem(e);return Promise.resolve(i?JSON.parse(i):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nw=1e3,iw=10;class Zv extends Xv{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,i)=>this.onStorageEvent(e,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=qv(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const i of Object.keys(this.listeners)){const a=this.storage.getItem(i),l=this.localCache[i];a!==l&&e(i,l,a)}}onStorageEvent(e,i=!1){if(!e.key){this.forAllChangedKeys((d,g,y)=>{this.notifyListeners(d,y)});return}const a=e.key;i?this.detachListener():this.stopPolling();const l=()=>{const d=this.storage.getItem(a);!i&&this.localCache[a]===d||this.notifyListeners(a,d)},c=this.storage.getItem(a);Vb()&&c!==e.newValue&&e.newValue!==e.oldValue?setTimeout(l,iw):l()}notifyListeners(e,i){this.localCache[e]=i;const a=this.listeners[e];if(a)for(const l of Array.from(a))l(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,i,a)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:i,newValue:a}),!0)})},nw)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(i)}_removeListener(e,i){this.listeners[e]&&(this.listeners[e].delete(i),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,i){await super._set(e,i),this.localCache[e]=JSON.stringify(i)}async _get(e){const i=await super._get(e);return this.localCache[e]=JSON.stringify(i),i}async _remove(e){await super._remove(e),delete this.localCache[e]}}Zv.type="LOCAL";const rw=Zv;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jv extends Xv{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,i){}_removeListener(e,i){}}Jv.type="SESSION";const $v=Jv;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sw(r){return Promise.all(r.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(i){return{fulfilled:!1,reason:i}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const i=this.receivers.find(l=>l.isListeningto(e));if(i)return i;const a=new yh(e);return this.receivers.push(a),a}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const i=e,{eventId:a,eventType:l,data:c}=i.data,d=this.handlersMap[l];if(!(d!=null&&d.size))return;i.ports[0].postMessage({status:"ack",eventId:a,eventType:l});const g=Array.from(d).map(async _=>_(i.origin,c)),y=await sw(g);i.ports[0].postMessage({status:"done",eventId:a,eventType:l,response:y})}_subscribe(e,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(i)}_unsubscribe(e,i){this.handlersMap[e]&&i&&this.handlersMap[e].delete(i),(!i||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}yh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nm(r="",e=10){let i="";for(let a=0;a<e;a++)i+=Math.floor(Math.random()*10);return r+i}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aw{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,i,a=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let c,d;return new Promise((g,y)=>{const _=Nm("",20);l.port1.start();const b=setTimeout(()=>{y(new Error("unsupported_event"))},a);d={messageChannel:l,onMessage(A){const L=A;if(L.data.eventId===_)switch(L.data.status){case"ack":clearTimeout(b),c=setTimeout(()=>{y(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),g(L.data.response);break;default:clearTimeout(b),clearTimeout(c),y(new Error("invalid_response"));break}}},this.handlers.add(d),l.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:e,eventId:_,data:i},[l.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yi(){return window}function ow(r){Yi().location.href=r}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wv(){return typeof Yi().WorkerGlobalScope<"u"&&typeof Yi().importScripts=="function"}async function lw(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function uw(){var r;return((r=navigator==null?void 0:navigator.serviceWorker)==null?void 0:r.controller)||null}function cw(){return Wv()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eT="firebaseLocalStorageDb",hw=1,nh="firebaseLocalStorage",tT="fbase_key";class su{constructor(e){this.request=e}toPromise(){return new Promise((e,i)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function _h(r,e){return r.transaction([nh],e?"readwrite":"readonly").objectStore(nh)}function fw(){const r=indexedDB.deleteDatabase(eT);return new su(r).toPromise()}function em(){const r=indexedDB.open(eT,hw);return new Promise((e,i)=>{r.addEventListener("error",()=>{i(r.error)}),r.addEventListener("upgradeneeded",()=>{const a=r.result;try{a.createObjectStore(nh,{keyPath:tT})}catch(l){i(l)}}),r.addEventListener("success",async()=>{const a=r.result;a.objectStoreNames.contains(nh)?e(a):(a.close(),await fw(),e(await em()))})})}async function i_(r,e,i){const a=_h(r,!0).put({[tT]:e,value:i});return new su(a).toPromise()}async function dw(r,e){const i=_h(r,!1).get(e),a=await new su(i).toPromise();return a===void 0?null:a.value}function r_(r,e){const i=_h(r,!0).delete(e);return new su(i).toPromise()}const mw=800,gw=3;class nT{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await em(),this.db)}async _withRetries(e){let i=0;for(;;)try{const a=await this._openDb();return await e(a)}catch(a){if(i++>gw)throw a;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Wv()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=yh._getInstance(cw()),this.receiver._subscribe("keyChanged",async(e,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(e,i)=>["keyChanged"])}async initializeSender(){var i,a;if(this.activeServiceWorker=await lw(),!this.activeServiceWorker)return;this.sender=new aw(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(i=e[0])!=null&&i.fulfilled&&(a=e[0])!=null&&a.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||uw()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await em();return await i_(e,th,"1"),await r_(e,th),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,i){return this._withPendingWrite(async()=>(await this._withRetries(a=>i_(a,e,i)),this.localCache[e]=i,this.notifyServiceWorker(e)))}async _get(e){const i=await this._withRetries(a=>dw(a,e));return this.localCache[e]=i,i}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(i=>r_(i,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(l=>{const c=_h(l,!1).getAll();return new su(c).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const i=[],a=new Set;if(e.length!==0)for(const{fbase_key:l,value:c}of e)a.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(c)&&(this.notifyListeners(l,c),i.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!a.has(l)&&(this.notifyListeners(l,null),i.push(l));return i}notifyListeners(e,i){this.localCache[e]=i;const a=this.listeners[e];if(a)for(const l of Array.from(a))l(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),mw)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(i)}_removeListener(e,i){this.listeners[e]&&(this.listeners[e].delete(i),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}nT.type="LOCAL";const pw=nT;new iu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iT(r,e){return e?Sr(e):(De(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xm extends Yv{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ho(e,this._buildIdpRequest())}_linkToIdToken(e,i){return ho(e,this._buildIdpRequest(i))}_getReauthenticationResolver(e){return ho(e,this._buildIdpRequest())}_buildIdpRequest(e){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(i.idToken=e),i}}function yw(r){return $b(r.auth,new xm(r),r.bypassAuthState)}function _w(r){const{auth:e,user:i}=r;return De(i,e,"internal-error"),Jb(i,new xm(r),r.bypassAuthState)}async function vw(r){const{auth:e,user:i}=r;return De(i,e,"internal-error"),Zb(i,new xm(r),r.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rT{constructor(e,i,a,l,c=!1){this.auth=e,this.resolver=a,this.user=l,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(e,i)=>{this.pendingPromise={resolve:e,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(a){this.reject(a)}})}async onAuthEvent(e){const{urlResponse:i,sessionId:a,postBody:l,tenantId:c,error:d,type:g}=e;if(d){this.reject(d);return}const y={auth:this.auth,requestUri:i,sessionId:a,tenantId:c||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(g)(y))}catch(_){this.reject(_)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return yw;case"linkViaPopup":case"linkViaRedirect":return vw;case"reauthViaPopup":case"reauthViaRedirect":return _w;default:Ji(this.auth,"internal-error")}}resolve(e){wr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){wr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tw=new iu(2e3,1e4);async function Ew(r,e,i){if(Ei(r.app))return Promise.reject(bi(r,"operation-not-supported-in-this-environment"));const a=ph(r);pb(r,e,Im);const l=iT(a,i);return new ia(a,"signInViaPopup",e,l).executeNotNull()}class ia extends rT{constructor(e,i,a,l,c){super(e,i,l,c),this.provider=a,this.authWindow=null,this.pollId=null,ia.currentPopupAction&&ia.currentPopupAction.cancel(),ia.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return De(e,this.auth,"internal-error"),e}async onExecution(){wr(this.filter.length===1,"Popup operations only handle one event");const e=Nm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(bi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(bi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ia.currentPopupAction=null}pollUserCancellation(){const e=()=>{var i,a;if((a=(i=this.authWindow)==null?void 0:i.window)!=null&&a.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(bi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,Tw.get())};e()}}ia.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sw="pendingRedirect",Bc=new Map;class Aw extends rT{constructor(e,i,a=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,a),this.eventId=null}async execute(){let e=Bc.get(this.auth._key());if(!e){try{const a=await bw(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(a)}catch(i){e=()=>Promise.reject(i)}Bc.set(this.auth._key(),e)}return this.bypassAuthState||Bc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const i=await this.auth._redirectUserForId(e.eventId);if(i)return this.user=i,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function bw(r,e){const i=Cw(e),a=Rw(r);if(!await a._isAvailable())return!1;const l=await a._get(i)==="true";return await a._remove(i),l}function ww(r,e){Bc.set(r._key(),e)}function Rw(r){return Sr(r._redirectPersistence)}function Cw(r){return jc(Sw,r.config.apiKey,r.name)}async function Iw(r,e,i=!1){if(Ei(r.app))return Promise.reject(sa(r));const a=ph(r),l=iT(a,e),d=await new Aw(a,l,i).execute();return d&&!i&&(delete d.user._redirectEventId,await a._persistUserIfCurrent(d.user),await a._setRedirectUser(null,e)),d}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nw=600*1e3;class xw{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let i=!1;return this.consumers.forEach(a=>{this.isEventForConsumer(e,a)&&(i=!0,this.sendToConsumer(e,a),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!Dw(e)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=e,i=!0)),i}sendToConsumer(e,i){var a;if(e.error&&!sT(e)){const l=((a=e.error.code)==null?void 0:a.split("auth/")[1])||"internal-error";i.onError(bi(this.auth,l))}else i.onAuthEvent(e)}isEventForConsumer(e,i){const a=i.eventId===null||!!e.eventId&&e.eventId===i.eventId;return i.filter.includes(e.type)&&a}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=Nw&&this.cachedEventUids.clear(),this.cachedEventUids.has(s_(e))}saveEventToCache(e){this.cachedEventUids.add(s_(e)),this.lastProcessedEventTime=Date.now()}}function s_(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(e=>e).join("-")}function sT({type:r,error:e}){return r==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function Dw(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return sT(r);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ow(r,e={}){return wo(r,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mw=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Vw=/^https?/;async function Lw(r){if(r.config.emulator)return;const{authorizedDomains:e}=await Ow(r);for(const i of e)try{if(kw(i))return}catch{}Ji(r,"unauthorized-domain")}function kw(r){const e=$d(),{protocol:i,hostname:a}=new URL(e);if(r.startsWith("chrome-extension://")){const d=new URL(r);return d.hostname===""&&a===""?i==="chrome-extension:"&&r.replace("chrome-extension://","")===e.replace("chrome-extension://",""):i==="chrome-extension:"&&d.hostname===a}if(!Vw.test(i))return!1;if(Mw.test(r))return a===r;const l=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(a)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pw=new iu(3e4,6e4);function a_(){const r=Yi().___jsl;if(r!=null&&r.H){for(const e of Object.keys(r.H))if(r.H[e].r=r.H[e].r||[],r.H[e].L=r.H[e].L||[],r.H[e].r=[...r.H[e].L],r.CP)for(let i=0;i<r.CP.length;i++)r.CP[i]=null}}function Uw(r){return new Promise((e,i)=>{var l,c,d;function a(){a_(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{a_(),i(bi(r,"network-request-failed"))},timeout:Pw.get()})}if((c=(l=Yi().gapi)==null?void 0:l.iframes)!=null&&c.Iframe)e(gapi.iframes.getContext());else if((d=Yi().gapi)!=null&&d.load)a();else{const g=qb("iframefcb");return Yi()[g]=()=>{gapi.load?a():i(bi(r,"network-request-failed"))},Bb(`${Hb()}?onload=${g}`).catch(y=>i(y))}}).catch(e=>{throw Hc=null,e})}let Hc=null;function zw(r){return Hc=Hc||Uw(r),Hc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jw=new iu(5e3,15e3),Bw="__/auth/iframe",Hw="emulator/auth/iframe",qw={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Gw=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Fw(r){const e=r.config;De(e.authDomain,r,"auth-domain-config-required");const i=e.emulator?Am(e,Hw):`https://${r.config.authDomain}/${Bw}`,a={apiKey:e.apiKey,appName:r.name,v:bo},l=Gw.get(r.config.apiHost);l&&(a.eid=l);const c=r._getFrameworks();return c.length&&(a.fw=c.join(",")),`${i}?${nu(a).slice(1)}`}async function Yw(r){const e=await zw(r),i=Yi().gapi;return De(i,r,"internal-error"),e.open({where:document.body,url:Fw(r),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:qw,dontclear:!0},a=>new Promise(async(l,c)=>{await a.restyle({setHideOnLeave:!1});const d=bi(r,"network-request-failed"),g=Yi().setTimeout(()=>{c(d)},jw.get());function y(){Yi().clearTimeout(g),l(a)}a.ping(y).then(y,()=>{c(d)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kw={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Qw=500,Xw=600,Zw="_blank",Jw="http://localhost";class o_{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function $w(r,e,i,a=Qw,l=Xw){const c=Math.max((window.screen.availHeight-l)/2,0).toString(),d=Math.max((window.screen.availWidth-a)/2,0).toString();let g="";const y={...Kw,width:a.toString(),height:l.toString(),top:c,left:d},_=wn().toLowerCase();i&&(g=Uv(_)?Zw:i),kv(_)&&(e=e||Jw,y.scrollbars="yes");const b=Object.entries(y).reduce((L,[q,re])=>`${L}${q}=${re},`,"");if(Mb(_)&&g!=="_self")return Ww(e||"",g),new o_(null);const A=window.open(e||"",g,b);De(A,r,"popup-blocked");try{A.focus()}catch{}return new o_(A)}function Ww(r,e){const i=document.createElement("a");i.href=r,i.target=e;const a=document.createEvent("MouseEvent");a.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(a)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e2="__/auth/handler",t2="emulator/auth/handler",n2=encodeURIComponent("fac");async function l_(r,e,i,a,l,c){De(r.config.authDomain,r,"auth-domain-config-required"),De(r.config.apiKey,r,"invalid-api-key");const d={apiKey:r.config.apiKey,appName:r.name,authType:i,redirectUrl:a,v:bo,eventId:l};if(e instanceof Im){e.setDefaultLanguage(r.languageCode),d.providerId=e.providerId||"",nA(e.getCustomParameters())||(d.customParameters=JSON.stringify(e.getCustomParameters()));for(const[b,A]of Object.entries({}))d[b]=A}if(e instanceof ru){const b=e.getScopes().filter(A=>A!=="");b.length>0&&(d.scopes=b.join(","))}r.tenantId&&(d.tid=r.tenantId);const g=d;for(const b of Object.keys(g))g[b]===void 0&&delete g[b];const y=await r._getAppCheckToken(),_=y?`#${n2}=${encodeURIComponent(y)}`:"";return`${i2(r)}?${nu(g).slice(1)}${_}`}function i2({config:r}){return r.emulator?Am(r,t2):`https://${r.authDomain}/${e2}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zd="webStorageSupport";class r2{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=$v,this._completeRedirectFn=Iw,this._overrideRedirectResult=ww}async _openPopup(e,i,a,l){var d;wr((d=this.eventManagers[e._key()])==null?void 0:d.manager,"_initialize() not called before _openPopup()");const c=await l_(e,i,a,$d(),l);return $w(e,c,Nm())}async _openRedirect(e,i,a,l){await this._originValidation(e);const c=await l_(e,i,a,$d(),l);return ow(c),new Promise(()=>{})}_initialize(e){const i=e._key();if(this.eventManagers[i]){const{manager:l,promise:c}=this.eventManagers[i];return l?Promise.resolve(l):(wr(c,"If manager is not set, promise should be"),c)}const a=this.initAndGetManager(e);return this.eventManagers[i]={promise:a},a.catch(()=>{delete this.eventManagers[i]}),a}async initAndGetManager(e){const i=await Yw(e),a=new xw(e);return i.register("authEvent",l=>(De(l==null?void 0:l.authEvent,e,"invalid-auth-event"),{status:a.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:a},this.iframes[e._key()]=i,a}_isIframeWebStorageSupported(e,i){this.iframes[e._key()].send(zd,{type:zd},l=>{var d;const c=(d=l==null?void 0:l[0])==null?void 0:d[zd];c!==void 0&&i(!!c),Ji(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const i=e._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=Lw(e)),this.originValidationPromises[i]}get _shouldInitProactively(){return qv()||Pv()||Rm()}}const s2=r2;var u_="@firebase/auth",c_="1.11.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a2{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const i=this.auth.onIdTokenChanged(a=>{e((a==null?void 0:a.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,i),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const i=this.internalListeners.get(e);i&&(this.internalListeners.delete(e),i(),this.updateProactiveRefresh())}assertAuthConfigured(){De(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o2(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function l2(r){mo(new la("auth",(e,{options:i})=>{const a=e.getProvider("app").getImmediate(),l=e.getProvider("heartbeat"),c=e.getProvider("app-check-internal"),{apiKey:d,authDomain:g}=a.options;De(d&&!d.includes(":"),"invalid-api-key",{appName:a.name});const y={apiKey:d,authDomain:g,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Gv(r)},_=new zb(a,l,c,y);return Fb(_,i),_},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,i,a)=>{e.getProvider("auth-internal").initialize()})),mo(new la("auth-internal",e=>{const i=ph(e.getProvider("auth").getImmediate());return(a=>new a2(a))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),_s(u_,c_,o2(r)),_s(u_,c_,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u2=300,c2=Tv("authIdTokenMaxAge")||u2;let h_=null;const h2=r=>async e=>{const i=e&&await e.getIdTokenResult(),a=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(a&&a>c2)return;const l=i==null?void 0:i.token;h_!==l&&(h_=l,await fetch(r,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function f2(r=Rv()){const e=Tm(r,"auth");if(e.isInitialized())return e.getImmediate();const i=Gb(r,{popupRedirectResolver:s2,persistence:[pw,rw,$v]}),a=Tv("authTokenSyncURL");if(a&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(a,location.origin);if(location.origin===c.origin){const d=h2(c.toString());ew(i,d,()=>d(i.currentUser)),Wb(i,g=>d(g))}}const l=_v("auth");return l&&Yb(i,`http://${l}`),i}function d2(){var r;return((r=document.getElementsByTagName("head"))==null?void 0:r[0])??document}jb({loadJS(r){return new Promise((e,i)=>{const a=document.createElement("script");a.setAttribute("src",r),a.onload=e,a.onerror=l=>{const c=bi("internal-error");c.customData=l,i(c)},a.type="text/javascript",a.charset="UTF-8",d2().appendChild(a)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});l2("Browser");var m2="firebase",g2="12.6.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */_s(m2,g2,"app");var f_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var vs,aT;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(N,R){function x(){}x.prototype=R.prototype,N.F=R.prototype,N.prototype=new x,N.prototype.constructor=N,N.D=function(k,O,U){for(var C=Array(arguments.length-2),gt=2;gt<arguments.length;gt++)C[gt-2]=arguments[gt];return R.prototype[O].apply(k,C)}}function i(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(a,i),a.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(N,R,x){x||(x=0);const k=Array(16);if(typeof R=="string")for(var O=0;O<16;++O)k[O]=R.charCodeAt(x++)|R.charCodeAt(x++)<<8|R.charCodeAt(x++)<<16|R.charCodeAt(x++)<<24;else for(O=0;O<16;++O)k[O]=R[x++]|R[x++]<<8|R[x++]<<16|R[x++]<<24;R=N.g[0],x=N.g[1],O=N.g[2];let U=N.g[3],C;C=R+(U^x&(O^U))+k[0]+3614090360&4294967295,R=x+(C<<7&4294967295|C>>>25),C=U+(O^R&(x^O))+k[1]+3905402710&4294967295,U=R+(C<<12&4294967295|C>>>20),C=O+(x^U&(R^x))+k[2]+606105819&4294967295,O=U+(C<<17&4294967295|C>>>15),C=x+(R^O&(U^R))+k[3]+3250441966&4294967295,x=O+(C<<22&4294967295|C>>>10),C=R+(U^x&(O^U))+k[4]+4118548399&4294967295,R=x+(C<<7&4294967295|C>>>25),C=U+(O^R&(x^O))+k[5]+1200080426&4294967295,U=R+(C<<12&4294967295|C>>>20),C=O+(x^U&(R^x))+k[6]+2821735955&4294967295,O=U+(C<<17&4294967295|C>>>15),C=x+(R^O&(U^R))+k[7]+4249261313&4294967295,x=O+(C<<22&4294967295|C>>>10),C=R+(U^x&(O^U))+k[8]+1770035416&4294967295,R=x+(C<<7&4294967295|C>>>25),C=U+(O^R&(x^O))+k[9]+2336552879&4294967295,U=R+(C<<12&4294967295|C>>>20),C=O+(x^U&(R^x))+k[10]+4294925233&4294967295,O=U+(C<<17&4294967295|C>>>15),C=x+(R^O&(U^R))+k[11]+2304563134&4294967295,x=O+(C<<22&4294967295|C>>>10),C=R+(U^x&(O^U))+k[12]+1804603682&4294967295,R=x+(C<<7&4294967295|C>>>25),C=U+(O^R&(x^O))+k[13]+4254626195&4294967295,U=R+(C<<12&4294967295|C>>>20),C=O+(x^U&(R^x))+k[14]+2792965006&4294967295,O=U+(C<<17&4294967295|C>>>15),C=x+(R^O&(U^R))+k[15]+1236535329&4294967295,x=O+(C<<22&4294967295|C>>>10),C=R+(O^U&(x^O))+k[1]+4129170786&4294967295,R=x+(C<<5&4294967295|C>>>27),C=U+(x^O&(R^x))+k[6]+3225465664&4294967295,U=R+(C<<9&4294967295|C>>>23),C=O+(R^x&(U^R))+k[11]+643717713&4294967295,O=U+(C<<14&4294967295|C>>>18),C=x+(U^R&(O^U))+k[0]+3921069994&4294967295,x=O+(C<<20&4294967295|C>>>12),C=R+(O^U&(x^O))+k[5]+3593408605&4294967295,R=x+(C<<5&4294967295|C>>>27),C=U+(x^O&(R^x))+k[10]+38016083&4294967295,U=R+(C<<9&4294967295|C>>>23),C=O+(R^x&(U^R))+k[15]+3634488961&4294967295,O=U+(C<<14&4294967295|C>>>18),C=x+(U^R&(O^U))+k[4]+3889429448&4294967295,x=O+(C<<20&4294967295|C>>>12),C=R+(O^U&(x^O))+k[9]+568446438&4294967295,R=x+(C<<5&4294967295|C>>>27),C=U+(x^O&(R^x))+k[14]+3275163606&4294967295,U=R+(C<<9&4294967295|C>>>23),C=O+(R^x&(U^R))+k[3]+4107603335&4294967295,O=U+(C<<14&4294967295|C>>>18),C=x+(U^R&(O^U))+k[8]+1163531501&4294967295,x=O+(C<<20&4294967295|C>>>12),C=R+(O^U&(x^O))+k[13]+2850285829&4294967295,R=x+(C<<5&4294967295|C>>>27),C=U+(x^O&(R^x))+k[2]+4243563512&4294967295,U=R+(C<<9&4294967295|C>>>23),C=O+(R^x&(U^R))+k[7]+1735328473&4294967295,O=U+(C<<14&4294967295|C>>>18),C=x+(U^R&(O^U))+k[12]+2368359562&4294967295,x=O+(C<<20&4294967295|C>>>12),C=R+(x^O^U)+k[5]+4294588738&4294967295,R=x+(C<<4&4294967295|C>>>28),C=U+(R^x^O)+k[8]+2272392833&4294967295,U=R+(C<<11&4294967295|C>>>21),C=O+(U^R^x)+k[11]+1839030562&4294967295,O=U+(C<<16&4294967295|C>>>16),C=x+(O^U^R)+k[14]+4259657740&4294967295,x=O+(C<<23&4294967295|C>>>9),C=R+(x^O^U)+k[1]+2763975236&4294967295,R=x+(C<<4&4294967295|C>>>28),C=U+(R^x^O)+k[4]+1272893353&4294967295,U=R+(C<<11&4294967295|C>>>21),C=O+(U^R^x)+k[7]+4139469664&4294967295,O=U+(C<<16&4294967295|C>>>16),C=x+(O^U^R)+k[10]+3200236656&4294967295,x=O+(C<<23&4294967295|C>>>9),C=R+(x^O^U)+k[13]+681279174&4294967295,R=x+(C<<4&4294967295|C>>>28),C=U+(R^x^O)+k[0]+3936430074&4294967295,U=R+(C<<11&4294967295|C>>>21),C=O+(U^R^x)+k[3]+3572445317&4294967295,O=U+(C<<16&4294967295|C>>>16),C=x+(O^U^R)+k[6]+76029189&4294967295,x=O+(C<<23&4294967295|C>>>9),C=R+(x^O^U)+k[9]+3654602809&4294967295,R=x+(C<<4&4294967295|C>>>28),C=U+(R^x^O)+k[12]+3873151461&4294967295,U=R+(C<<11&4294967295|C>>>21),C=O+(U^R^x)+k[15]+530742520&4294967295,O=U+(C<<16&4294967295|C>>>16),C=x+(O^U^R)+k[2]+3299628645&4294967295,x=O+(C<<23&4294967295|C>>>9),C=R+(O^(x|~U))+k[0]+4096336452&4294967295,R=x+(C<<6&4294967295|C>>>26),C=U+(x^(R|~O))+k[7]+1126891415&4294967295,U=R+(C<<10&4294967295|C>>>22),C=O+(R^(U|~x))+k[14]+2878612391&4294967295,O=U+(C<<15&4294967295|C>>>17),C=x+(U^(O|~R))+k[5]+4237533241&4294967295,x=O+(C<<21&4294967295|C>>>11),C=R+(O^(x|~U))+k[12]+1700485571&4294967295,R=x+(C<<6&4294967295|C>>>26),C=U+(x^(R|~O))+k[3]+2399980690&4294967295,U=R+(C<<10&4294967295|C>>>22),C=O+(R^(U|~x))+k[10]+4293915773&4294967295,O=U+(C<<15&4294967295|C>>>17),C=x+(U^(O|~R))+k[1]+2240044497&4294967295,x=O+(C<<21&4294967295|C>>>11),C=R+(O^(x|~U))+k[8]+1873313359&4294967295,R=x+(C<<6&4294967295|C>>>26),C=U+(x^(R|~O))+k[15]+4264355552&4294967295,U=R+(C<<10&4294967295|C>>>22),C=O+(R^(U|~x))+k[6]+2734768916&4294967295,O=U+(C<<15&4294967295|C>>>17),C=x+(U^(O|~R))+k[13]+1309151649&4294967295,x=O+(C<<21&4294967295|C>>>11),C=R+(O^(x|~U))+k[4]+4149444226&4294967295,R=x+(C<<6&4294967295|C>>>26),C=U+(x^(R|~O))+k[11]+3174756917&4294967295,U=R+(C<<10&4294967295|C>>>22),C=O+(R^(U|~x))+k[2]+718787259&4294967295,O=U+(C<<15&4294967295|C>>>17),C=x+(U^(O|~R))+k[9]+3951481745&4294967295,N.g[0]=N.g[0]+R&4294967295,N.g[1]=N.g[1]+(O+(C<<21&4294967295|C>>>11))&4294967295,N.g[2]=N.g[2]+O&4294967295,N.g[3]=N.g[3]+U&4294967295}a.prototype.v=function(N,R){R===void 0&&(R=N.length);const x=R-this.blockSize,k=this.C;let O=this.h,U=0;for(;U<R;){if(O==0)for(;U<=x;)l(this,N,U),U+=this.blockSize;if(typeof N=="string"){for(;U<R;)if(k[O++]=N.charCodeAt(U++),O==this.blockSize){l(this,k),O=0;break}}else for(;U<R;)if(k[O++]=N[U++],O==this.blockSize){l(this,k),O=0;break}}this.h=O,this.o+=R},a.prototype.A=function(){var N=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);N[0]=128;for(var R=1;R<N.length-8;++R)N[R]=0;R=this.o*8;for(var x=N.length-8;x<N.length;++x)N[x]=R&255,R/=256;for(this.v(N),N=Array(16),R=0,x=0;x<4;++x)for(let k=0;k<32;k+=8)N[R++]=this.g[x]>>>k&255;return N};function c(N,R){var x=g;return Object.prototype.hasOwnProperty.call(x,N)?x[N]:x[N]=R(N)}function d(N,R){this.h=R;const x=[];let k=!0;for(let O=N.length-1;O>=0;O--){const U=N[O]|0;k&&U==R||(x[O]=U,k=!1)}this.g=x}var g={};function y(N){return-128<=N&&N<128?c(N,function(R){return new d([R|0],R<0?-1:0)}):new d([N|0],N<0?-1:0)}function _(N){if(isNaN(N)||!isFinite(N))return A;if(N<0)return te(_(-N));const R=[];let x=1;for(let k=0;N>=x;k++)R[k]=N/x|0,x*=4294967296;return new d(R,0)}function b(N,R){if(N.length==0)throw Error("number format error: empty string");if(R=R||10,R<2||36<R)throw Error("radix out of range: "+R);if(N.charAt(0)=="-")return te(b(N.substring(1),R));if(N.indexOf("-")>=0)throw Error('number format error: interior "-" character');const x=_(Math.pow(R,8));let k=A;for(let U=0;U<N.length;U+=8){var O=Math.min(8,N.length-U);const C=parseInt(N.substring(U,U+O),R);O<8?(O=_(Math.pow(R,O)),k=k.j(O).add(_(C))):(k=k.j(x),k=k.add(_(C)))}return k}var A=y(0),L=y(1),q=y(16777216);r=d.prototype,r.m=function(){if(ae(this))return-te(this).m();let N=0,R=1;for(let x=0;x<this.g.length;x++){const k=this.i(x);N+=(k>=0?k:4294967296+k)*R,R*=4294967296}return N},r.toString=function(N){if(N=N||10,N<2||36<N)throw Error("radix out of range: "+N);if(re(this))return"0";if(ae(this))return"-"+te(this).toString(N);const R=_(Math.pow(N,6));var x=this;let k="";for(;;){const O=qe(x,R).g;x=se(x,O.j(R));let U=((x.g.length>0?x.g[0]:x.h)>>>0).toString(N);if(x=O,re(x))return U+k;for(;U.length<6;)U="0"+U;k=U+k}},r.i=function(N){return N<0?0:N<this.g.length?this.g[N]:this.h};function re(N){if(N.h!=0)return!1;for(let R=0;R<N.g.length;R++)if(N.g[R]!=0)return!1;return!0}function ae(N){return N.h==-1}r.l=function(N){return N=se(this,N),ae(N)?-1:re(N)?0:1};function te(N){const R=N.g.length,x=[];for(let k=0;k<R;k++)x[k]=~N.g[k];return new d(x,~N.h).add(L)}r.abs=function(){return ae(this)?te(this):this},r.add=function(N){const R=Math.max(this.g.length,N.g.length),x=[];let k=0;for(let O=0;O<=R;O++){let U=k+(this.i(O)&65535)+(N.i(O)&65535),C=(U>>>16)+(this.i(O)>>>16)+(N.i(O)>>>16);k=C>>>16,U&=65535,C&=65535,x[O]=C<<16|U}return new d(x,x[x.length-1]&-2147483648?-1:0)};function se(N,R){return N.add(te(R))}r.j=function(N){if(re(this)||re(N))return A;if(ae(this))return ae(N)?te(this).j(te(N)):te(te(this).j(N));if(ae(N))return te(this.j(te(N)));if(this.l(q)<0&&N.l(q)<0)return _(this.m()*N.m());const R=this.g.length+N.g.length,x=[];for(var k=0;k<2*R;k++)x[k]=0;for(k=0;k<this.g.length;k++)for(let O=0;O<N.g.length;O++){const U=this.i(k)>>>16,C=this.i(k)&65535,gt=N.i(O)>>>16,St=N.i(O)&65535;x[2*k+2*O]+=C*St,Ee(x,2*k+2*O),x[2*k+2*O+1]+=U*St,Ee(x,2*k+2*O+1),x[2*k+2*O+1]+=C*gt,Ee(x,2*k+2*O+1),x[2*k+2*O+2]+=U*gt,Ee(x,2*k+2*O+2)}for(N=0;N<R;N++)x[N]=x[2*N+1]<<16|x[2*N];for(N=R;N<2*R;N++)x[N]=0;return new d(x,0)};function Ee(N,R){for(;(N[R]&65535)!=N[R];)N[R+1]+=N[R]>>>16,N[R]&=65535,R++}function Se(N,R){this.g=N,this.h=R}function qe(N,R){if(re(R))throw Error("division by zero");if(re(N))return new Se(A,A);if(ae(N))return R=qe(te(N),R),new Se(te(R.g),te(R.h));if(ae(R))return R=qe(N,te(R)),new Se(te(R.g),R.h);if(N.g.length>30){if(ae(N)||ae(R))throw Error("slowDivide_ only works with positive integers.");for(var x=L,k=R;k.l(N)<=0;)x=Ue(x),k=Ue(k);var O=Oe(x,1),U=Oe(k,1);for(k=Oe(k,2),x=Oe(x,2);!re(k);){var C=U.add(k);C.l(N)<=0&&(O=O.add(x),U=C),k=Oe(k,1),x=Oe(x,1)}return R=se(N,O.j(R)),new Se(O,R)}for(O=A;N.l(R)>=0;){for(x=Math.max(1,Math.floor(N.m()/R.m())),k=Math.ceil(Math.log(x)/Math.LN2),k=k<=48?1:Math.pow(2,k-48),U=_(x),C=U.j(R);ae(C)||C.l(N)>0;)x-=k,U=_(x),C=U.j(R);re(U)&&(U=L),O=O.add(U),N=se(N,C)}return new Se(O,N)}r.B=function(N){return qe(this,N).h},r.and=function(N){const R=Math.max(this.g.length,N.g.length),x=[];for(let k=0;k<R;k++)x[k]=this.i(k)&N.i(k);return new d(x,this.h&N.h)},r.or=function(N){const R=Math.max(this.g.length,N.g.length),x=[];for(let k=0;k<R;k++)x[k]=this.i(k)|N.i(k);return new d(x,this.h|N.h)},r.xor=function(N){const R=Math.max(this.g.length,N.g.length),x=[];for(let k=0;k<R;k++)x[k]=this.i(k)^N.i(k);return new d(x,this.h^N.h)};function Ue(N){const R=N.g.length+1,x=[];for(let k=0;k<R;k++)x[k]=N.i(k)<<1|N.i(k-1)>>>31;return new d(x,N.h)}function Oe(N,R){const x=R>>5;R%=32;const k=N.g.length-x,O=[];for(let U=0;U<k;U++)O[U]=R>0?N.i(U+x)>>>R|N.i(U+x+1)<<32-R:N.i(U+x);return new d(O,N.h)}a.prototype.digest=a.prototype.A,a.prototype.reset=a.prototype.u,a.prototype.update=a.prototype.v,aT=a,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=_,d.fromString=b,vs=d}).apply(typeof f_<"u"?f_:typeof self<"u"?self:typeof window<"u"?window:{});var Mc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var oT,Vl,lT,qc,tm,uT,cT,hT;(function(){var r,e=Object.defineProperty;function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Mc=="object"&&Mc];for(var m=0;m<u.length;++m){var v=u[m];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var a=i(this);function l(u,m){if(m)e:{var v=a;u=u.split(".");for(var S=0;S<u.length-1;S++){var z=u[S];if(!(z in v))break e;v=v[z]}u=u[u.length-1],S=v[u],m=m(S),m!=S&&m!=null&&e(v,u,{configurable:!0,writable:!0,value:m})}}l("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),l("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),l("Object.entries",function(u){return u||function(m){var v=[],S;for(S in m)Object.prototype.hasOwnProperty.call(m,S)&&v.push([S,m[S]]);return v}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var c=c||{},d=this||self;function g(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function y(u,m,v){return u.call.apply(u.bind,arguments)}function _(u,m,v){return _=y,_.apply(null,arguments)}function b(u,m){var v=Array.prototype.slice.call(arguments,1);return function(){var S=v.slice();return S.push.apply(S,arguments),u.apply(this,S)}}function A(u,m){function v(){}v.prototype=m.prototype,u.Z=m.prototype,u.prototype=new v,u.prototype.constructor=u,u.Ob=function(S,z,G){for(var le=Array(arguments.length-2),Be=2;Be<arguments.length;Be++)le[Be-2]=arguments[Be];return m.prototype[z].apply(S,le)}}var L=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function q(u){const m=u.length;if(m>0){const v=Array(m);for(let S=0;S<m;S++)v[S]=u[S];return v}return[]}function re(u,m){for(let S=1;S<arguments.length;S++){const z=arguments[S];var v=typeof z;if(v=v!="object"?v:z?Array.isArray(z)?"array":v:"null",v=="array"||v=="object"&&typeof z.length=="number"){v=u.length||0;const G=z.length||0;u.length=v+G;for(let le=0;le<G;le++)u[v+le]=z[le]}else u.push(z)}}class ae{constructor(m,v){this.i=m,this.j=v,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function te(u){d.setTimeout(()=>{throw u},0)}function se(){var u=N;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class Ee{constructor(){this.h=this.g=null}add(m,v){const S=Se.get();S.set(m,v),this.h?this.h.next=S:this.g=S,this.h=S}}var Se=new ae(()=>new qe,u=>u.reset());class qe{constructor(){this.next=this.g=this.h=null}set(m,v){this.h=m,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let Ue,Oe=!1,N=new Ee,R=()=>{const u=Promise.resolve(void 0);Ue=()=>{u.then(x)}};function x(){for(var u;u=se();){try{u.h.call(u.g)}catch(v){te(v)}var m=Se;m.j(u),m.h<100&&(m.h++,u.next=m.g,m.g=u)}Oe=!1}function k(){this.u=this.u,this.C=this.C}k.prototype.u=!1,k.prototype.dispose=function(){this.u||(this.u=!0,this.N())},k.prototype[Symbol.dispose]=function(){this.dispose()},k.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function O(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}O.prototype.h=function(){this.defaultPrevented=!0};var U=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const v=()=>{};d.addEventListener("test",v,m),d.removeEventListener("test",v,m)}catch{}return u})();function C(u){return/^[\s\xa0]*$/.test(u)}function gt(u,m){O.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,m)}A(gt,O),gt.prototype.init=function(u,m){const v=this.type=u.type,S=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget,m||(v=="mouseover"?m=u.fromElement:v=="mouseout"&&(m=u.toElement)),this.relatedTarget=m,S?(this.clientX=S.clientX!==void 0?S.clientX:S.pageX,this.clientY=S.clientY!==void 0?S.clientY:S.pageY,this.screenX=S.screenX||0,this.screenY=S.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&gt.Z.h.call(this)},gt.prototype.h=function(){gt.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var St="closure_listenable_"+(Math.random()*1e6|0),K=0;function ue(u,m,v,S,z){this.listener=u,this.proxy=null,this.src=m,this.type=v,this.capture=!!S,this.ha=z,this.key=++K,this.da=this.fa=!1}function ve(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Fe(u,m,v){for(const S in u)m.call(v,u[S],S,u)}function Qe(u,m){for(const v in u)m.call(void 0,u[v],v,u)}function V(u){const m={};for(const v in u)m[v]=u[v];return m}const X="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ce(u,m){let v,S;for(let z=1;z<arguments.length;z++){S=arguments[z];for(v in S)u[v]=S[v];for(let G=0;G<X.length;G++)v=X[G],Object.prototype.hasOwnProperty.call(S,v)&&(u[v]=S[v])}}function he(u){this.src=u,this.g={},this.h=0}he.prototype.add=function(u,m,v,S,z){const G=u.toString();u=this.g[G],u||(u=this.g[G]=[],this.h++);const le=xe(u,m,S,z);return le>-1?(m=u[le],v||(m.fa=!1)):(m=new ue(m,this.src,G,!!S,z),m.fa=v,u.push(m)),m};function Ce(u,m){const v=m.type;if(v in u.g){var S=u.g[v],z=Array.prototype.indexOf.call(S,m,void 0),G;(G=z>=0)&&Array.prototype.splice.call(S,z,1),G&&(ve(m),u.g[v].length==0&&(delete u.g[v],u.h--))}}function xe(u,m,v,S){for(let z=0;z<u.length;++z){const G=u[z];if(!G.da&&G.listener==m&&G.capture==!!v&&G.ha==S)return z}return-1}var ze="closure_lm_"+(Math.random()*1e6|0),Ut={};function At(u,m,v,S,z){if(Array.isArray(m)){for(let G=0;G<m.length;G++)At(u,m[G],v,S,z);return null}return v=Dr(v),u&&u[St]?u.J(m,v,g(S)?!!S.capture:!1,z):Qn(u,m,v,!1,S,z)}function Qn(u,m,v,S,z,G){if(!m)throw Error("Invalid event type");const le=g(z)?!!z.capture:!!z;let Be=tr(u);if(Be||(u[ze]=Be=new he(u)),v=Be.add(m,v,S,le,G),v.proxy)return v;if(S=Nr(),v.proxy=S,S.src=u,S.listener=v,u.addEventListener)U||(z=le),z===void 0&&(z=!1),u.addEventListener(m.toString(),S,z);else if(u.attachEvent)u.attachEvent(Xn(m.toString()),S);else if(u.addListener&&u.removeListener)u.addListener(S);else throw Error("addEventListener and attachEvent are unavailable.");return v}function Nr(){function u(v){return m.call(u.src,u.listener,v)}const m=Is;return u}function xr(u,m,v,S,z){if(Array.isArray(m))for(var G=0;G<m.length;G++)xr(u,m[G],v,S,z);else S=g(S)?!!S.capture:!!S,v=Dr(v),u&&u[St]?(u=u.i,G=String(m).toString(),G in u.g&&(m=u.g[G],v=xe(m,v,S,z),v>-1&&(ve(m[v]),Array.prototype.splice.call(m,v,1),m.length==0&&(delete u.g[G],u.h--)))):u&&(u=tr(u))&&(m=u.g[m.toString()],u=-1,m&&(u=xe(m,v,S,z)),(v=u>-1?m[u]:null)&&tt(v))}function tt(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[St])Ce(m.i,u);else{var v=u.type,S=u.proxy;m.removeEventListener?m.removeEventListener(v,S,u.capture):m.detachEvent?m.detachEvent(Xn(v),S):m.addListener&&m.removeListener&&m.removeListener(S),(v=tr(m))?(Ce(v,u),v.h==0&&(v.src=null,m[ze]=null)):ve(u)}}}function Xn(u){return u in Ut?Ut[u]:Ut[u]="on"+u}function Is(u,m){if(u.da)u=!0;else{m=new gt(m,this);const v=u.listener,S=u.ha||u.src;u.fa&&tt(u),u=v.call(S,m)}return u}function tr(u){return u=u[ze],u instanceof he?u:null}var Ns="__closure_events_fn_"+(Math.random()*1e9>>>0);function Dr(u){return typeof u=="function"?u:(u[Ns]||(u[Ns]=function(m){return u.handleEvent(m)}),u[Ns])}function ct(){k.call(this),this.i=new he(this),this.M=this,this.G=null}A(ct,k),ct.prototype[St]=!0,ct.prototype.removeEventListener=function(u,m,v,S){xr(this,u,m,v,S)};function zt(u,m){var v,S=u.G;if(S)for(v=[];S;S=S.G)v.push(S);if(u=u.M,S=m.type||m,typeof m=="string")m=new O(m,u);else if(m instanceof O)m.target=m.target||u;else{var z=m;m=new O(S,u),ce(m,z)}z=!0;let G,le;if(v)for(le=v.length-1;le>=0;le--)G=m.g=v[le],z=wi(G,S,!0,m)&&z;if(G=m.g=u,z=wi(G,S,!0,m)&&z,z=wi(G,S,!1,m)&&z,v)for(le=0;le<v.length;le++)G=m.g=v[le],z=wi(G,S,!1,m)&&z}ct.prototype.N=function(){if(ct.Z.N.call(this),this.i){var u=this.i;for(const m in u.g){const v=u.g[m];for(let S=0;S<v.length;S++)ve(v[S]);delete u.g[m],u.h--}}this.G=null},ct.prototype.J=function(u,m,v,S){return this.i.add(String(u),m,!1,v,S)},ct.prototype.K=function(u,m,v,S){return this.i.add(String(u),m,!0,v,S)};function wi(u,m,v,S){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();let z=!0;for(let G=0;G<m.length;++G){const le=m[G];if(le&&!le.da&&le.capture==v){const Be=le.listener,Bt=le.ha||le.src;le.fa&&Ce(u.i,le),z=Be.call(Bt,S)!==!1&&z}}return z&&!S.defaultPrevented}function xo(u,m){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=_(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:d.setTimeout(u,m||0)}function pa(u){u.g=xo(()=>{u.g=null,u.i&&(u.i=!1,pa(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class un extends k{constructor(m,v){super(),this.m=m,this.l=v,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:pa(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function nr(u){k.call(this),this.h=u,this.g={}}A(nr,k);var Ri=[];function xs(u){Fe(u.g,function(m,v){this.g.hasOwnProperty(v)&&tt(m)},u),u.g={}}nr.prototype.N=function(){nr.Z.N.call(this),xs(this)},nr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var hi=d.JSON.stringify,Do=d.JSON.parse,ya=class{stringify(u){return d.JSON.stringify(u,void 0)}parse(u){return d.JSON.parse(u,void 0)}};function Or(){}function Mr(){}var Rn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function jt(){O.call(this,"d")}A(jt,O);function T(){O.call(this,"c")}A(T,O);var w={},F=null;function W(){return F=F||new ct}w.Ia="serverreachability";function ne(u){O.call(this,w.Ia,u)}A(ne,O);function ie(u){const m=W();zt(m,new ne(m))}w.STAT_EVENT="statevent";function me(u,m){O.call(this,w.STAT_EVENT,u),this.stat=m}A(me,O);function ge(u){const m=W();zt(m,new me(m,u))}w.Ja="timingevent";function Ae(u,m){O.call(this,w.Ja,u),this.size=m}A(Ae,O);function Me(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){u()},m)}function ye(){this.g=!0}ye.prototype.ua=function(){this.g=!1};function pt(u,m,v,S,z,G){u.info(function(){if(u.g)if(G){var le="",Be=G.split("&");for(let ot=0;ot<Be.length;ot++){var Bt=Be[ot].split("=");if(Bt.length>1){const xt=Bt[0];Bt=Bt[1];const ei=xt.split("_");le=ei.length>=2&&ei[1]=="type"?le+(xt+"="+Bt+"&"):le+(xt+"=redacted&")}}}else le=null;else le=G;return"XMLHTTP REQ ("+S+") [attempt "+z+"]: "+m+`
`+v+`
`+le})}function Mt(u,m,v,S,z,G,le){u.info(function(){return"XMLHTTP RESP ("+S+") [ attempt "+z+"]: "+m+`
`+v+`
`+G+" "+le})}function ht(u,m,v,S){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+oe(u,v)+(S?" "+S:"")})}function Vt(u,m){u.info(function(){return"TIMEOUT: "+m})}ye.prototype.info=function(){};function oe(u,m){if(!u.g)return m;if(!m)return null;try{const G=JSON.parse(m);if(G){for(u=0;u<G.length;u++)if(Array.isArray(G[u])){var v=G[u];if(!(v.length<2)){var S=v[1];if(Array.isArray(S)&&!(S.length<1)){var z=S[0];if(z!="noop"&&z!="stop"&&z!="close")for(let le=1;le<S.length;le++)S[le]=""}}}}return hi(G)}catch{return m}}var Ve={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},It={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},je;function at(){}A(at,Or),at.prototype.g=function(){return new XMLHttpRequest},je=new at;function Ne(u){return encodeURIComponent(String(u))}function it(u){var m=1;u=u.split(":");const v=[];for(;m>0&&u.length;)v.push(u.shift()),m--;return u.length&&v.push(u.join(":")),v}function cn(u,m,v,S){this.j=u,this.i=m,this.l=v,this.S=S||1,this.V=new nr(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new hn}function hn(){this.i=null,this.g="",this.h=!1}var Nt={},Lt={};function Zn(u,m,v){u.M=1,u.A=Ds(Yt(m)),u.u=v,u.R=!0,_a(u,null)}function _a(u,m){u.F=Date.now(),Ci(u),u.B=Yt(u.A);var v=u.B,S=u.S;Array.isArray(S)||(S=[String(S)]),Sa(v.i,"t",S),u.C=0,v=u.j.L,u.h=new hn,u.g=wu(u.j,v?m:null,!u.u),u.P>0&&(u.O=new un(_(u.Y,u,u.g),u.P)),m=u.V,v=u.g,S=u.ba;var z="readystatechange";Array.isArray(z)||(z&&(Ri[0]=z.toString()),z=Ri);for(let G=0;G<z.length;G++){const le=At(v,z[G],S||m.handleEvent,!1,m.h||m);if(!le)break;m.g[le.key]=le}m=u.J?V(u.J):{},u.u?(u.v||(u.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,m)):(u.v="GET",u.g.ea(u.B,u.v,null,m)),ie(),pt(u.i,u.v,u.B,u.l,u.S,u.u)}cn.prototype.ba=function(u){u=u.target;const m=this.O;m&&mi(u)==3?m.j():this.Y(u)},cn.prototype.Y=function(u){try{if(u==this.g)e:{const Be=mi(this.g),Bt=this.g.ya(),ot=this.g.ca();if(!(Be<3)&&(Be!=3||this.g&&(this.h.h||this.g.la()||fn(this.g)))){this.K||Be!=4||Bt==7||(Bt==8||ot<=0?ie(3):ie(2)),Ii(this);var m=this.g.ca();this.X=m;var v=Oh(this);if(this.o=m==200,Mt(this.i,this.v,this.B,this.l,this.S,Be,m),this.o){if(this.U&&!this.L){t:{if(this.g){var S,z=this.g;if((S=z.g?z.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!C(S)){var G=S;break t}}G=null}if(u=G)ht(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Ni(this,u);else{this.o=!1,this.m=3,ge(12),Un(this),Jn(this);break e}}if(this.R){u=!0;let xt;for(;!this.K&&this.C<v.length;)if(xt=fu(this,v),xt==Lt){Be==4&&(this.m=4,ge(14),u=!1),ht(this.i,this.l,null,"[Incomplete Response]");break}else if(xt==Nt){this.m=4,ge(15),ht(this.i,this.l,v,"[Invalid Chunk]"),u=!1;break}else ht(this.i,this.l,xt,null),Ni(this,xt);if(hu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Be!=4||v.length!=0||this.h.h||(this.m=1,ge(16),u=!1),this.o=this.o&&u,!u)ht(this.i,this.l,v,"[Invalid Chunked Response]"),Un(this),Jn(this);else if(v.length>0&&!this.W){this.W=!0;var le=this.j;le.g==this&&le.aa&&!le.P&&(le.j.info("Great, no buffering proxy detected. Bytes received: "+v.length),Yo(le),le.P=!0,ge(11))}}else ht(this.i,this.l,v,null),Ni(this,v);Be==4&&Un(this),this.o&&!this.K&&(Be==4?Eu(this.j,this):(this.o=!1,Ci(this)))}else rr(this.g),m==400&&v.indexOf("Unknown SID")>0?(this.m=3,ge(12)):(this.m=0,ge(13)),Un(this),Jn(this)}}}catch{}finally{}};function Oh(u){if(!hu(u))return u.g.la();const m=fn(u.g);if(m==="")return"";let v="";const S=m.length,z=mi(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return Un(u),Jn(u),"";u.h.i=new d.TextDecoder}for(let G=0;G<S;G++)u.h.h=!0,v+=u.h.i.decode(m[G],{stream:!(z&&G==S-1)});return m.length=0,u.h.g+=v,u.C=0,u.h.g}function hu(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function fu(u,m){var v=u.C,S=m.indexOf(`
`,v);return S==-1?Lt:(v=Number(m.substring(v,S)),isNaN(v)?Nt:(S+=1,S+v>m.length?Lt:(m=m.slice(S,S+v),u.C=S+v,m)))}cn.prototype.cancel=function(){this.K=!0,Un(this)};function Ci(u){u.T=Date.now()+u.H,va(u,u.H)}function va(u,m){if(u.D!=null)throw Error("WatchDog timer not null");u.D=Me(_(u.aa,u),m)}function Ii(u){u.D&&(d.clearTimeout(u.D),u.D=null)}cn.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(Vt(this.i,this.B),this.M!=2&&(ie(),ge(17)),Un(this),this.m=2,Jn(this)):va(this,this.T-u)};function Jn(u){u.j.I==0||u.K||Eu(u.j,u)}function Un(u){Ii(u);var m=u.O;m&&typeof m.dispose=="function"&&m.dispose(),u.O=null,xs(u.V),u.g&&(m=u.g,u.g=null,m.abort(),m.dispose())}function Ni(u,m){try{var v=u.j;if(v.I!=0&&(v.g==u||Di(v.h,u))){if(!u.L&&Di(v.h,u)&&v.I==3){try{var S=v.Ba.g.parse(m)}catch{S=null}if(Array.isArray(S)&&S.length==3){var z=S;if(z[0]==0){e:if(!v.v){if(v.g)if(v.g.F+3e3<u.F)Ca(v),Br(v);else break e;Us(v),ge(18)}}else v.xa=z[1],0<v.xa-v.K&&z[2]<37500&&v.F&&v.A==0&&!v.C&&(v.C=Me(_(v.Va,v),6e3));xi(v.h)<=1&&v.ta&&(v.ta=void 0)}else Pi(v,11)}else if((u.L||v.g==u)&&Ca(v),!C(m))for(z=v.Ba.g.parse(m),m=0;m<z.length;m++){let ot=z[m];const xt=ot[0];if(!(xt<=v.K))if(v.K=xt,ot=ot[1],v.I==2)if(ot[0]=="c"){v.M=ot[1],v.ba=ot[2];const ei=ot[3];ei!=null&&(v.ka=ei,v.j.info("VER="+v.ka));const Ui=ot[4];Ui!=null&&(v.za=Ui,v.j.info("SVER="+v.za));const gi=ot[5];gi!=null&&typeof gi=="number"&&gi>0&&(S=1.5*gi,v.O=S,v.j.info("backChannelRequestTimeoutMs_="+S)),S=v;const pi=u.g;if(pi){const zs=pi.g?pi.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(zs){var G=S.h;G.g||zs.indexOf("spdy")==-1&&zs.indexOf("quic")==-1&&zs.indexOf("h2")==-1||(G.j=G.l,G.g=new Set,G.h&&(Vo(G,G.h),G.h=null))}if(S.G){const Ia=pi.g?pi.g.getResponseHeader("X-HTTP-Session-Id"):null;Ia&&(S.wa=Ia,ft(S.J,S.G,Ia))}}v.I=3,v.l&&v.l.ra(),v.aa&&(v.T=Date.now()-u.F,v.j.info("Handshake RTT: "+v.T+"ms")),S=v;var le=u;if(S.na=bu(S,S.L?S.ba:null,S.W),le.L){Lo(S.h,le);var Be=le,Bt=S.O;Bt&&(Be.H=Bt),Be.D&&(Ii(Be),Ci(Be)),S.g=le}else vu(S);v.i.length>0&&ki(v)}else ot[0]!="stop"&&ot[0]!="close"||Pi(v,7);else v.I==3&&(ot[0]=="stop"||ot[0]=="close"?ot[0]=="stop"?Pi(v,7):Go(v):ot[0]!="noop"&&v.l&&v.l.qa(ot),v.A=0)}}ie(4)}catch{}}var Ft=class{constructor(u,m){this.g=u,this.map=m}};function Oo(u){this.l=u||10,d.PerformanceNavigationTiming?(u=d.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Mo(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function xi(u){return u.h?1:u.g?u.g.size:0}function Di(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function Vo(u,m){u.g?u.g.add(m):u.h=m}function Lo(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}Oo.prototype.cancel=function(){if(this.i=ko(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function ko(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const v of u.g.values())m=m.concat(v.G);return m}return q(u.i)}var du=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ta(u,m){if(u){u=u.split("&");for(let v=0;v<u.length;v++){const S=u[v].indexOf("=");let z,G=null;S>=0?(z=u[v].substring(0,S),G=u[v].substring(S+1)):z=u[v],m(z,G?decodeURIComponent(G.replace(/\+/g," ")):"")}}}function zn(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;u instanceof zn?(this.l=u.l,an(this,u.j),this.o=u.o,this.g=u.g,Vr(this,u.u),this.h=u.h,Po(this,yu(u.i)),this.m=u.m):u&&(m=String(u).match(du))?(this.l=!1,an(this,m[1]||"",!0),this.o=Oi(m[2]||""),this.g=Oi(m[3]||"",!0),Vr(this,m[4]),this.h=Oi(m[5]||"",!0),Po(this,m[6]||"",!0),this.m=Oi(m[7]||"")):(this.l=!1,this.i=new kr(null,this.l))}zn.prototype.toString=function(){const u=[];var m=this.j;m&&u.push(Os(m,Ea,!0),":");var v=this.g;return(v||m=="file")&&(u.push("//"),(m=this.o)&&u.push(Os(m,Ea,!0),"@"),u.push(Ne(v).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.u,v!=null&&u.push(":",String(v))),(v=this.h)&&(this.g&&v.charAt(0)!="/"&&u.push("/"),u.push(Os(v,v.charAt(0)=="/"?Uo:mu,!0))),(v=this.i.toString())&&u.push("?",v),(v=this.m)&&u.push("#",Os(v,gu)),u.join("")},zn.prototype.resolve=function(u){const m=Yt(this);let v=!!u.j;v?an(m,u.j):v=!!u.o,v?m.o=u.o:v=!!u.g,v?m.g=u.g:v=u.u!=null;var S=u.h;if(v)Vr(m,u.u);else if(v=!!u.h){if(S.charAt(0)!="/")if(this.g&&!this.h)S="/"+S;else{var z=m.h.lastIndexOf("/");z!=-1&&(S=m.h.slice(0,z+1)+S)}if(z=S,z==".."||z==".")S="";else if(z.indexOf("./")!=-1||z.indexOf("/.")!=-1){S=z.lastIndexOf("/",0)==0,z=z.split("/");const G=[];for(let le=0;le<z.length;){const Be=z[le++];Be=="."?S&&le==z.length&&G.push(""):Be==".."?((G.length>1||G.length==1&&G[0]!="")&&G.pop(),S&&le==z.length&&G.push("")):(G.push(Be),S=!0)}S=G.join("/")}else S=z}return v?m.h=S:v=u.i.toString()!=="",v?Po(m,yu(u.i)):v=!!u.m,v&&(m.m=u.m),m};function Yt(u){return new zn(u)}function an(u,m,v){u.j=v?Oi(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function Vr(u,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);u.u=m}else u.u=null}function Po(u,m,v){m instanceof kr?(u.i=m,Aa(u.i,u.l)):(v||(m=Os(m,Lr)),u.i=new kr(m,u.l))}function ft(u,m,v){u.i.set(m,v)}function Ds(u){return ft(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function Oi(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Os(u,m,v){return typeof u=="string"?(u=encodeURI(u).replace(m,xn),v&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function xn(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var Ea=/[#\/\?@]/g,mu=/[#\?:]/g,Uo=/[#\?]/g,Lr=/[#\?@]/g,gu=/#/g;function kr(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function Dn(u){u.g||(u.g=new Map,u.h=0,u.i&&Ta(u.i,function(m,v){u.add(decodeURIComponent(m.replace(/\+/g," ")),v)}))}r=kr.prototype,r.add=function(u,m){Dn(this),this.i=null,u=Pr(this,u);let v=this.g.get(u);return v||this.g.set(u,v=[]),v.push(m),this.h+=1,this};function pu(u,m){Dn(u),m=Pr(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function zo(u,m){return Dn(u),m=Pr(u,m),u.g.has(m)}r.forEach=function(u,m){Dn(this),this.g.forEach(function(v,S){v.forEach(function(z){u.call(m,z,S,this)},this)},this)};function jo(u,m){Dn(u);let v=[];if(typeof m=="string")zo(u,m)&&(v=v.concat(u.g.get(Pr(u,m))));else for(u=Array.from(u.g.values()),m=0;m<u.length;m++)v=v.concat(u[m]);return v}r.set=function(u,m){return Dn(this),this.i=null,u=Pr(this,u),zo(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},r.get=function(u,m){return u?(u=jo(this,u),u.length>0?String(u[0]):m):m};function Sa(u,m,v){pu(u,m),v.length>0&&(u.i=null,u.g.set(Pr(u,m),q(v)),u.h+=v.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(let S=0;S<m.length;S++){var v=m[S];const z=Ne(v);v=jo(this,v);for(let G=0;G<v.length;G++){let le=z;v[G]!==""&&(le+="="+Ne(v[G])),u.push(le)}}return this.i=u.join("&")};function yu(u){const m=new kr;return m.i=u.i,u.g&&(m.g=new Map(u.g),m.h=u.h),m}function Pr(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function Aa(u,m){m&&!u.j&&(Dn(u),u.i=null,u.g.forEach(function(v,S){const z=S.toLowerCase();S!=z&&(pu(this,S),Sa(this,z,v))},u)),u.j=m}function fi(u,m){const v=new ye;if(d.Image){const S=new Image;S.onload=b($n,v,"TestLoadImage: loaded",!0,m,S),S.onerror=b($n,v,"TestLoadImage: error",!1,m,S),S.onabort=b($n,v,"TestLoadImage: abort",!1,m,S),S.ontimeout=b($n,v,"TestLoadImage: timeout",!1,m,S),d.setTimeout(function(){S.ontimeout&&S.ontimeout()},1e4),S.src=u}else m(!1)}function Bo(u,m){const v=new ye,S=new AbortController,z=setTimeout(()=>{S.abort(),$n(v,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:S.signal}).then(G=>{clearTimeout(z),G.ok?$n(v,"TestPingServer: ok",!0,m):$n(v,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(z),$n(v,"TestPingServer: error",!1,m)})}function $n(u,m,v,S,z){try{z&&(z.onload=null,z.onerror=null,z.onabort=null,z.ontimeout=null),S(v)}catch{}}function Ur(){this.g=new ya}function Mi(u){this.i=u.Sb||null,this.h=u.ab||!1}A(Mi,Or),Mi.prototype.g=function(){return new Ms(this.i,this.h)};function Ms(u,m){ct.call(this),this.H=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}A(Ms,ct),r=Ms.prototype,r.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=m,this.readyState=1,di(this)},r.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(m.body=u),(this.H||d).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,zr(this)),this.readyState=0},r.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,di(this)),this.g&&(this.readyState=3,di(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;ba(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function ba(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}r.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?zr(this):di(this),this.readyState==3&&ba(this)}},r.Oa=function(u){this.g&&(this.response=this.responseText=u,zr(this))},r.Na=function(u){this.g&&(this.response=u,zr(this))},r.ga=function(){this.g&&zr(this)};function zr(u){u.readyState=4,u.l=null,u.j=null,u.B=null,di(u)}r.setRequestHeader=function(u,m){this.A.append(u,m)},r.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var v=m.next();!v.done;)v=v.value,u.push(v[0]+": "+v[1]),v=m.next();return u.join(`\r
`)};function di(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Ms.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Wn(u){let m="";return Fe(u,function(v,S){m+=S,m+=":",m+=v,m+=`\r
`}),m}function Vs(u,m,v){e:{for(S in v){var S=!1;break e}S=!0}S||(v=Wn(v),typeof u=="string"?v!=null&&Ne(v):ft(u,m,v))}function yt(u){ct.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}A(yt,ct);var Vi=/^https?$/i,Ho=["POST","PUT"];r=yt.prototype,r.Fa=function(u){this.H=u},r.ea=function(u,m,v,S){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():je.g(),this.g.onreadystatechange=L(_(this.Ca,this));try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(G){Ls(this,G);return}if(u=v||"",v=new Map(this.headers),S)if(Object.getPrototypeOf(S)===Object.prototype)for(var z in S)v.set(z,S[z]);else if(typeof S.keys=="function"&&typeof S.get=="function")for(const G of S.keys())v.set(G,S.get(G));else throw Error("Unknown input type for opt_headers: "+String(S));S=Array.from(v.keys()).find(G=>G.toLowerCase()=="content-type"),z=d.FormData&&u instanceof d.FormData,!(Array.prototype.indexOf.call(Ho,m,void 0)>=0)||S||z||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[G,le]of v)this.g.setRequestHeader(G,le);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(G){Ls(this,G)}};function Ls(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.o=5,qo(u),ir(u)}function qo(u){u.A||(u.A=!0,zt(u,"complete"),zt(u,"error"))}r.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,zt(this,"complete"),zt(this,"abort"),ir(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ir(this,!0)),yt.Z.N.call(this)},r.Ca=function(){this.u||(this.B||this.v||this.j?ks(this):this.Xa())},r.Xa=function(){ks(this)};function ks(u){if(u.h&&typeof c<"u"){if(u.v&&mi(u)==4)setTimeout(u.Ca.bind(u),0);else if(zt(u,"readystatechange"),mi(u)==4){u.h=!1;try{const G=u.ca();e:switch(G){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break e;default:m=!1}var v;if(!(v=m)){var S;if(S=G===0){let le=String(u.D).match(du)[1]||null;!le&&d.self&&d.self.location&&(le=d.self.location.protocol.slice(0,-1)),S=!Vi.test(le?le.toLowerCase():"")}v=S}if(v)zt(u,"complete"),zt(u,"success");else{u.o=6;try{var z=mi(u)>2?u.g.statusText:""}catch{z=""}u.l=z+" ["+u.ca()+"]",qo(u)}}finally{ir(u)}}}}function ir(u,m){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const v=u.g;u.g=null,m||zt(u,"ready");try{v.onreadystatechange=null}catch{}}}r.isActive=function(){return!!this.g};function mi(u){return u.g?u.g.readyState:0}r.ca=function(){try{return mi(this)>2?this.g.status:-1}catch{return-1}},r.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.La=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),Do(m)}};function fn(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function rr(u){const m={};u=(u.g&&mi(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let S=0;S<u.length;S++){if(C(u[S]))continue;var v=it(u[S]);const z=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const G=m[z]||[];m[z]=G,G.push(v)}Qe(m,function(S){return S.join(", ")})}r.ya=function(){return this.o},r.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Li(u,m,v){return v&&v.internalChannelParams&&v.internalChannelParams[u]||m}function jr(u){this.za=0,this.i=[],this.j=new ye,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Li("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Li("baseRetryDelayMs",5e3,u),this.Za=Li("retryDelaySeedMs",1e4,u),this.Ta=Li("forwardChannelMaxRetries",2,u),this.va=Li("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new Oo(u&&u.concurrentRequestLimit),this.Ba=new Ur,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}r=jr.prototype,r.ka=8,r.I=1,r.connect=function(u,m,v,S){ge(0),this.W=u,this.H=m||{},v&&S!==void 0&&(this.H.OSID=v,this.H.OAID=S),this.F=this.X,this.J=bu(this,null,this.W),ki(this)};function Go(u){if(wa(u),u.I==3){var m=u.V++,v=Yt(u.J);if(ft(v,"SID",u.M),ft(v,"RID",m),ft(v,"TYPE","terminate"),Ps(u,v),m=new cn(u,u.j,m),m.M=2,m.A=Ds(Yt(v)),v=!1,d.navigator&&d.navigator.sendBeacon)try{v=d.navigator.sendBeacon(m.A.toString(),"")}catch{}!v&&d.Image&&(new Image().src=m.A,v=!0),v||(m.g=wu(m.j,null),m.g.ea(m.A)),m.F=Date.now(),Ci(m)}Au(u)}function Br(u){u.g&&(Yo(u),u.g.cancel(),u.g=null)}function wa(u){Br(u),u.v&&(d.clearTimeout(u.v),u.v=null),Ca(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&d.clearTimeout(u.m),u.m=null)}function ki(u){if(!Mo(u.h)&&!u.m){u.m=!0;var m=u.Ea;Ue||R(),Oe||(Ue(),Oe=!0),N.add(m,u),u.D=0}}function Ra(u,m){return xi(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=m.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=Me(_(u.Ea,u,m),Su(u,u.D)),u.D++,!0)}r.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const z=new cn(this,this.j,u);let G=this.o;if(this.U&&(G?(G=V(G),ce(G,this.U)):G=this.U),this.u!==null||this.R||(z.J=G,G=null),this.S)e:{for(var m=0,v=0;v<this.i.length;v++){t:{var S=this.i[v];if("__data__"in S.map&&(S=S.map.__data__,typeof S=="string")){S=S.length;break t}S=void 0}if(S===void 0)break;if(m+=S,m>4096){m=v;break e}if(m===4096||v===this.i.length-1){m=v+1;break e}}m=1e3}else m=1e3;m=_u(this,z,m),v=Yt(this.J),ft(v,"RID",u),ft(v,"CVER",22),this.G&&ft(v,"X-HTTP-Session-Id",this.G),Ps(this,v),G&&(this.R?m="headers="+Ne(Wn(G))+"&"+m:this.u&&Vs(v,this.u,G)),Vo(this.h,z),this.Ra&&ft(v,"TYPE","init"),this.S?(ft(v,"$req",m),ft(v,"SID","null"),z.U=!0,Zn(z,v,null)):Zn(z,v,m),this.I=2}}else this.I==3&&(u?Fo(this,u):this.i.length==0||Mo(this.h)||Fo(this))};function Fo(u,m){var v;m?v=m.l:v=u.V++;const S=Yt(u.J);ft(S,"SID",u.M),ft(S,"RID",v),ft(S,"AID",u.K),Ps(u,S),u.u&&u.o&&Vs(S,u.u,u.o),v=new cn(u,u.j,v,u.D+1),u.u===null&&(v.J=u.o),m&&(u.i=m.G.concat(u.i)),m=_u(u,v,1e3),v.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),Vo(u.h,v),Zn(v,S,m)}function Ps(u,m){u.H&&Fe(u.H,function(v,S){ft(m,S,v)}),u.l&&Fe({},function(v,S){ft(m,S,v)})}function _u(u,m,v){v=Math.min(u.i.length,v);const S=u.l?_(u.l.Ka,u.l,u):null;e:{var z=u.i;let Be=-1;for(;;){const Bt=["count="+v];Be==-1?v>0?(Be=z[0].g,Bt.push("ofs="+Be)):Be=0:Bt.push("ofs="+Be);let ot=!0;for(let xt=0;xt<v;xt++){var G=z[xt].g;const ei=z[xt].map;if(G-=Be,G<0)Be=Math.max(0,z[xt].g-100),ot=!1;else try{G="req"+G+"_"||"";try{var le=ei instanceof Map?ei:Object.entries(ei);for(const[Ui,gi]of le){let pi=gi;g(gi)&&(pi=hi(gi)),Bt.push(G+Ui+"="+encodeURIComponent(pi))}}catch(Ui){throw Bt.push(G+"type="+encodeURIComponent("_badmap")),Ui}}catch{S&&S(ei)}}if(ot){le=Bt.join("&");break e}}le=void 0}return u=u.i.splice(0,v),m.G=u,le}function vu(u){if(!u.g&&!u.v){u.Y=1;var m=u.Da;Ue||R(),Oe||(Ue(),Oe=!0),N.add(m,u),u.A=0}}function Us(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=Me(_(u.Da,u),Su(u,u.A)),u.A++,!0)}r.Da=function(){if(this.v=null,Tu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=Me(_(this.Wa,this),u)}},r.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,ge(10),Br(this),Tu(this))};function Yo(u){u.B!=null&&(d.clearTimeout(u.B),u.B=null)}function Tu(u){u.g=new cn(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var m=Yt(u.na);ft(m,"RID","rpc"),ft(m,"SID",u.M),ft(m,"AID",u.K),ft(m,"CI",u.F?"0":"1"),!u.F&&u.ia&&ft(m,"TO",u.ia),ft(m,"TYPE","xmlhttp"),Ps(u,m),u.u&&u.o&&Vs(m,u.u,u.o),u.O&&(u.g.H=u.O);var v=u.g;u=u.ba,v.M=1,v.A=Ds(Yt(m)),v.u=null,v.R=!0,_a(v,u)}r.Va=function(){this.C!=null&&(this.C=null,Br(this),Us(this),ge(19))};function Ca(u){u.C!=null&&(d.clearTimeout(u.C),u.C=null)}function Eu(u,m){var v=null;if(u.g==m){Ca(u),Yo(u),u.g=null;var S=2}else if(Di(u.h,m))v=m.G,Lo(u.h,m),S=1;else return;if(u.I!=0){if(m.o)if(S==1){v=m.u?m.u.length:0,m=Date.now()-m.F;var z=u.D;S=W(),zt(S,new Ae(S,v)),ki(u)}else vu(u);else if(z=m.m,z==3||z==0&&m.X>0||!(S==1&&Ra(u,m)||S==2&&Us(u)))switch(v&&v.length>0&&(m=u.h,m.i=m.i.concat(v)),z){case 1:Pi(u,5);break;case 4:Pi(u,10);break;case 3:Pi(u,6);break;default:Pi(u,2)}}}function Su(u,m){let v=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(v*=2),v*m}function Pi(u,m){if(u.j.info("Error code "+m),m==2){var v=_(u.bb,u),S=u.Ua;const z=!S;S=new zn(S||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||an(S,"https"),Ds(S),z?fi(S.toString(),v):Bo(S.toString(),v)}else ge(2);u.I=0,u.l&&u.l.pa(m),Au(u),wa(u)}r.bb=function(u){u?(this.j.info("Successfully pinged google.com"),ge(2)):(this.j.info("Failed to ping google.com"),ge(1))};function Au(u){if(u.I=0,u.ja=[],u.l){const m=ko(u.h);(m.length!=0||u.i.length!=0)&&(re(u.ja,m),re(u.ja,u.i),u.h.i.length=0,q(u.i),u.i.length=0),u.l.oa()}}function bu(u,m,v){var S=v instanceof zn?Yt(v):new zn(v);if(S.g!="")m&&(S.g=m+"."+S.g),Vr(S,S.u);else{var z=d.location;S=z.protocol,m=m?m+"."+z.hostname:z.hostname,z=+z.port;const G=new zn(null);S&&an(G,S),m&&(G.g=m),z&&Vr(G,z),v&&(G.h=v),S=G}return v=u.G,m=u.wa,v&&m&&ft(S,v,m),ft(S,"VER",u.ka),Ps(u,S),S}function wu(u,m,v){if(m&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Aa&&!u.ma?new yt(new Mi({ab:v})):new yt(u.ma),m.Fa(u.L),m}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function Ru(){}r=Ru.prototype,r.ra=function(){},r.qa=function(){},r.pa=function(){},r.oa=function(){},r.isActive=function(){return!0},r.Ka=function(){};function Hr(){}Hr.prototype.g=function(u,m){return new Cn(u,m)};function Cn(u,m){ct.call(this),this.g=new jr(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(u?u["X-WebChannel-Client-Profile"]=m.sa:u={"X-WebChannel-Client-Profile":m.sa}),this.g.U=u,(u=m&&m.Qb)&&!C(u)&&(this.g.u=u),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!C(m)&&(this.g.G=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new sr(this)}A(Cn,ct),Cn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Cn.prototype.close=function(){Go(this.g)},Cn.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var v={};v.__data__=u,u=v}else this.v&&(v={},v.__data__=hi(u),u=v);m.i.push(new Ft(m.Ya++,u)),m.I==3&&ki(m)},Cn.prototype.N=function(){this.g.l=null,delete this.j,Go(this.g),delete this.g,Cn.Z.N.call(this)};function Cu(u){jt.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){e:{for(const v in m){u=v;break e}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}A(Cu,jt);function Iu(){T.call(this),this.status=1}A(Iu,T);function sr(u){this.g=u}A(sr,Ru),sr.prototype.ra=function(){zt(this.g,"a")},sr.prototype.qa=function(u){zt(this.g,new Cu(u))},sr.prototype.pa=function(u){zt(this.g,new Iu)},sr.prototype.oa=function(){zt(this.g,"b")},Hr.prototype.createWebChannel=Hr.prototype.g,Cn.prototype.send=Cn.prototype.o,Cn.prototype.open=Cn.prototype.m,Cn.prototype.close=Cn.prototype.close,hT=function(){return new Hr},cT=function(){return W()},uT=w,tm={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Ve.NO_ERROR=0,Ve.TIMEOUT=8,Ve.HTTP_ERROR=6,qc=Ve,It.COMPLETE="complete",lT=It,Mr.EventType=Rn,Rn.OPEN="a",Rn.CLOSE="b",Rn.ERROR="c",Rn.MESSAGE="d",ct.prototype.listen=ct.prototype.J,Vl=Mr,yt.prototype.listenOnce=yt.prototype.K,yt.prototype.getLastError=yt.prototype.Ha,yt.prototype.getLastErrorCode=yt.prototype.ya,yt.prototype.getStatus=yt.prototype.ca,yt.prototype.getResponseJson=yt.prototype.La,yt.prototype.getResponseText=yt.prototype.la,yt.prototype.send=yt.prototype.ea,yt.prototype.setWithCredentials=yt.prototype.Fa,oT=yt}).apply(typeof Mc<"u"?Mc:typeof self<"u"?self:typeof window<"u"?window:{});const d_="@firebase/firestore",m_="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Sn.UNAUTHENTICATED=new Sn(null),Sn.GOOGLE_CREDENTIALS=new Sn("google-credentials-uid"),Sn.FIRST_PARTY=new Sn("first-party-uid"),Sn.MOCK_USER=new Sn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ro="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ca=new _m("@firebase/firestore");function ro(){return ca.logLevel}function de(r,...e){if(ca.logLevel<=Je.DEBUG){const i=e.map(Dm);ca.debug(`Firestore (${Ro}): ${r}`,...i)}}function Rr(r,...e){if(ca.logLevel<=Je.ERROR){const i=e.map(Dm);ca.error(`Firestore (${Ro}): ${r}`,...i)}}function po(r,...e){if(ca.logLevel<=Je.WARN){const i=e.map(Dm);ca.warn(`Firestore (${Ro}): ${r}`,...i)}}function Dm(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(i){return JSON.stringify(i)})(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ie(r,e,i){let a="Unexpected state";typeof e=="string"?a=e:i=e,fT(r,a,i)}function fT(r,e,i){let a=`FIRESTORE (${Ro}) INTERNAL ASSERTION FAILED: ${e} (ID: ${r.toString(16)})`;if(i!==void 0)try{a+=" CONTEXT: "+JSON.stringify(i)}catch{a+=" CONTEXT: "+i}throw Rr(a),new Error(a)}function ut(r,e,i,a){let l="Unexpected state";typeof i=="string"?l=i:a=i,r||fT(e,l,a)}function Pe(r,e){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ee={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Te extends Ir{constructor(e,i){super(e,i),this.code=e,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ts{constructor(){this.promise=new Promise(((e,i)=>{this.resolve=e,this.reject=i}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dT{constructor(e,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class p2{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,i){e.enqueueRetryable((()=>i(Sn.UNAUTHENTICATED)))}shutdown(){}}class y2{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,i){this.changeListener=i,e.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class _2{constructor(e){this.t=e,this.currentUser=Sn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,i){ut(this.o===void 0,42304);let a=this.i;const l=y=>this.i!==a?(a=this.i,i(y)):Promise.resolve();let c=new Ts;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new Ts,e.enqueueRetryable((()=>l(this.currentUser)))};const d=()=>{const y=c;e.enqueueRetryable((async()=>{await y.promise,await l(this.currentUser)}))},g=y=>{de("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=y,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((y=>g(y))),setTimeout((()=>{if(!this.auth){const y=this.t.getImmediate({optional:!0});y?g(y):(de("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new Ts)}}),0),d()}getToken(){const e=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((a=>this.i!==e?(de("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(ut(typeof a.accessToken=="string",31837,{l:a}),new dT(a.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return ut(e===null||typeof e=="string",2055,{h:e}),new Sn(e)}}class v2{constructor(e,i,a){this.P=e,this.T=i,this.I=a,this.type="FirstParty",this.user=Sn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class T2{constructor(e,i,a){this.P=e,this.T=i,this.I=a}getToken(){return Promise.resolve(new v2(this.P,this.T,this.I))}start(e,i){e.enqueueRetryable((()=>i(Sn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class g_{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class E2{constructor(e,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Ei(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,i){ut(this.o===void 0,3512);const a=c=>{c.error!=null&&de("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const d=c.token!==this.m;return this.m=c.token,de("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(c.token):Promise.resolve()};this.o=c=>{e.enqueueRetryable((()=>a(c)))};const l=c=>{de("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>l(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?l(c):de("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new g_(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((i=>i?(ut(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new g_(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S2(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(i);else for(let a=0;a<r;a++)i[a]=Math.floor(256*Math.random());return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Om{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let a="";for(;a.length<20;){const l=S2(40);for(let c=0;c<l.length;++c)a.length<20&&l[c]<i&&(a+=e.charAt(l[c]%62))}return a}}function $e(r,e){return r<e?-1:r>e?1:0}function nm(r,e){const i=Math.min(r.length,e.length);for(let a=0;a<i;a++){const l=r.charAt(a),c=e.charAt(a);if(l!==c)return jd(l)===jd(c)?$e(l,c):jd(l)?1:-1}return $e(r.length,e.length)}const A2=55296,b2=57343;function jd(r){const e=r.charCodeAt(0);return e>=A2&&e<=b2}function yo(r,e,i){return r.length===e.length&&r.every(((a,l)=>i(a,e[l])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p_="__name__";class Gi{constructor(e,i,a){i===void 0?i=0:i>e.length&&Ie(637,{offset:i,range:e.length}),a===void 0?a=e.length-i:a>e.length-i&&Ie(1746,{length:a,range:e.length-i}),this.segments=e,this.offset=i,this.len=a}get length(){return this.len}isEqual(e){return Gi.comparator(this,e)===0}child(e){const i=this.segments.slice(this.offset,this.limit());return e instanceof Gi?e.forEach((a=>{i.push(a)})):i.push(e),this.construct(i)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}forEach(e){for(let i=this.offset,a=this.limit();i<a;i++)e(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,i){const a=Math.min(e.length,i.length);for(let l=0;l<a;l++){const c=Gi.compareSegments(e.get(l),i.get(l));if(c!==0)return c}return $e(e.length,i.length)}static compareSegments(e,i){const a=Gi.isNumericId(e),l=Gi.isNumericId(i);return a&&!l?-1:!a&&l?1:a&&l?Gi.extractNumericId(e).compare(Gi.extractNumericId(i)):nm(e,i)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return vs.fromString(e.substring(4,e.length-2))}}class Rt extends Gi{construct(e,i,a){return new Rt(e,i,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const i=[];for(const a of e){if(a.indexOf("//")>=0)throw new Te(ee.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);i.push(...a.split("/").filter((l=>l.length>0)))}return new Rt(i)}static emptyPath(){return new Rt([])}}const w2=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class _n extends Gi{construct(e,i,a){return new _n(e,i,a)}static isValidIdentifier(e){return w2.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),_n.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===p_}static keyField(){return new _n([p_])}static fromServerFormat(e){const i=[];let a="",l=0;const c=()=>{if(a.length===0)throw new Te(ee.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(a),a=""};let d=!1;for(;l<e.length;){const g=e[l];if(g==="\\"){if(l+1===e.length)throw new Te(ee.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const y=e[l+1];if(y!=="\\"&&y!=="."&&y!=="`")throw new Te(ee.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);a+=y,l+=2}else g==="`"?(d=!d,l++):g!=="."||d?(a+=g,l++):(c(),l++)}if(c(),d)throw new Te(ee.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new _n(i)}static emptyPath(){return new _n([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class we{constructor(e){this.path=e}static fromPath(e){return new we(Rt.fromString(e))}static fromName(e){return new we(Rt.fromString(e).popFirst(5))}static empty(){return new we(Rt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Rt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,i){return Rt.comparator(e.path,i.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new we(new Rt(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mT(r,e,i){if(!i)throw new Te(ee.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function R2(r,e,i,a){if(e===!0&&a===!0)throw new Te(ee.INVALID_ARGUMENT,`${r} and ${i} cannot be used together.`)}function y_(r){if(!we.isDocumentKey(r))throw new Te(ee.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function __(r){if(we.isDocumentKey(r))throw new Te(ee.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function gT(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function Mm(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=(function(a){return a.constructor?a.constructor.name:null})(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":Ie(12329,{type:typeof r})}function Ql(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new Te(ee.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=Mm(r);throw new Te(ee.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${i}`)}}return r}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wt(r,e){const i={typeString:r};return e&&(i.value=e),i}function au(r,e){if(!gT(r))throw new Te(ee.INVALID_ARGUMENT,"JSON must be an object");let i;for(const a in e)if(e[a]){const l=e[a].typeString,c="value"in e[a]?{value:e[a].value}:void 0;if(!(a in r)){i=`JSON missing required field: '${a}'`;break}const d=r[a];if(l&&typeof d!==l){i=`JSON field '${a}' must be a ${l}.`;break}if(c!==void 0&&d!==c.value){i=`Expected '${a}' field to equal '${c.value}'`;break}}if(i)throw new Te(ee.INVALID_ARGUMENT,i);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v_=-62135596800,T_=1e6;class Ct{static now(){return Ct.fromMillis(Date.now())}static fromDate(e){return Ct.fromMillis(e.getTime())}static fromMillis(e){const i=Math.floor(e/1e3),a=Math.floor((e-1e3*i)*T_);return new Ct(i,a)}constructor(e,i){if(this.seconds=e,this.nanoseconds=i,i<0)throw new Te(ee.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new Te(ee.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(e<v_)throw new Te(ee.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Te(ee.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/T_}_compareTo(e){return this.seconds===e.seconds?$e(this.nanoseconds,e.nanoseconds):$e(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Ct._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(au(e,Ct._jsonSchema))return new Ct(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-v_;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Ct._jsonSchemaVersion="firestore/timestamp/1.0",Ct._jsonSchema={type:Wt("string",Ct._jsonSchemaVersion),seconds:Wt("number"),nanoseconds:Wt("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Le{static fromTimestamp(e){return new Le(e)}static min(){return new Le(new Ct(0,0))}static max(){return new Le(new Ct(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xl=-1;function C2(r,e){const i=r.toTimestamp().seconds,a=r.toTimestamp().nanoseconds+1,l=Le.fromTimestamp(a===1e9?new Ct(i+1,0):new Ct(i,a));return new Ss(l,we.empty(),e)}function I2(r){return new Ss(r.readTime,r.key,Xl)}class Ss{constructor(e,i,a){this.readTime=e,this.documentKey=i,this.largestBatchId=a}static min(){return new Ss(Le.min(),we.empty(),Xl)}static max(){return new Ss(Le.max(),we.empty(),Xl)}}function N2(r,e){let i=r.readTime.compareTo(e.readTime);return i!==0?i:(i=we.comparator(r.documentKey,e.documentKey),i!==0?i:$e(r.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x2="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class D2{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Co(r){if(r.code!==ee.FAILED_PRECONDITION||r.message!==x2)throw r;de("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ${constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(e){return this.next(void 0,e)}next(e,i){return this.callbackAttached&&Ie(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(e,this.result):new $(((a,l)=>{this.nextCallback=c=>{this.wrapSuccess(e,c).next(a,l)},this.catchCallback=c=>{this.wrapFailure(i,c).next(a,l)}}))}toPromise(){return new Promise(((e,i)=>{this.next(e,i)}))}wrapUserFunction(e){try{const i=e();return i instanceof $?i:$.resolve(i)}catch(i){return $.reject(i)}}wrapSuccess(e,i){return e?this.wrapUserFunction((()=>e(i))):$.resolve(i)}wrapFailure(e,i){return e?this.wrapUserFunction((()=>e(i))):$.reject(i)}static resolve(e){return new $(((i,a)=>{i(e)}))}static reject(e){return new $(((i,a)=>{a(e)}))}static waitFor(e){return new $(((i,a)=>{let l=0,c=0,d=!1;e.forEach((g=>{++l,g.next((()=>{++c,d&&c===l&&i()}),(y=>a(y)))})),d=!0,c===l&&i()}))}static or(e){let i=$.resolve(!1);for(const a of e)i=i.next((l=>l?$.resolve(l):a()));return i}static forEach(e,i){const a=[];return e.forEach(((l,c)=>{a.push(i.call(this,l,c))})),this.waitFor(a)}static mapArray(e,i){return new $(((a,l)=>{const c=e.length,d=new Array(c);let g=0;for(let y=0;y<c;y++){const _=y;i(e[_]).next((b=>{d[_]=b,++g,g===c&&a(d)}),(b=>l(b)))}}))}static doWhile(e,i){return new $(((a,l)=>{const c=()=>{e()===!0?i().next((()=>{c()}),l):a()};c()}))}}function O2(r){const e=r.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function Io(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vh{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=a=>this.ae(a),this.ue=a=>i.writeSequenceNumber(a))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}vh.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vm=-1;function Th(r){return r==null}function ih(r){return r===0&&1/r==-1/0}function M2(r){return typeof r=="number"&&Number.isInteger(r)&&!ih(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pT="";function V2(r){let e="";for(let i=0;i<r.length;i++)e.length>0&&(e=E_(e)),e=L2(r.get(i),e);return E_(e)}function L2(r,e){let i=e;const a=r.length;for(let l=0;l<a;l++){const c=r.charAt(l);switch(c){case"\0":i+="";break;case pT:i+="";break;default:i+=c}}return i}function E_(r){return r+pT+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S_(r){let e=0;for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&e++;return e}function fa(r,e){for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&e(i,r[i])}function yT(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ot{constructor(e,i){this.comparator=e,this.root=i||yn.EMPTY}insert(e,i){return new Ot(this.comparator,this.root.insert(e,i,this.comparator).copy(null,null,yn.BLACK,null,null))}remove(e){return new Ot(this.comparator,this.root.remove(e,this.comparator).copy(null,null,yn.BLACK,null,null))}get(e){let i=this.root;for(;!i.isEmpty();){const a=this.comparator(e,i.key);if(a===0)return i.value;a<0?i=i.left:a>0&&(i=i.right)}return null}indexOf(e){let i=0,a=this.root;for(;!a.isEmpty();){const l=this.comparator(e,a.key);if(l===0)return i+a.left.size;l<0?a=a.left:(i+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((i,a)=>(e(i,a),!1)))}toString(){const e=[];return this.inorderTraversal(((i,a)=>(e.push(`${i}:${a}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Vc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Vc(this.root,e,this.comparator,!1)}getReverseIterator(){return new Vc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Vc(this.root,e,this.comparator,!0)}}class Vc{constructor(e,i,a,l){this.isReverse=l,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=i?a(e.key,i):1,i&&l&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(c===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const i={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class yn{constructor(e,i,a,l,c){this.key=e,this.value=i,this.color=a??yn.RED,this.left=l??yn.EMPTY,this.right=c??yn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,i,a,l,c){return new yn(e??this.key,i??this.value,a??this.color,l??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,a){let l=this;const c=a(e,l.key);return l=c<0?l.copy(null,null,null,l.left.insert(e,i,a),null):c===0?l.copy(null,i,null,null,null):l.copy(null,null,null,null,l.right.insert(e,i,a)),l.fixUp()}removeMin(){if(this.left.isEmpty())return yn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,i){let a,l=this;if(i(e,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(e,i),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),i(e,l.key)===0){if(l.right.isEmpty())return yn.EMPTY;a=l.right.min(),l=l.copy(a.key,a.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(e,i))}return l.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,yn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,yn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ie(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ie(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ie(27949);return e+(this.isRed()?0:1)}}yn.EMPTY=null,yn.RED=!0,yn.BLACK=!1;yn.EMPTY=new class{constructor(){this.size=0}get key(){throw Ie(57766)}get value(){throw Ie(16141)}get color(){throw Ie(16727)}get left(){throw Ie(29726)}get right(){throw Ie(36894)}copy(e,i,a,l,c){return this}insert(e,i,a){return new yn(e,i)}remove(e,i){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sn{constructor(e){this.comparator=e,this.data=new Ot(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((i,a)=>(e(i),!1)))}forEachInRange(e,i){const a=this.data.getIteratorFrom(e[0]);for(;a.hasNext();){const l=a.getNext();if(this.comparator(l.key,e[1])>=0)return;i(l.key)}}forEachWhile(e,i){let a;for(a=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();a.hasNext();)if(!e(a.getNext().key))return}firstAfterOrEqual(e){const i=this.data.getIteratorFrom(e);return i.hasNext()?i.getNext().key:null}getIterator(){return new A_(this.data.getIterator())}getIteratorFrom(e){return new A_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let i=this;return i.size<e.size&&(i=e,e=this),e.forEach((a=>{i=i.add(a)})),i}isEqual(e){if(!(e instanceof sn)||this.size!==e.size)return!1;const i=this.data.getIterator(),a=e.data.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=a.getNext().key;if(this.comparator(l,c)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((i=>{e.push(i)})),e}toString(){const e=[];return this.forEach((i=>e.push(i))),"SortedSet("+e.toString()+")"}copy(e){const i=new sn(this.comparator);return i.data=e,i}}class A_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ai{constructor(e){this.fields=e,e.sort(_n.comparator)}static empty(){return new Ai([])}unionWith(e){let i=new sn(_n.comparator);for(const a of this.fields)i=i.add(a);for(const a of e)i=i.add(a);return new Ai(i.toArray())}covers(e){for(const i of this.fields)if(i.isPrefixOf(e))return!0;return!1}isEqual(e){return yo(this.fields,e.fields,((i,a)=>i.isEqual(a)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _T extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vn{constructor(e){this.binaryString=e}static fromBase64String(e){const i=(function(l){try{return atob(l)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new _T("Invalid base64 string: "+c):c}})(e);return new vn(i)}static fromUint8Array(e){const i=(function(l){let c="";for(let d=0;d<l.length;++d)c+=String.fromCharCode(l[d]);return c})(e);return new vn(i)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const a=new Uint8Array(i.length);for(let l=0;l<i.length;l++)a[l]=i.charCodeAt(l);return a})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return $e(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}vn.EMPTY_BYTE_STRING=new vn("");const k2=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function As(r){if(ut(!!r,39018),typeof r=="string"){let e=0;const i=k2.exec(r);if(ut(!!i,46558,{timestamp:r}),i[1]){let l=i[1];l=(l+"000000000").substr(0,9),e=Number(l)}const a=new Date(r);return{seconds:Math.floor(a.getTime()/1e3),nanos:e}}return{seconds:Gt(r.seconds),nanos:Gt(r.nanos)}}function Gt(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function bs(r){return typeof r=="string"?vn.fromBase64String(r):vn.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vT="server_timestamp",TT="__type__",ET="__previous_value__",ST="__local_write_time__";function Lm(r){var i,a;return((a=(((i=r==null?void 0:r.mapValue)==null?void 0:i.fields)||{})[TT])==null?void 0:a.stringValue)===vT}function Eh(r){const e=r.mapValue.fields[ET];return Lm(e)?Eh(e):e}function Zl(r){const e=As(r.mapValue.fields[ST].timestampValue);return new Ct(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P2{constructor(e,i,a,l,c,d,g,y,_,b){this.databaseId=e,this.appId=i,this.persistenceKey=a,this.host=l,this.ssl=c,this.forceLongPolling=d,this.autoDetectLongPolling=g,this.longPollingOptions=y,this.useFetchStreams=_,this.isUsingEmulator=b}}const rh="(default)";class Jl{constructor(e,i){this.projectId=e,this.database=i||rh}static empty(){return new Jl("","")}get isDefaultDatabase(){return this.database===rh}isEqual(e){return e instanceof Jl&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AT="__type__",U2="__max__",Lc={mapValue:{}},bT="__vector__",sh="value";function ws(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?Lm(r)?4:j2(r)?9007199254740991:z2(r)?10:11:Ie(28295,{value:r})}function $i(r,e){if(r===e)return!0;const i=ws(r);if(i!==ws(e))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return Zl(r).isEqual(Zl(e));case 3:return(function(l,c){if(typeof l.timestampValue=="string"&&typeof c.timestampValue=="string"&&l.timestampValue.length===c.timestampValue.length)return l.timestampValue===c.timestampValue;const d=As(l.timestampValue),g=As(c.timestampValue);return d.seconds===g.seconds&&d.nanos===g.nanos})(r,e);case 5:return r.stringValue===e.stringValue;case 6:return(function(l,c){return bs(l.bytesValue).isEqual(bs(c.bytesValue))})(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return(function(l,c){return Gt(l.geoPointValue.latitude)===Gt(c.geoPointValue.latitude)&&Gt(l.geoPointValue.longitude)===Gt(c.geoPointValue.longitude)})(r,e);case 2:return(function(l,c){if("integerValue"in l&&"integerValue"in c)return Gt(l.integerValue)===Gt(c.integerValue);if("doubleValue"in l&&"doubleValue"in c){const d=Gt(l.doubleValue),g=Gt(c.doubleValue);return d===g?ih(d)===ih(g):isNaN(d)&&isNaN(g)}return!1})(r,e);case 9:return yo(r.arrayValue.values||[],e.arrayValue.values||[],$i);case 10:case 11:return(function(l,c){const d=l.mapValue.fields||{},g=c.mapValue.fields||{};if(S_(d)!==S_(g))return!1;for(const y in d)if(d.hasOwnProperty(y)&&(g[y]===void 0||!$i(d[y],g[y])))return!1;return!0})(r,e);default:return Ie(52216,{left:r})}}function $l(r,e){return(r.values||[]).find((i=>$i(i,e)))!==void 0}function _o(r,e){if(r===e)return 0;const i=ws(r),a=ws(e);if(i!==a)return $e(i,a);switch(i){case 0:case 9007199254740991:return 0;case 1:return $e(r.booleanValue,e.booleanValue);case 2:return(function(c,d){const g=Gt(c.integerValue||c.doubleValue),y=Gt(d.integerValue||d.doubleValue);return g<y?-1:g>y?1:g===y?0:isNaN(g)?isNaN(y)?0:-1:1})(r,e);case 3:return b_(r.timestampValue,e.timestampValue);case 4:return b_(Zl(r),Zl(e));case 5:return nm(r.stringValue,e.stringValue);case 6:return(function(c,d){const g=bs(c),y=bs(d);return g.compareTo(y)})(r.bytesValue,e.bytesValue);case 7:return(function(c,d){const g=c.split("/"),y=d.split("/");for(let _=0;_<g.length&&_<y.length;_++){const b=$e(g[_],y[_]);if(b!==0)return b}return $e(g.length,y.length)})(r.referenceValue,e.referenceValue);case 8:return(function(c,d){const g=$e(Gt(c.latitude),Gt(d.latitude));return g!==0?g:$e(Gt(c.longitude),Gt(d.longitude))})(r.geoPointValue,e.geoPointValue);case 9:return w_(r.arrayValue,e.arrayValue);case 10:return(function(c,d){var L,q,re,ae;const g=c.fields||{},y=d.fields||{},_=(L=g[sh])==null?void 0:L.arrayValue,b=(q=y[sh])==null?void 0:q.arrayValue,A=$e(((re=_==null?void 0:_.values)==null?void 0:re.length)||0,((ae=b==null?void 0:b.values)==null?void 0:ae.length)||0);return A!==0?A:w_(_,b)})(r.mapValue,e.mapValue);case 11:return(function(c,d){if(c===Lc.mapValue&&d===Lc.mapValue)return 0;if(c===Lc.mapValue)return 1;if(d===Lc.mapValue)return-1;const g=c.fields||{},y=Object.keys(g),_=d.fields||{},b=Object.keys(_);y.sort(),b.sort();for(let A=0;A<y.length&&A<b.length;++A){const L=nm(y[A],b[A]);if(L!==0)return L;const q=_o(g[y[A]],_[b[A]]);if(q!==0)return q}return $e(y.length,b.length)})(r.mapValue,e.mapValue);default:throw Ie(23264,{he:i})}}function b_(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return $e(r,e);const i=As(r),a=As(e),l=$e(i.seconds,a.seconds);return l!==0?l:$e(i.nanos,a.nanos)}function w_(r,e){const i=r.values||[],a=e.values||[];for(let l=0;l<i.length&&l<a.length;++l){const c=_o(i[l],a[l]);if(c)return c}return $e(i.length,a.length)}function vo(r){return im(r)}function im(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(i){const a=As(i);return`time(${a.seconds},${a.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(i){return bs(i).toBase64()})(r.bytesValue):"referenceValue"in r?(function(i){return we.fromName(i).toString()})(r.referenceValue):"geoPointValue"in r?(function(i){return`geo(${i.latitude},${i.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(i){let a="[",l=!0;for(const c of i.values||[])l?l=!1:a+=",",a+=im(c);return a+"]"})(r.arrayValue):"mapValue"in r?(function(i){const a=Object.keys(i.fields||{}).sort();let l="{",c=!0;for(const d of a)c?c=!1:l+=",",l+=`${d}:${im(i.fields[d])}`;return l+"}"})(r.mapValue):Ie(61005,{value:r})}function Gc(r){switch(ws(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Eh(r);return e?16+Gc(e):16;case 5:return 2*r.stringValue.length;case 6:return bs(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(a){return(a.values||[]).reduce(((l,c)=>l+Gc(c)),0)})(r.arrayValue);case 10:case 11:return(function(a){let l=0;return fa(a.fields,((c,d)=>{l+=c.length+Gc(d)})),l})(r.mapValue);default:throw Ie(13486,{value:r})}}function rm(r){return!!r&&"integerValue"in r}function km(r){return!!r&&"arrayValue"in r}function R_(r){return!!r&&"nullValue"in r}function C_(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function Fc(r){return!!r&&"mapValue"in r}function z2(r){var i,a;return((a=(((i=r==null?void 0:r.mapValue)==null?void 0:i.fields)||{})[AT])==null?void 0:a.stringValue)===bT}function jl(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const e={mapValue:{fields:{}}};return fa(r.mapValue.fields,((i,a)=>e.mapValue.fields[i]=jl(a))),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let i=0;i<(r.arrayValue.values||[]).length;++i)e.arrayValue.values[i]=jl(r.arrayValue.values[i]);return e}return{...r}}function j2(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===U2}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ui{constructor(e){this.value=e}static empty(){return new ui({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let i=this.value;for(let a=0;a<e.length-1;++a)if(i=(i.mapValue.fields||{})[e.get(a)],!Fc(i))return null;return i=(i.mapValue.fields||{})[e.lastSegment()],i||null}}set(e,i){this.getFieldsMap(e.popLast())[e.lastSegment()]=jl(i)}setAll(e){let i=_n.emptyPath(),a={},l=[];e.forEach(((d,g)=>{if(!i.isImmediateParentOf(g)){const y=this.getFieldsMap(i);this.applyChanges(y,a,l),a={},l=[],i=g.popLast()}d?a[g.lastSegment()]=jl(d):l.push(g.lastSegment())}));const c=this.getFieldsMap(i);this.applyChanges(c,a,l)}delete(e){const i=this.field(e.popLast());Fc(i)&&i.mapValue.fields&&delete i.mapValue.fields[e.lastSegment()]}isEqual(e){return $i(this.value,e.value)}getFieldsMap(e){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let a=0;a<e.length;++a){let l=i.mapValue.fields[e.get(a)];Fc(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},i.mapValue.fields[e.get(a)]=l),i=l}return i.mapValue.fields}applyChanges(e,i,a){fa(i,((l,c)=>e[l]=c));for(const l of a)delete e[l]}clone(){return new ui(jl(this.value))}}function wT(r){const e=[];return fa(r.fields,((i,a)=>{const l=new _n([i]);if(Fc(a)){const c=wT(a.mapValue).fields;if(c.length===0)e.push(l);else for(const d of c)e.push(l.child(d))}else e.push(l)})),new Ai(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bn{constructor(e,i,a,l,c,d,g){this.key=e,this.documentType=i,this.version=a,this.readTime=l,this.createTime=c,this.data=d,this.documentState=g}static newInvalidDocument(e){return new bn(e,0,Le.min(),Le.min(),Le.min(),ui.empty(),0)}static newFoundDocument(e,i,a,l){return new bn(e,1,i,Le.min(),a,l,0)}static newNoDocument(e,i){return new bn(e,2,i,Le.min(),Le.min(),ui.empty(),0)}static newUnknownDocument(e,i){return new bn(e,3,i,Le.min(),Le.min(),ui.empty(),2)}convertToFoundDocument(e,i){return!this.createTime.isEqual(Le.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=ui.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=ui.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Le.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof bn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new bn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ah{constructor(e,i){this.position=e,this.inclusive=i}}function I_(r,e,i){let a=0;for(let l=0;l<r.position.length;l++){const c=e[l],d=r.position[l];if(c.field.isKeyField()?a=we.comparator(we.fromName(d.referenceValue),i.key):a=_o(d,i.data.field(c.field)),c.dir==="desc"&&(a*=-1),a!==0)break}return a}function N_(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let i=0;i<r.position.length;i++)if(!$i(r.position[i],e.position[i]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oh{constructor(e,i="asc"){this.field=e,this.dir=i}}function B2(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RT{}class nn extends RT{constructor(e,i,a){super(),this.field=e,this.op=i,this.value=a}static create(e,i,a){return e.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(e,i,a):new q2(e,i,a):i==="array-contains"?new Y2(e,a):i==="in"?new K2(e,a):i==="not-in"?new Q2(e,a):i==="array-contains-any"?new X2(e,a):new nn(e,i,a)}static createKeyFieldInFilter(e,i,a){return i==="in"?new G2(e,a):new F2(e,a)}matches(e){const i=e.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(_o(i,this.value)):i!==null&&ws(this.value)===ws(i)&&this.matchesComparison(_o(i,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ie(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Wi extends RT{constructor(e,i){super(),this.filters=e,this.op=i,this.Pe=null}static create(e,i){return new Wi(e,i)}matches(e){return CT(this)?this.filters.find((i=>!i.matches(e)))===void 0:this.filters.find((i=>i.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,i)=>e.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function CT(r){return r.op==="and"}function IT(r){return H2(r)&&CT(r)}function H2(r){for(const e of r.filters)if(e instanceof Wi)return!1;return!0}function sm(r){if(r instanceof nn)return r.field.canonicalString()+r.op.toString()+vo(r.value);if(IT(r))return r.filters.map((e=>sm(e))).join(",");{const e=r.filters.map((i=>sm(i))).join(",");return`${r.op}(${e})`}}function NT(r,e){return r instanceof nn?(function(a,l){return l instanceof nn&&a.op===l.op&&a.field.isEqual(l.field)&&$i(a.value,l.value)})(r,e):r instanceof Wi?(function(a,l){return l instanceof Wi&&a.op===l.op&&a.filters.length===l.filters.length?a.filters.reduce(((c,d,g)=>c&&NT(d,l.filters[g])),!0):!1})(r,e):void Ie(19439)}function xT(r){return r instanceof nn?(function(i){return`${i.field.canonicalString()} ${i.op} ${vo(i.value)}`})(r):r instanceof Wi?(function(i){return i.op.toString()+" {"+i.getFilters().map(xT).join(" ,")+"}"})(r):"Filter"}class q2 extends nn{constructor(e,i,a){super(e,i,a),this.key=we.fromName(a.referenceValue)}matches(e){const i=we.comparator(e.key,this.key);return this.matchesComparison(i)}}class G2 extends nn{constructor(e,i){super(e,"in",i),this.keys=DT("in",i)}matches(e){return this.keys.some((i=>i.isEqual(e.key)))}}class F2 extends nn{constructor(e,i){super(e,"not-in",i),this.keys=DT("not-in",i)}matches(e){return!this.keys.some((i=>i.isEqual(e.key)))}}function DT(r,e){var i;return(((i=e.arrayValue)==null?void 0:i.values)||[]).map((a=>we.fromName(a.referenceValue)))}class Y2 extends nn{constructor(e,i){super(e,"array-contains",i)}matches(e){const i=e.data.field(this.field);return km(i)&&$l(i.arrayValue,this.value)}}class K2 extends nn{constructor(e,i){super(e,"in",i)}matches(e){const i=e.data.field(this.field);return i!==null&&$l(this.value.arrayValue,i)}}class Q2 extends nn{constructor(e,i){super(e,"not-in",i)}matches(e){if($l(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=e.data.field(this.field);return i!==null&&i.nullValue===void 0&&!$l(this.value.arrayValue,i)}}class X2 extends nn{constructor(e,i){super(e,"array-contains-any",i)}matches(e){const i=e.data.field(this.field);return!(!km(i)||!i.arrayValue.values)&&i.arrayValue.values.some((a=>$l(this.value.arrayValue,a)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z2{constructor(e,i=null,a=[],l=[],c=null,d=null,g=null){this.path=e,this.collectionGroup=i,this.orderBy=a,this.filters=l,this.limit=c,this.startAt=d,this.endAt=g,this.Te=null}}function x_(r,e=null,i=[],a=[],l=null,c=null,d=null){return new Z2(r,e,i,a,l,c,d)}function Pm(r){const e=Pe(r);if(e.Te===null){let i=e.path.canonicalString();e.collectionGroup!==null&&(i+="|cg:"+e.collectionGroup),i+="|f:",i+=e.filters.map((a=>sm(a))).join(","),i+="|ob:",i+=e.orderBy.map((a=>(function(c){return c.field.canonicalString()+c.dir})(a))).join(","),Th(e.limit)||(i+="|l:",i+=e.limit),e.startAt&&(i+="|lb:",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map((a=>vo(a))).join(",")),e.endAt&&(i+="|ub:",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map((a=>vo(a))).join(",")),e.Te=i}return e.Te}function Um(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<r.orderBy.length;i++)if(!B2(r.orderBy[i],e.orderBy[i]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let i=0;i<r.filters.length;i++)if(!NT(r.filters[i],e.filters[i]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!N_(r.startAt,e.startAt)&&N_(r.endAt,e.endAt)}function am(r){return we.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sh{constructor(e,i=null,a=[],l=[],c=null,d="F",g=null,y=null){this.path=e,this.collectionGroup=i,this.explicitOrderBy=a,this.filters=l,this.limit=c,this.limitType=d,this.startAt=g,this.endAt=y,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function J2(r,e,i,a,l,c,d,g){return new Sh(r,e,i,a,l,c,d,g)}function zm(r){return new Sh(r)}function D_(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function $2(r){return r.collectionGroup!==null}function Bl(r){const e=Pe(r);if(e.Ie===null){e.Ie=[];const i=new Set;for(const c of e.explicitOrderBy)e.Ie.push(c),i.add(c.field.canonicalString());const a=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let g=new sn(_n.comparator);return d.filters.forEach((y=>{y.getFlattenedFilters().forEach((_=>{_.isInequality()&&(g=g.add(_.field))}))})),g})(e).forEach((c=>{i.has(c.canonicalString())||c.isKeyField()||e.Ie.push(new oh(c,a))})),i.has(_n.keyField().canonicalString())||e.Ie.push(new oh(_n.keyField(),a))}return e.Ie}function Ki(r){const e=Pe(r);return e.Ee||(e.Ee=W2(e,Bl(r))),e.Ee}function W2(r,e){if(r.limitType==="F")return x_(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map((l=>{const c=l.dir==="desc"?"asc":"desc";return new oh(l.field,c)}));const i=r.endAt?new ah(r.endAt.position,r.endAt.inclusive):null,a=r.startAt?new ah(r.startAt.position,r.startAt.inclusive):null;return x_(r.path,r.collectionGroup,e,r.filters,r.limit,i,a)}}function om(r,e,i){return new Sh(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,i,r.startAt,r.endAt)}function Ah(r,e){return Um(Ki(r),Ki(e))&&r.limitType===e.limitType}function OT(r){return`${Pm(Ki(r))}|lt:${r.limitType}`}function so(r){return`Query(target=${(function(i){let a=i.path.canonicalString();return i.collectionGroup!==null&&(a+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(a+=`, filters: [${i.filters.map((l=>xT(l))).join(", ")}]`),Th(i.limit)||(a+=", limit: "+i.limit),i.orderBy.length>0&&(a+=`, orderBy: [${i.orderBy.map((l=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(l))).join(", ")}]`),i.startAt&&(a+=", startAt: ",a+=i.startAt.inclusive?"b:":"a:",a+=i.startAt.position.map((l=>vo(l))).join(",")),i.endAt&&(a+=", endAt: ",a+=i.endAt.inclusive?"a:":"b:",a+=i.endAt.position.map((l=>vo(l))).join(",")),`Target(${a})`})(Ki(r))}; limitType=${r.limitType})`}function bh(r,e){return e.isFoundDocument()&&(function(a,l){const c=l.key.path;return a.collectionGroup!==null?l.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(c):we.isDocumentKey(a.path)?a.path.isEqual(c):a.path.isImmediateParentOf(c)})(r,e)&&(function(a,l){for(const c of Bl(a))if(!c.field.isKeyField()&&l.data.field(c.field)===null)return!1;return!0})(r,e)&&(function(a,l){for(const c of a.filters)if(!c.matches(l))return!1;return!0})(r,e)&&(function(a,l){return!(a.startAt&&!(function(d,g,y){const _=I_(d,g,y);return d.inclusive?_<=0:_<0})(a.startAt,Bl(a),l)||a.endAt&&!(function(d,g,y){const _=I_(d,g,y);return d.inclusive?_>=0:_>0})(a.endAt,Bl(a),l))})(r,e)}function eR(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function MT(r){return(e,i)=>{let a=!1;for(const l of Bl(r)){const c=tR(l,e,i);if(c!==0)return c;a=a||l.field.isKeyField()}return 0}}function tR(r,e,i){const a=r.field.isKeyField()?we.comparator(e.key,i.key):(function(c,d,g){const y=d.data.field(c),_=g.data.field(c);return y!==null&&_!==null?_o(y,_):Ie(42886)})(r.field,e,i);switch(r.dir){case"asc":return a;case"desc":return-1*a;default:return Ie(19790,{direction:r.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class da{constructor(e,i){this.mapKeyFn=e,this.equalsFn=i,this.inner={},this.innerSize=0}get(e){const i=this.mapKeyFn(e),a=this.inner[i];if(a!==void 0){for(const[l,c]of a)if(this.equalsFn(l,e))return c}}has(e){return this.get(e)!==void 0}set(e,i){const a=this.mapKeyFn(e),l=this.inner[a];if(l===void 0)return this.inner[a]=[[e,i]],void this.innerSize++;for(let c=0;c<l.length;c++)if(this.equalsFn(l[c][0],e))return void(l[c]=[e,i]);l.push([e,i]),this.innerSize++}delete(e){const i=this.mapKeyFn(e),a=this.inner[i];if(a===void 0)return!1;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],e))return a.length===1?delete this.inner[i]:a.splice(l,1),this.innerSize--,!0;return!1}forEach(e){fa(this.inner,((i,a)=>{for(const[l,c]of a)e(l,c)}))}isEmpty(){return yT(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nR=new Ot(we.comparator);function Cr(){return nR}const VT=new Ot(we.comparator);function Ll(...r){let e=VT;for(const i of r)e=e.insert(i.key,i);return e}function LT(r){let e=VT;return r.forEach(((i,a)=>e=e.insert(i,a.overlayedDocument))),e}function ra(){return Hl()}function kT(){return Hl()}function Hl(){return new da((r=>r.toString()),((r,e)=>r.isEqual(e)))}const iR=new Ot(we.comparator),rR=new sn(we.comparator);function We(...r){let e=rR;for(const i of r)e=e.add(i);return e}const sR=new sn($e);function aR(){return sR}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jm(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ih(e)?"-0":e}}function PT(r){return{integerValue:""+r}}function oR(r,e){return M2(e)?PT(e):jm(r,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wh{constructor(){this._=void 0}}function lR(r,e,i){return r instanceof lh?(function(l,c){const d={fields:{[TT]:{stringValue:vT},[ST]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return c&&Lm(c)&&(c=Eh(c)),c&&(d.fields[ET]=c),{mapValue:d}})(i,e):r instanceof Wl?zT(r,e):r instanceof eu?jT(r,e):(function(l,c){const d=UT(l,c),g=O_(d)+O_(l.Ae);return rm(d)&&rm(l.Ae)?PT(g):jm(l.serializer,g)})(r,e)}function uR(r,e,i){return r instanceof Wl?zT(r,e):r instanceof eu?jT(r,e):i}function UT(r,e){return r instanceof uh?(function(a){return rm(a)||(function(c){return!!c&&"doubleValue"in c})(a)})(e)?e:{integerValue:0}:null}class lh extends wh{}class Wl extends wh{constructor(e){super(),this.elements=e}}function zT(r,e){const i=BT(e);for(const a of r.elements)i.some((l=>$i(l,a)))||i.push(a);return{arrayValue:{values:i}}}class eu extends wh{constructor(e){super(),this.elements=e}}function jT(r,e){let i=BT(e);for(const a of r.elements)i=i.filter((l=>!$i(l,a)));return{arrayValue:{values:i}}}class uh extends wh{constructor(e,i){super(),this.serializer=e,this.Ae=i}}function O_(r){return Gt(r.integerValue||r.doubleValue)}function BT(r){return km(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}function cR(r,e){return r.field.isEqual(e.field)&&(function(a,l){return a instanceof Wl&&l instanceof Wl||a instanceof eu&&l instanceof eu?yo(a.elements,l.elements,$i):a instanceof uh&&l instanceof uh?$i(a.Ae,l.Ae):a instanceof lh&&l instanceof lh})(r.transform,e.transform)}class hR{constructor(e,i){this.version=e,this.transformResults=i}}class Ar{constructor(e,i){this.updateTime=e,this.exists=i}static none(){return new Ar}static exists(e){return new Ar(void 0,e)}static updateTime(e){return new Ar(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Yc(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class Rh{}function HT(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new GT(r.key,Ar.none()):new ou(r.key,r.data,Ar.none());{const i=r.data,a=ui.empty();let l=new sn(_n.comparator);for(let c of e.fields)if(!l.has(c)){let d=i.field(c);d===null&&c.length>1&&(c=c.popLast(),d=i.field(c)),d===null?a.delete(c):a.set(c,d),l=l.add(c)}return new ma(r.key,a,new Ai(l.toArray()),Ar.none())}}function fR(r,e,i){r instanceof ou?(function(l,c,d){const g=l.value.clone(),y=V_(l.fieldTransforms,c,d.transformResults);g.setAll(y),c.convertToFoundDocument(d.version,g).setHasCommittedMutations()})(r,e,i):r instanceof ma?(function(l,c,d){if(!Yc(l.precondition,c))return void c.convertToUnknownDocument(d.version);const g=V_(l.fieldTransforms,c,d.transformResults),y=c.data;y.setAll(qT(l)),y.setAll(g),c.convertToFoundDocument(d.version,y).setHasCommittedMutations()})(r,e,i):(function(l,c,d){c.convertToNoDocument(d.version).setHasCommittedMutations()})(0,e,i)}function ql(r,e,i,a){return r instanceof ou?(function(c,d,g,y){if(!Yc(c.precondition,d))return g;const _=c.value.clone(),b=L_(c.fieldTransforms,y,d);return _.setAll(b),d.convertToFoundDocument(d.version,_).setHasLocalMutations(),null})(r,e,i,a):r instanceof ma?(function(c,d,g,y){if(!Yc(c.precondition,d))return g;const _=L_(c.fieldTransforms,y,d),b=d.data;return b.setAll(qT(c)),b.setAll(_),d.convertToFoundDocument(d.version,b).setHasLocalMutations(),g===null?null:g.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((A=>A.field)))})(r,e,i,a):(function(c,d,g){return Yc(c.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):g})(r,e,i)}function dR(r,e){let i=null;for(const a of r.fieldTransforms){const l=e.data.field(a.field),c=UT(a.transform,l||null);c!=null&&(i===null&&(i=ui.empty()),i.set(a.field,c))}return i||null}function M_(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!(function(a,l){return a===void 0&&l===void 0||!(!a||!l)&&yo(a,l,((c,d)=>cR(c,d)))})(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class ou extends Rh{constructor(e,i,a,l=[]){super(),this.key=e,this.value=i,this.precondition=a,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class ma extends Rh{constructor(e,i,a,l,c=[]){super(),this.key=e,this.data=i,this.fieldMask=a,this.precondition=l,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function qT(r){const e=new Map;return r.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const a=r.data.field(i);e.set(i,a)}})),e}function V_(r,e,i){const a=new Map;ut(r.length===i.length,32656,{Re:i.length,Ve:r.length});for(let l=0;l<i.length;l++){const c=r[l],d=c.transform,g=e.data.field(c.field);a.set(c.field,uR(d,g,i[l]))}return a}function L_(r,e,i){const a=new Map;for(const l of r){const c=l.transform,d=i.data.field(l.field);a.set(l.field,lR(c,d,e))}return a}class GT extends Rh{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class mR extends Rh{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gR{constructor(e,i,a,l){this.batchId=e,this.localWriteTime=i,this.baseMutations=a,this.mutations=l}applyToRemoteDocument(e,i){const a=i.mutationResults;for(let l=0;l<this.mutations.length;l++){const c=this.mutations[l];c.key.isEqual(e.key)&&fR(c,e,a[l])}}applyToLocalView(e,i){for(const a of this.baseMutations)a.key.isEqual(e.key)&&(i=ql(a,e,i,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(e.key)&&(i=ql(a,e,i,this.localWriteTime));return i}applyToLocalDocumentSet(e,i){const a=kT();return this.mutations.forEach((l=>{const c=e.get(l.key),d=c.overlayedDocument;let g=this.applyToLocalView(d,c.mutatedFields);g=i.has(l.key)?null:g;const y=HT(d,g);y!==null&&a.set(l.key,y),d.isValidDocument()||d.convertToNoDocument(Le.min())})),a}keys(){return this.mutations.reduce(((e,i)=>e.add(i.key)),We())}isEqual(e){return this.batchId===e.batchId&&yo(this.mutations,e.mutations,((i,a)=>M_(i,a)))&&yo(this.baseMutations,e.baseMutations,((i,a)=>M_(i,a)))}}class Bm{constructor(e,i,a,l){this.batch=e,this.commitVersion=i,this.mutationResults=a,this.docVersions=l}static from(e,i,a){ut(e.mutations.length===a.length,58842,{me:e.mutations.length,fe:a.length});let l=(function(){return iR})();const c=e.mutations;for(let d=0;d<c.length;d++)l=l.insert(c[d].key,a[d].version);return new Bm(e,i,a,l)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pR{constructor(e,i){this.largestBatchId=e,this.mutation=i}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yR{constructor(e,i){this.count=e,this.unchangedNames=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var $t,nt;function _R(r){switch(r){case ee.OK:return Ie(64938);case ee.CANCELLED:case ee.UNKNOWN:case ee.DEADLINE_EXCEEDED:case ee.RESOURCE_EXHAUSTED:case ee.INTERNAL:case ee.UNAVAILABLE:case ee.UNAUTHENTICATED:return!1;case ee.INVALID_ARGUMENT:case ee.NOT_FOUND:case ee.ALREADY_EXISTS:case ee.PERMISSION_DENIED:case ee.FAILED_PRECONDITION:case ee.ABORTED:case ee.OUT_OF_RANGE:case ee.UNIMPLEMENTED:case ee.DATA_LOSS:return!0;default:return Ie(15467,{code:r})}}function FT(r){if(r===void 0)return Rr("GRPC error has no .code"),ee.UNKNOWN;switch(r){case $t.OK:return ee.OK;case $t.CANCELLED:return ee.CANCELLED;case $t.UNKNOWN:return ee.UNKNOWN;case $t.DEADLINE_EXCEEDED:return ee.DEADLINE_EXCEEDED;case $t.RESOURCE_EXHAUSTED:return ee.RESOURCE_EXHAUSTED;case $t.INTERNAL:return ee.INTERNAL;case $t.UNAVAILABLE:return ee.UNAVAILABLE;case $t.UNAUTHENTICATED:return ee.UNAUTHENTICATED;case $t.INVALID_ARGUMENT:return ee.INVALID_ARGUMENT;case $t.NOT_FOUND:return ee.NOT_FOUND;case $t.ALREADY_EXISTS:return ee.ALREADY_EXISTS;case $t.PERMISSION_DENIED:return ee.PERMISSION_DENIED;case $t.FAILED_PRECONDITION:return ee.FAILED_PRECONDITION;case $t.ABORTED:return ee.ABORTED;case $t.OUT_OF_RANGE:return ee.OUT_OF_RANGE;case $t.UNIMPLEMENTED:return ee.UNIMPLEMENTED;case $t.DATA_LOSS:return ee.DATA_LOSS;default:return Ie(39323,{code:r})}}(nt=$t||($t={}))[nt.OK=0]="OK",nt[nt.CANCELLED=1]="CANCELLED",nt[nt.UNKNOWN=2]="UNKNOWN",nt[nt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",nt[nt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",nt[nt.NOT_FOUND=5]="NOT_FOUND",nt[nt.ALREADY_EXISTS=6]="ALREADY_EXISTS",nt[nt.PERMISSION_DENIED=7]="PERMISSION_DENIED",nt[nt.UNAUTHENTICATED=16]="UNAUTHENTICATED",nt[nt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",nt[nt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",nt[nt.ABORTED=10]="ABORTED",nt[nt.OUT_OF_RANGE=11]="OUT_OF_RANGE",nt[nt.UNIMPLEMENTED=12]="UNIMPLEMENTED",nt[nt.INTERNAL=13]="INTERNAL",nt[nt.UNAVAILABLE=14]="UNAVAILABLE",nt[nt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vR(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TR=new vs([4294967295,4294967295],0);function k_(r){const e=vR().encode(r),i=new aT;return i.update(e),new Uint8Array(i.digest())}function P_(r){const e=new DataView(r.buffer),i=e.getUint32(0,!0),a=e.getUint32(4,!0),l=e.getUint32(8,!0),c=e.getUint32(12,!0);return[new vs([i,a],0),new vs([l,c],0)]}class Hm{constructor(e,i,a){if(this.bitmap=e,this.padding=i,this.hashCount=a,i<0||i>=8)throw new kl(`Invalid padding: ${i}`);if(a<0)throw new kl(`Invalid hash count: ${a}`);if(e.length>0&&this.hashCount===0)throw new kl(`Invalid hash count: ${a}`);if(e.length===0&&i!==0)throw new kl(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*e.length-i,this.pe=vs.fromNumber(this.ge)}ye(e,i,a){let l=e.add(i.multiply(vs.fromNumber(a)));return l.compare(TR)===1&&(l=new vs([l.getBits(0),l.getBits(1)],0)),l.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const i=k_(e),[a,l]=P_(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(a,l,c);if(!this.we(d))return!1}return!0}static create(e,i,a){const l=e%8==0?0:8-e%8,c=new Uint8Array(Math.ceil(e/8)),d=new Hm(c,l,i);return a.forEach((g=>d.insert(g))),d}insert(e){if(this.ge===0)return;const i=k_(e),[a,l]=P_(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(a,l,c);this.Se(d)}}Se(e){const i=Math.floor(e/8),a=e%8;this.bitmap[i]|=1<<a}}class kl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ch{constructor(e,i,a,l,c){this.snapshotVersion=e,this.targetChanges=i,this.targetMismatches=a,this.documentUpdates=l,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(e,i,a){const l=new Map;return l.set(e,lu.createSynthesizedTargetChangeForCurrentChange(e,i,a)),new Ch(Le.min(),l,new Ot($e),Cr(),We())}}class lu{constructor(e,i,a,l,c){this.resumeToken=e,this.current=i,this.addedDocuments=a,this.modifiedDocuments=l,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(e,i,a){return new lu(a,i,We(),We(),We())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kc{constructor(e,i,a,l){this.be=e,this.removedTargetIds=i,this.key=a,this.De=l}}class YT{constructor(e,i){this.targetId=e,this.Ce=i}}class KT{constructor(e,i,a=vn.EMPTY_BYTE_STRING,l=null){this.state=e,this.targetIds=i,this.resumeToken=a,this.cause=l}}class U_{constructor(){this.ve=0,this.Fe=z_(),this.Me=vn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=We(),i=We(),a=We();return this.Fe.forEach(((l,c)=>{switch(c){case 0:e=e.add(l);break;case 2:i=i.add(l);break;case 1:a=a.add(l);break;default:Ie(38017,{changeType:c})}})),new lu(this.Me,this.xe,e,i,a)}qe(){this.Oe=!1,this.Fe=z_()}Qe(e,i){this.Oe=!0,this.Fe=this.Fe.insert(e,i)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,ut(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class ER{constructor(e){this.Ge=e,this.ze=new Map,this.je=Cr(),this.Je=kc(),this.He=kc(),this.Ye=new Ot($e)}Ze(e){for(const i of e.be)e.De&&e.De.isFoundDocument()?this.Xe(i,e.De):this.et(i,e.key,e.De);for(const i of e.removedTargetIds)this.et(i,e.key,e.De)}tt(e){this.forEachTarget(e,(i=>{const a=this.nt(i);switch(e.state){case 0:this.rt(i)&&a.Le(e.resumeToken);break;case 1:a.Ke(),a.Ne||a.qe(),a.Le(e.resumeToken);break;case 2:a.Ke(),a.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(a.We(),a.Le(e.resumeToken));break;case 4:this.rt(i)&&(this.it(i),a.Le(e.resumeToken));break;default:Ie(56790,{state:e.state})}}))}forEachTarget(e,i){e.targetIds.length>0?e.targetIds.forEach(i):this.ze.forEach(((a,l)=>{this.rt(l)&&i(l)}))}st(e){const i=e.targetId,a=e.Ce.count,l=this.ot(i);if(l){const c=l.target;if(am(c))if(a===0){const d=new we(c.path);this.et(i,d,bn.newNoDocument(d,Le.min()))}else ut(a===1,20013,{expectedCount:a});else{const d=this._t(i);if(d!==a){const g=this.ut(e),y=g?this.ct(g,e,d):1;if(y!==0){this.it(i);const _=y===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(i,_)}}}}}ut(e){const i=e.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:a="",padding:l=0},hashCount:c=0}=i;let d,g;try{d=bs(a).toUint8Array()}catch(y){if(y instanceof _T)return po("Decoding the base64 bloom filter in existence filter failed ("+y.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw y}try{g=new Hm(d,l,c)}catch(y){return po(y instanceof kl?"BloomFilter error: ":"Applying bloom filter failed: ",y),null}return g.ge===0?null:g}ct(e,i,a){return i.Ce.count===a-this.Pt(e,i.targetId)?0:2}Pt(e,i){const a=this.Ge.getRemoteKeysForTarget(i);let l=0;return a.forEach((c=>{const d=this.Ge.ht(),g=`projects/${d.projectId}/databases/${d.database}/documents/${c.path.canonicalString()}`;e.mightContain(g)||(this.et(i,c,null),l++)})),l}Tt(e){const i=new Map;this.ze.forEach(((c,d)=>{const g=this.ot(d);if(g){if(c.current&&am(g.target)){const y=new we(g.target.path);this.It(y).has(d)||this.Et(d,y)||this.et(d,y,bn.newNoDocument(y,e))}c.Be&&(i.set(d,c.ke()),c.qe())}}));let a=We();this.He.forEach(((c,d)=>{let g=!0;d.forEachWhile((y=>{const _=this.ot(y);return!_||_.purpose==="TargetPurposeLimboResolution"||(g=!1,!1)})),g&&(a=a.add(c))})),this.je.forEach(((c,d)=>d.setReadTime(e)));const l=new Ch(e,i,this.Ye,this.je,a);return this.je=Cr(),this.Je=kc(),this.He=kc(),this.Ye=new Ot($e),l}Xe(e,i){if(!this.rt(e))return;const a=this.Et(e,i.key)?2:0;this.nt(e).Qe(i.key,a),this.je=this.je.insert(i.key,i),this.Je=this.Je.insert(i.key,this.It(i.key).add(e)),this.He=this.He.insert(i.key,this.dt(i.key).add(e))}et(e,i,a){if(!this.rt(e))return;const l=this.nt(e);this.Et(e,i)?l.Qe(i,1):l.$e(i),this.He=this.He.insert(i,this.dt(i).delete(e)),this.He=this.He.insert(i,this.dt(i).add(e)),a&&(this.je=this.je.insert(i,a))}removeTarget(e){this.ze.delete(e)}_t(e){const i=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+i.addedDocuments.size-i.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let i=this.ze.get(e);return i||(i=new U_,this.ze.set(e,i)),i}dt(e){let i=this.He.get(e);return i||(i=new sn($e),this.He=this.He.insert(e,i)),i}It(e){let i=this.Je.get(e);return i||(i=new sn($e),this.Je=this.Je.insert(e,i)),i}rt(e){const i=this.ot(e)!==null;return i||de("WatchChangeAggregator","Detected inactive target",e),i}ot(e){const i=this.ze.get(e);return i&&i.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new U_),this.Ge.getRemoteKeysForTarget(e).forEach((i=>{this.et(e,i,null)}))}Et(e,i){return this.Ge.getRemoteKeysForTarget(e).has(i)}}function kc(){return new Ot(we.comparator)}function z_(){return new Ot(we.comparator)}const SR={asc:"ASCENDING",desc:"DESCENDING"},AR={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},bR={and:"AND",or:"OR"};class wR{constructor(e,i){this.databaseId=e,this.useProto3Json=i}}function lm(r,e){return r.useProto3Json||Th(e)?e:{value:e}}function ch(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function QT(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function RR(r,e){return ch(r,e.toTimestamp())}function Qi(r){return ut(!!r,49232),Le.fromTimestamp((function(i){const a=As(i);return new Ct(a.seconds,a.nanos)})(r))}function qm(r,e){return um(r,e).canonicalString()}function um(r,e){const i=(function(l){return new Rt(["projects",l.projectId,"databases",l.database])})(r).child("documents");return e===void 0?i:i.child(e)}function XT(r){const e=Rt.fromString(r);return ut(eE(e),10190,{key:e.toString()}),e}function cm(r,e){return qm(r.databaseId,e.path)}function Bd(r,e){const i=XT(e);if(i.get(1)!==r.databaseId.projectId)throw new Te(ee.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+r.databaseId.projectId);if(i.get(3)!==r.databaseId.database)throw new Te(ee.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+r.databaseId.database);return new we(JT(i))}function ZT(r,e){return qm(r.databaseId,e)}function CR(r){const e=XT(r);return e.length===4?Rt.emptyPath():JT(e)}function hm(r){return new Rt(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function JT(r){return ut(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function j_(r,e,i){return{name:cm(r,e),fields:i.value.mapValue.fields}}function IR(r,e){let i;if("targetChange"in e){e.targetChange;const a=(function(_){return _==="NO_CHANGE"?0:_==="ADD"?1:_==="REMOVE"?2:_==="CURRENT"?3:_==="RESET"?4:Ie(39313,{state:_})})(e.targetChange.targetChangeType||"NO_CHANGE"),l=e.targetChange.targetIds||[],c=(function(_,b){return _.useProto3Json?(ut(b===void 0||typeof b=="string",58123),vn.fromBase64String(b||"")):(ut(b===void 0||b instanceof Buffer||b instanceof Uint8Array,16193),vn.fromUint8Array(b||new Uint8Array))})(r,e.targetChange.resumeToken),d=e.targetChange.cause,g=d&&(function(_){const b=_.code===void 0?ee.UNKNOWN:FT(_.code);return new Te(b,_.message||"")})(d);i=new KT(a,l,c,g||null)}else if("documentChange"in e){e.documentChange;const a=e.documentChange;a.document,a.document.name,a.document.updateTime;const l=Bd(r,a.document.name),c=Qi(a.document.updateTime),d=a.document.createTime?Qi(a.document.createTime):Le.min(),g=new ui({mapValue:{fields:a.document.fields}}),y=bn.newFoundDocument(l,c,d,g),_=a.targetIds||[],b=a.removedTargetIds||[];i=new Kc(_,b,y.key,y)}else if("documentDelete"in e){e.documentDelete;const a=e.documentDelete;a.document;const l=Bd(r,a.document),c=a.readTime?Qi(a.readTime):Le.min(),d=bn.newNoDocument(l,c),g=a.removedTargetIds||[];i=new Kc([],g,d.key,d)}else if("documentRemove"in e){e.documentRemove;const a=e.documentRemove;a.document;const l=Bd(r,a.document),c=a.removedTargetIds||[];i=new Kc([],c,l,null)}else{if(!("filter"in e))return Ie(11601,{Rt:e});{e.filter;const a=e.filter;a.targetId;const{count:l=0,unchangedNames:c}=a,d=new yR(l,c),g=a.targetId;i=new YT(g,d)}}return i}function NR(r,e){let i;if(e instanceof ou)i={update:j_(r,e.key,e.value)};else if(e instanceof GT)i={delete:cm(r,e.key)};else if(e instanceof ma)i={update:j_(r,e.key,e.data),updateMask:UR(e.fieldMask)};else{if(!(e instanceof mR))return Ie(16599,{Vt:e.type});i={verify:cm(r,e.key)}}return e.fieldTransforms.length>0&&(i.updateTransforms=e.fieldTransforms.map((a=>(function(c,d){const g=d.transform;if(g instanceof lh)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(g instanceof Wl)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:g.elements}};if(g instanceof eu)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:g.elements}};if(g instanceof uh)return{fieldPath:d.field.canonicalString(),increment:g.Ae};throw Ie(20930,{transform:d.transform})})(0,a)))),e.precondition.isNone||(i.currentDocument=(function(l,c){return c.updateTime!==void 0?{updateTime:RR(l,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:Ie(27497)})(r,e.precondition)),i}function xR(r,e){return r&&r.length>0?(ut(e!==void 0,14353),r.map((i=>(function(l,c){let d=l.updateTime?Qi(l.updateTime):Qi(c);return d.isEqual(Le.min())&&(d=Qi(c)),new hR(d,l.transformResults||[])})(i,e)))):[]}function DR(r,e){return{documents:[ZT(r,e.path)]}}function OR(r,e){const i={structuredQuery:{}},a=e.path;let l;e.collectionGroup!==null?(l=a,i.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(l=a.popLast(),i.structuredQuery.from=[{collectionId:a.lastSegment()}]),i.parent=ZT(r,l);const c=(function(_){if(_.length!==0)return WT(Wi.create(_,"and"))})(e.filters);c&&(i.structuredQuery.where=c);const d=(function(_){if(_.length!==0)return _.map((b=>(function(L){return{field:ao(L.field),direction:LR(L.dir)}})(b)))})(e.orderBy);d&&(i.structuredQuery.orderBy=d);const g=lm(r,e.limit);return g!==null&&(i.structuredQuery.limit=g),e.startAt&&(i.structuredQuery.startAt=(function(_){return{before:_.inclusive,values:_.position}})(e.startAt)),e.endAt&&(i.structuredQuery.endAt=(function(_){return{before:!_.inclusive,values:_.position}})(e.endAt)),{ft:i,parent:l}}function MR(r){let e=CR(r.parent);const i=r.structuredQuery,a=i.from?i.from.length:0;let l=null;if(a>0){ut(a===1,65062);const b=i.from[0];b.allDescendants?l=b.collectionId:e=e.child(b.collectionId)}let c=[];i.where&&(c=(function(A){const L=$T(A);return L instanceof Wi&&IT(L)?L.getFilters():[L]})(i.where));let d=[];i.orderBy&&(d=(function(A){return A.map((L=>(function(re){return new oh(oo(re.field),(function(te){switch(te){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(re.direction))})(L)))})(i.orderBy));let g=null;i.limit&&(g=(function(A){let L;return L=typeof A=="object"?A.value:A,Th(L)?null:L})(i.limit));let y=null;i.startAt&&(y=(function(A){const L=!!A.before,q=A.values||[];return new ah(q,L)})(i.startAt));let _=null;return i.endAt&&(_=(function(A){const L=!A.before,q=A.values||[];return new ah(q,L)})(i.endAt)),J2(e,l,d,c,g,"F",y,_)}function VR(r,e){const i=(function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ie(28987,{purpose:l})}})(e.purpose);return i==null?null:{"goog-listen-tags":i}}function $T(r){return r.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const a=oo(i.unaryFilter.field);return nn.create(a,"==",{doubleValue:NaN});case"IS_NULL":const l=oo(i.unaryFilter.field);return nn.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=oo(i.unaryFilter.field);return nn.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=oo(i.unaryFilter.field);return nn.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ie(61313);default:return Ie(60726)}})(r):r.fieldFilter!==void 0?(function(i){return nn.create(oo(i.fieldFilter.field),(function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ie(58110);default:return Ie(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(i){return Wi.create(i.compositeFilter.filters.map((a=>$T(a))),(function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return Ie(1026)}})(i.compositeFilter.op))})(r):Ie(30097,{filter:r})}function LR(r){return SR[r]}function kR(r){return AR[r]}function PR(r){return bR[r]}function ao(r){return{fieldPath:r.canonicalString()}}function oo(r){return _n.fromServerFormat(r.fieldPath)}function WT(r){return r instanceof nn?(function(i){if(i.op==="=="){if(C_(i.value))return{unaryFilter:{field:ao(i.field),op:"IS_NAN"}};if(R_(i.value))return{unaryFilter:{field:ao(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(C_(i.value))return{unaryFilter:{field:ao(i.field),op:"IS_NOT_NAN"}};if(R_(i.value))return{unaryFilter:{field:ao(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ao(i.field),op:kR(i.op),value:i.value}}})(r):r instanceof Wi?(function(i){const a=i.getFilters().map((l=>WT(l)));return a.length===1?a[0]:{compositeFilter:{op:PR(i.op),filters:a}}})(r):Ie(54877,{filter:r})}function UR(r){const e=[];return r.fields.forEach((i=>e.push(i.canonicalString()))),{fieldPaths:e}}function eE(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gs{constructor(e,i,a,l,c=Le.min(),d=Le.min(),g=vn.EMPTY_BYTE_STRING,y=null){this.target=e,this.targetId=i,this.purpose=a,this.sequenceNumber=l,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=g,this.expectedCount=y}withSequenceNumber(e){return new gs(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,i){return new gs(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new gs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new gs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zR{constructor(e){this.yt=e}}function jR(r){const e=MR({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?om(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BR{constructor(){this.Cn=new HR}addToCollectionParentIndex(e,i){return this.Cn.add(i),$.resolve()}getCollectionParents(e,i){return $.resolve(this.Cn.getEntries(i))}addFieldIndex(e,i){return $.resolve()}deleteFieldIndex(e,i){return $.resolve()}deleteAllFieldIndexes(e){return $.resolve()}createTargetIndexes(e,i){return $.resolve()}getDocumentsMatchingTarget(e,i){return $.resolve(null)}getIndexType(e,i){return $.resolve(0)}getFieldIndexes(e,i){return $.resolve([])}getNextCollectionGroupToUpdate(e){return $.resolve(null)}getMinOffset(e,i){return $.resolve(Ss.min())}getMinOffsetFromCollectionGroup(e,i){return $.resolve(Ss.min())}updateCollectionGroup(e,i,a){return $.resolve()}updateIndexEntries(e,i){return $.resolve()}}class HR{constructor(){this.index={}}add(e){const i=e.lastSegment(),a=e.popLast(),l=this.index[i]||new sn(Rt.comparator),c=!l.has(a);return this.index[i]=l.add(a),c}has(e){const i=e.lastSegment(),a=e.popLast(),l=this.index[i];return l&&l.has(a)}getEntries(e){return(this.index[e]||new sn(Rt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},tE=41943040;class Pn{static withCacheSize(e){return new Pn(e,Pn.DEFAULT_COLLECTION_PERCENTILE,Pn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,i,a){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Pn.DEFAULT_COLLECTION_PERCENTILE=10,Pn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Pn.DEFAULT=new Pn(tE,Pn.DEFAULT_COLLECTION_PERCENTILE,Pn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Pn.DISABLED=new Pn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class To{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new To(0)}static cr(){return new To(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H_="LruGarbageCollector",qR=1048576;function q_([r,e],[i,a]){const l=$e(r,i);return l===0?$e(e,a):l}class GR{constructor(e){this.Ir=e,this.buffer=new sn(q_),this.Er=0}dr(){return++this.Er}Ar(e){const i=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(i);else{const a=this.buffer.last();q_(i,a)<0&&(this.buffer=this.buffer.delete(a).add(i))}}get maxValue(){return this.buffer.last()[0]}}class FR{constructor(e,i,a){this.garbageCollector=e,this.asyncQueue=i,this.localStore=a,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){de(H_,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){Io(i)?de(H_,"Ignoring IndexedDB error during garbage collection: ",i):await Co(i)}await this.Vr(3e5)}))}}class YR{constructor(e,i){this.mr=e,this.params=i}calculateTargetCount(e,i){return this.mr.gr(e).next((a=>Math.floor(i/100*a)))}nthSequenceNumber(e,i){if(i===0)return $.resolve(vh.ce);const a=new GR(i);return this.mr.forEachTarget(e,(l=>a.Ar(l.sequenceNumber))).next((()=>this.mr.pr(e,(l=>a.Ar(l))))).next((()=>a.maxValue))}removeTargets(e,i,a){return this.mr.removeTargets(e,i,a)}removeOrphanedDocuments(e,i){return this.mr.removeOrphanedDocuments(e,i)}collect(e,i){return this.params.cacheSizeCollectionThreshold===-1?(de("LruGarbageCollector","Garbage collection skipped; disabled"),$.resolve(B_)):this.getCacheSize(e).next((a=>a<this.params.cacheSizeCollectionThreshold?(de("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),B_):this.yr(e,i)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,i){let a,l,c,d,g,y,_;const b=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((A=>(A>this.params.maximumSequenceNumbersToCollect?(de("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${A}`),l=this.params.maximumSequenceNumbersToCollect):l=A,d=Date.now(),this.nthSequenceNumber(e,l)))).next((A=>(a=A,g=Date.now(),this.removeTargets(e,a,i)))).next((A=>(c=A,y=Date.now(),this.removeOrphanedDocuments(e,a)))).next((A=>(_=Date.now(),ro()<=Je.DEBUG&&de("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-b}ms
	Determined least recently used ${l} in `+(g-d)+`ms
	Removed ${c} targets in `+(y-g)+`ms
	Removed ${A} documents in `+(_-y)+`ms
Total Duration: ${_-b}ms`),$.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:c,documentsRemoved:A}))))}}function KR(r,e){return new YR(r,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QR{constructor(){this.changes=new da((e=>e.toString()),((e,i)=>e.isEqual(i))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,i){this.assertNotApplied(),this.changes.set(e,bn.newInvalidDocument(e).setReadTime(i))}getEntry(e,i){this.assertNotApplied();const a=this.changes.get(i);return a!==void 0?$.resolve(a):this.getFromCache(e,i)}getEntries(e,i){return this.getAllFromCache(e,i)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XR{constructor(e,i){this.overlayedDocument=e,this.mutatedFields=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZR{constructor(e,i,a,l){this.remoteDocumentCache=e,this.mutationQueue=i,this.documentOverlayCache=a,this.indexManager=l}getDocument(e,i){let a=null;return this.documentOverlayCache.getOverlay(e,i).next((l=>(a=l,this.remoteDocumentCache.getEntry(e,i)))).next((l=>(a!==null&&ql(a.mutation,l,Ai.empty(),Ct.now()),l)))}getDocuments(e,i){return this.remoteDocumentCache.getEntries(e,i).next((a=>this.getLocalViewOfDocuments(e,a,We()).next((()=>a))))}getLocalViewOfDocuments(e,i,a=We()){const l=ra();return this.populateOverlays(e,l,i).next((()=>this.computeViews(e,i,l,a).next((c=>{let d=Ll();return c.forEach(((g,y)=>{d=d.insert(g,y.overlayedDocument)})),d}))))}getOverlayedDocuments(e,i){const a=ra();return this.populateOverlays(e,a,i).next((()=>this.computeViews(e,i,a,We())))}populateOverlays(e,i,a){const l=[];return a.forEach((c=>{i.has(c)||l.push(c)})),this.documentOverlayCache.getOverlays(e,l).next((c=>{c.forEach(((d,g)=>{i.set(d,g)}))}))}computeViews(e,i,a,l){let c=Cr();const d=Hl(),g=(function(){return Hl()})();return i.forEach(((y,_)=>{const b=a.get(_.key);l.has(_.key)&&(b===void 0||b.mutation instanceof ma)?c=c.insert(_.key,_):b!==void 0?(d.set(_.key,b.mutation.getFieldMask()),ql(b.mutation,_,b.mutation.getFieldMask(),Ct.now())):d.set(_.key,Ai.empty())})),this.recalculateAndSaveOverlays(e,c).next((y=>(y.forEach(((_,b)=>d.set(_,b))),i.forEach(((_,b)=>g.set(_,new XR(b,d.get(_)??null)))),g)))}recalculateAndSaveOverlays(e,i){const a=Hl();let l=new Ot(((d,g)=>d-g)),c=We();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,i).next((d=>{for(const g of d)g.keys().forEach((y=>{const _=i.get(y);if(_===null)return;let b=a.get(y)||Ai.empty();b=g.applyToLocalView(_,b),a.set(y,b);const A=(l.get(g.batchId)||We()).add(y);l=l.insert(g.batchId,A)}))})).next((()=>{const d=[],g=l.getReverseIterator();for(;g.hasNext();){const y=g.getNext(),_=y.key,b=y.value,A=kT();b.forEach((L=>{if(!c.has(L)){const q=HT(i.get(L),a.get(L));q!==null&&A.set(L,q),c=c.add(L)}})),d.push(this.documentOverlayCache.saveOverlays(e,_,A))}return $.waitFor(d)})).next((()=>a))}recalculateAndSaveOverlaysForDocumentKeys(e,i){return this.remoteDocumentCache.getEntries(e,i).next((a=>this.recalculateAndSaveOverlays(e,a)))}getDocumentsMatchingQuery(e,i,a,l){return(function(d){return we.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0})(i)?this.getDocumentsMatchingDocumentQuery(e,i.path):$2(i)?this.getDocumentsMatchingCollectionGroupQuery(e,i,a,l):this.getDocumentsMatchingCollectionQuery(e,i,a,l)}getNextDocuments(e,i,a,l){return this.remoteDocumentCache.getAllFromCollectionGroup(e,i,a,l).next((c=>{const d=l-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,i,a.largestBatchId,l-c.size):$.resolve(ra());let g=Xl,y=c;return d.next((_=>$.forEach(_,((b,A)=>(g<A.largestBatchId&&(g=A.largestBatchId),c.get(b)?$.resolve():this.remoteDocumentCache.getEntry(e,b).next((L=>{y=y.insert(b,L)}))))).next((()=>this.populateOverlays(e,_,c))).next((()=>this.computeViews(e,y,_,We()))).next((b=>({batchId:g,changes:LT(b)})))))}))}getDocumentsMatchingDocumentQuery(e,i){return this.getDocument(e,new we(i)).next((a=>{let l=Ll();return a.isFoundDocument()&&(l=l.insert(a.key,a)),l}))}getDocumentsMatchingCollectionGroupQuery(e,i,a,l){const c=i.collectionGroup;let d=Ll();return this.indexManager.getCollectionParents(e,c).next((g=>$.forEach(g,(y=>{const _=(function(A,L){return new Sh(L,null,A.explicitOrderBy.slice(),A.filters.slice(),A.limit,A.limitType,A.startAt,A.endAt)})(i,y.child(c));return this.getDocumentsMatchingCollectionQuery(e,_,a,l).next((b=>{b.forEach(((A,L)=>{d=d.insert(A,L)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(e,i,a,l){let c;return this.documentOverlayCache.getOverlaysForCollection(e,i.path,a.largestBatchId).next((d=>(c=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,i,a,c,l)))).next((d=>{c.forEach(((y,_)=>{const b=_.getKey();d.get(b)===null&&(d=d.insert(b,bn.newInvalidDocument(b)))}));let g=Ll();return d.forEach(((y,_)=>{const b=c.get(y);b!==void 0&&ql(b.mutation,_,Ai.empty(),Ct.now()),bh(i,_)&&(g=g.insert(y,_))})),g}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JR{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,i){return $.resolve(this.Lr.get(i))}saveBundleMetadata(e,i){return this.Lr.set(i.id,(function(l){return{id:l.id,version:l.version,createTime:Qi(l.createTime)}})(i)),$.resolve()}getNamedQuery(e,i){return $.resolve(this.kr.get(i))}saveNamedQuery(e,i){return this.kr.set(i.name,(function(l){return{name:l.name,query:jR(l.bundledQuery),readTime:Qi(l.readTime)}})(i)),$.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $R{constructor(){this.overlays=new Ot(we.comparator),this.qr=new Map}getOverlay(e,i){return $.resolve(this.overlays.get(i))}getOverlays(e,i){const a=ra();return $.forEach(i,(l=>this.getOverlay(e,l).next((c=>{c!==null&&a.set(l,c)})))).next((()=>a))}saveOverlays(e,i,a){return a.forEach(((l,c)=>{this.St(e,i,c)})),$.resolve()}removeOverlaysForBatchId(e,i,a){const l=this.qr.get(a);return l!==void 0&&(l.forEach((c=>this.overlays=this.overlays.remove(c))),this.qr.delete(a)),$.resolve()}getOverlaysForCollection(e,i,a){const l=ra(),c=i.length+1,d=new we(i.child("")),g=this.overlays.getIteratorFrom(d);for(;g.hasNext();){const y=g.getNext().value,_=y.getKey();if(!i.isPrefixOf(_.path))break;_.path.length===c&&y.largestBatchId>a&&l.set(y.getKey(),y)}return $.resolve(l)}getOverlaysForCollectionGroup(e,i,a,l){let c=new Ot(((_,b)=>_-b));const d=this.overlays.getIterator();for(;d.hasNext();){const _=d.getNext().value;if(_.getKey().getCollectionGroup()===i&&_.largestBatchId>a){let b=c.get(_.largestBatchId);b===null&&(b=ra(),c=c.insert(_.largestBatchId,b)),b.set(_.getKey(),_)}}const g=ra(),y=c.getIterator();for(;y.hasNext()&&(y.getNext().value.forEach(((_,b)=>g.set(_,b))),!(g.size()>=l)););return $.resolve(g)}St(e,i,a){const l=this.overlays.get(a.key);if(l!==null){const d=this.qr.get(l.largestBatchId).delete(a.key);this.qr.set(l.largestBatchId,d)}this.overlays=this.overlays.insert(a.key,new pR(i,a));let c=this.qr.get(i);c===void 0&&(c=We(),this.qr.set(i,c)),this.qr.set(i,c.add(a.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WR{constructor(){this.sessionToken=vn.EMPTY_BYTE_STRING}getSessionToken(e){return $.resolve(this.sessionToken)}setSessionToken(e,i){return this.sessionToken=i,$.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gm{constructor(){this.Qr=new sn(ln.$r),this.Ur=new sn(ln.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,i){const a=new ln(e,i);this.Qr=this.Qr.add(a),this.Ur=this.Ur.add(a)}Wr(e,i){e.forEach((a=>this.addReference(a,i)))}removeReference(e,i){this.Gr(new ln(e,i))}zr(e,i){e.forEach((a=>this.removeReference(a,i)))}jr(e){const i=new we(new Rt([])),a=new ln(i,e),l=new ln(i,e+1),c=[];return this.Ur.forEachInRange([a,l],(d=>{this.Gr(d),c.push(d.key)})),c}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const i=new we(new Rt([])),a=new ln(i,e),l=new ln(i,e+1);let c=We();return this.Ur.forEachInRange([a,l],(d=>{c=c.add(d.key)})),c}containsKey(e){const i=new ln(e,0),a=this.Qr.firstAfterOrEqual(i);return a!==null&&e.isEqual(a.key)}}class ln{constructor(e,i){this.key=e,this.Yr=i}static $r(e,i){return we.comparator(e.key,i.key)||$e(e.Yr,i.Yr)}static Kr(e,i){return $e(e.Yr,i.Yr)||we.comparator(e.key,i.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eC{constructor(e,i){this.indexManager=e,this.referenceDelegate=i,this.mutationQueue=[],this.tr=1,this.Zr=new sn(ln.$r)}checkEmpty(e){return $.resolve(this.mutationQueue.length===0)}addMutationBatch(e,i,a,l){const c=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new gR(c,i,a,l);this.mutationQueue.push(d);for(const g of l)this.Zr=this.Zr.add(new ln(g.key,c)),this.indexManager.addToCollectionParentIndex(e,g.key.path.popLast());return $.resolve(d)}lookupMutationBatch(e,i){return $.resolve(this.Xr(i))}getNextMutationBatchAfterBatchId(e,i){const a=i+1,l=this.ei(a),c=l<0?0:l;return $.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return $.resolve(this.mutationQueue.length===0?Vm:this.tr-1)}getAllMutationBatches(e){return $.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,i){const a=new ln(i,0),l=new ln(i,Number.POSITIVE_INFINITY),c=[];return this.Zr.forEachInRange([a,l],(d=>{const g=this.Xr(d.Yr);c.push(g)})),$.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(e,i){let a=new sn($e);return i.forEach((l=>{const c=new ln(l,0),d=new ln(l,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([c,d],(g=>{a=a.add(g.Yr)}))})),$.resolve(this.ti(a))}getAllMutationBatchesAffectingQuery(e,i){const a=i.path,l=a.length+1;let c=a;we.isDocumentKey(c)||(c=c.child(""));const d=new ln(new we(c),0);let g=new sn($e);return this.Zr.forEachWhile((y=>{const _=y.key.path;return!!a.isPrefixOf(_)&&(_.length===l&&(g=g.add(y.Yr)),!0)}),d),$.resolve(this.ti(g))}ti(e){const i=[];return e.forEach((a=>{const l=this.Xr(a);l!==null&&i.push(l)})),i}removeMutationBatch(e,i){ut(this.ni(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let a=this.Zr;return $.forEach(i.mutations,(l=>{const c=new ln(l.key,i.batchId);return a=a.delete(c),this.referenceDelegate.markPotentiallyOrphaned(e,l.key)})).next((()=>{this.Zr=a}))}ir(e){}containsKey(e,i){const a=new ln(i,0),l=this.Zr.firstAfterOrEqual(a);return $.resolve(i.isEqual(l&&l.key))}performConsistencyCheck(e){return this.mutationQueue.length,$.resolve()}ni(e,i){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const i=this.ei(e);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tC{constructor(e){this.ri=e,this.docs=(function(){return new Ot(we.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,i){const a=i.key,l=this.docs.get(a),c=l?l.size:0,d=this.ri(i);return this.docs=this.docs.insert(a,{document:i.mutableCopy(),size:d}),this.size+=d-c,this.indexManager.addToCollectionParentIndex(e,a.path.popLast())}removeEntry(e){const i=this.docs.get(e);i&&(this.docs=this.docs.remove(e),this.size-=i.size)}getEntry(e,i){const a=this.docs.get(i);return $.resolve(a?a.document.mutableCopy():bn.newInvalidDocument(i))}getEntries(e,i){let a=Cr();return i.forEach((l=>{const c=this.docs.get(l);a=a.insert(l,c?c.document.mutableCopy():bn.newInvalidDocument(l))})),$.resolve(a)}getDocumentsMatchingQuery(e,i,a,l){let c=Cr();const d=i.path,g=new we(d.child("__id-9223372036854775808__")),y=this.docs.getIteratorFrom(g);for(;y.hasNext();){const{key:_,value:{document:b}}=y.getNext();if(!d.isPrefixOf(_.path))break;_.path.length>d.length+1||N2(I2(b),a)<=0||(l.has(b.key)||bh(i,b))&&(c=c.insert(b.key,b.mutableCopy()))}return $.resolve(c)}getAllFromCollectionGroup(e,i,a,l){Ie(9500)}ii(e,i){return $.forEach(this.docs,(a=>i(a)))}newChangeBuffer(e){return new nC(this)}getSize(e){return $.resolve(this.size)}}class nC extends QR{constructor(e){super(),this.Nr=e}applyChanges(e){const i=[];return this.changes.forEach(((a,l)=>{l.isValidDocument()?i.push(this.Nr.addEntry(e,l)):this.Nr.removeEntry(a)})),$.waitFor(i)}getFromCache(e,i){return this.Nr.getEntry(e,i)}getAllFromCache(e,i){return this.Nr.getEntries(e,i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iC{constructor(e){this.persistence=e,this.si=new da((i=>Pm(i)),Um),this.lastRemoteSnapshotVersion=Le.min(),this.highestTargetId=0,this.oi=0,this._i=new Gm,this.targetCount=0,this.ai=To.ur()}forEachTarget(e,i){return this.si.forEach(((a,l)=>i(l))),$.resolve()}getLastRemoteSnapshotVersion(e){return $.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return $.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),$.resolve(this.highestTargetId)}setTargetsMetadata(e,i,a){return a&&(this.lastRemoteSnapshotVersion=a),i>this.oi&&(this.oi=i),$.resolve()}Pr(e){this.si.set(e.target,e);const i=e.targetId;i>this.highestTargetId&&(this.ai=new To(i),this.highestTargetId=i),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,i){return this.Pr(i),this.targetCount+=1,$.resolve()}updateTargetData(e,i){return this.Pr(i),$.resolve()}removeTargetData(e,i){return this.si.delete(i.target),this._i.jr(i.targetId),this.targetCount-=1,$.resolve()}removeTargets(e,i,a){let l=0;const c=[];return this.si.forEach(((d,g)=>{g.sequenceNumber<=i&&a.get(g.targetId)===null&&(this.si.delete(d),c.push(this.removeMatchingKeysForTargetId(e,g.targetId)),l++)})),$.waitFor(c).next((()=>l))}getTargetCount(e){return $.resolve(this.targetCount)}getTargetData(e,i){const a=this.si.get(i)||null;return $.resolve(a)}addMatchingKeys(e,i,a){return this._i.Wr(i,a),$.resolve()}removeMatchingKeys(e,i,a){this._i.zr(i,a);const l=this.persistence.referenceDelegate,c=[];return l&&i.forEach((d=>{c.push(l.markPotentiallyOrphaned(e,d))})),$.waitFor(c)}removeMatchingKeysForTargetId(e,i){return this._i.jr(i),$.resolve()}getMatchingKeysForTargetId(e,i){const a=this._i.Hr(i);return $.resolve(a)}containsKey(e,i){return $.resolve(this._i.containsKey(i))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nE{constructor(e,i){this.ui={},this.overlays={},this.ci=new vh(0),this.li=!1,this.li=!0,this.hi=new WR,this.referenceDelegate=e(this),this.Pi=new iC(this),this.indexManager=new BR,this.remoteDocumentCache=(function(l){return new tC(l)})((a=>this.referenceDelegate.Ti(a))),this.serializer=new zR(i),this.Ii=new JR(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let i=this.overlays[e.toKey()];return i||(i=new $R,this.overlays[e.toKey()]=i),i}getMutationQueue(e,i){let a=this.ui[e.toKey()];return a||(a=new eC(i,this.referenceDelegate),this.ui[e.toKey()]=a),a}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,i,a){de("MemoryPersistence","Starting transaction:",e);const l=new rC(this.ci.next());return this.referenceDelegate.Ei(),a(l).next((c=>this.referenceDelegate.di(l).next((()=>c)))).toPromise().then((c=>(l.raiseOnCommittedEvent(),c)))}Ai(e,i){return $.or(Object.values(this.ui).map((a=>()=>a.containsKey(e,i))))}}class rC extends D2{constructor(e){super(),this.currentSequenceNumber=e}}class Fm{constructor(e){this.persistence=e,this.Ri=new Gm,this.Vi=null}static mi(e){return new Fm(e)}get fi(){if(this.Vi)return this.Vi;throw Ie(60996)}addReference(e,i,a){return this.Ri.addReference(a,i),this.fi.delete(a.toString()),$.resolve()}removeReference(e,i,a){return this.Ri.removeReference(a,i),this.fi.add(a.toString()),$.resolve()}markPotentiallyOrphaned(e,i){return this.fi.add(i.toString()),$.resolve()}removeTarget(e,i){this.Ri.jr(i.targetId).forEach((l=>this.fi.add(l.toString())));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(e,i.targetId).next((l=>{l.forEach((c=>this.fi.add(c.toString())))})).next((()=>a.removeTargetData(e,i)))}Ei(){this.Vi=new Set}di(e){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return $.forEach(this.fi,(a=>{const l=we.fromPath(a);return this.gi(e,l).next((c=>{c||i.removeEntry(l,Le.min())}))})).next((()=>(this.Vi=null,i.apply(e))))}updateLimboDocument(e,i){return this.gi(e,i).next((a=>{a?this.fi.delete(i.toString()):this.fi.add(i.toString())}))}Ti(e){return 0}gi(e,i){return $.or([()=>$.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(e,i),()=>this.persistence.Ai(e,i)])}}class hh{constructor(e,i){this.persistence=e,this.pi=new da((a=>V2(a.path)),((a,l)=>a.isEqual(l))),this.garbageCollector=KR(this,i)}static mi(e,i){return new hh(e,i)}Ei(){}di(e){return $.resolve()}forEachTarget(e,i){return this.persistence.getTargetCache().forEachTarget(e,i)}gr(e){const i=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((a=>i.next((l=>a+l))))}wr(e){let i=0;return this.pr(e,(a=>{i++})).next((()=>i))}pr(e,i){return $.forEach(this.pi,((a,l)=>this.br(e,a,l).next((c=>c?$.resolve():i(l)))))}removeTargets(e,i,a){return this.persistence.getTargetCache().removeTargets(e,i,a)}removeOrphanedDocuments(e,i){let a=0;const l=this.persistence.getRemoteDocumentCache(),c=l.newChangeBuffer();return l.ii(e,(d=>this.br(e,d,i).next((g=>{g||(a++,c.removeEntry(d,Le.min()))})))).next((()=>c.apply(e))).next((()=>a))}markPotentiallyOrphaned(e,i){return this.pi.set(i,e.currentSequenceNumber),$.resolve()}removeTarget(e,i){const a=i.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,a)}addReference(e,i,a){return this.pi.set(a,e.currentSequenceNumber),$.resolve()}removeReference(e,i,a){return this.pi.set(a,e.currentSequenceNumber),$.resolve()}updateLimboDocument(e,i){return this.pi.set(i,e.currentSequenceNumber),$.resolve()}Ti(e){let i=e.key.toString().length;return e.isFoundDocument()&&(i+=Gc(e.data.value)),i}br(e,i,a){return $.or([()=>this.persistence.Ai(e,i),()=>this.persistence.getTargetCache().containsKey(e,i),()=>{const l=this.pi.get(i);return $.resolve(l!==void 0&&l>a)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ym{constructor(e,i,a,l){this.targetId=e,this.fromCache=i,this.Es=a,this.ds=l}static As(e,i){let a=We(),l=We();for(const c of i.docChanges)switch(c.type){case 0:a=a.add(c.doc.key);break;case 1:l=l.add(c.doc.key)}return new Ym(e,i.fromCache,a,l)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sC{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aC{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return ZS()?8:O2(wn())>0?6:4})()}initialize(e,i){this.ps=e,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(e,i,a,l){const c={result:null};return this.ys(e,i).next((d=>{c.result=d})).next((()=>{if(!c.result)return this.ws(e,i,l,a).next((d=>{c.result=d}))})).next((()=>{if(c.result)return;const d=new sC;return this.Ss(e,i,d).next((g=>{if(c.result=g,this.Vs)return this.bs(e,i,d,g.size)}))})).next((()=>c.result))}bs(e,i,a,l){return a.documentReadCount<this.fs?(ro()<=Je.DEBUG&&de("QueryEngine","SDK will not create cache indexes for query:",so(i),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),$.resolve()):(ro()<=Je.DEBUG&&de("QueryEngine","Query:",so(i),"scans",a.documentReadCount,"local documents and returns",l,"documents as results."),a.documentReadCount>this.gs*l?(ro()<=Je.DEBUG&&de("QueryEngine","The SDK decides to create cache indexes for query:",so(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ki(i))):$.resolve())}ys(e,i){if(D_(i))return $.resolve(null);let a=Ki(i);return this.indexManager.getIndexType(e,a).next((l=>l===0?null:(i.limit!==null&&l===1&&(i=om(i,null,"F"),a=Ki(i)),this.indexManager.getDocumentsMatchingTarget(e,a).next((c=>{const d=We(...c);return this.ps.getDocuments(e,d).next((g=>this.indexManager.getMinOffset(e,a).next((y=>{const _=this.Ds(i,g);return this.Cs(i,_,d,y.readTime)?this.ys(e,om(i,null,"F")):this.vs(e,_,i,y)}))))})))))}ws(e,i,a,l){return D_(i)||l.isEqual(Le.min())?$.resolve(null):this.ps.getDocuments(e,a).next((c=>{const d=this.Ds(i,c);return this.Cs(i,d,a,l)?$.resolve(null):(ro()<=Je.DEBUG&&de("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),so(i)),this.vs(e,d,i,C2(l,Xl)).next((g=>g)))}))}Ds(e,i){let a=new sn(MT(e));return i.forEach(((l,c)=>{bh(e,c)&&(a=a.add(c))})),a}Cs(e,i,a,l){if(e.limit===null)return!1;if(a.size!==i.size)return!0;const c=e.limitType==="F"?i.last():i.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(l)>0)}Ss(e,i,a){return ro()<=Je.DEBUG&&de("QueryEngine","Using full collection scan to execute query:",so(i)),this.ps.getDocumentsMatchingQuery(e,i,Ss.min(),a)}vs(e,i,a,l){return this.ps.getDocumentsMatchingQuery(e,a,l).next((c=>(i.forEach((d=>{c=c.insert(d.key,d)})),c)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Km="LocalStore",oC=3e8;class lC{constructor(e,i,a,l){this.persistence=e,this.Fs=i,this.serializer=l,this.Ms=new Ot($e),this.xs=new da((c=>Pm(c)),Um),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(a)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new ZR(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>e.collect(i,this.Ms)))}}function uC(r,e,i,a){return new lC(r,e,i,a)}async function iE(r,e){const i=Pe(r);return await i.persistence.runTransaction("Handle user change","readonly",(a=>{let l;return i.mutationQueue.getAllMutationBatches(a).next((c=>(l=c,i.Bs(e),i.mutationQueue.getAllMutationBatches(a)))).next((c=>{const d=[],g=[];let y=We();for(const _ of l){d.push(_.batchId);for(const b of _.mutations)y=y.add(b.key)}for(const _ of c){g.push(_.batchId);for(const b of _.mutations)y=y.add(b.key)}return i.localDocuments.getDocuments(a,y).next((_=>({Ls:_,removedBatchIds:d,addedBatchIds:g})))}))}))}function cC(r,e){const i=Pe(r);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(a=>{const l=e.batch.keys(),c=i.Ns.newChangeBuffer({trackRemovals:!0});return(function(g,y,_,b){const A=_.batch,L=A.keys();let q=$.resolve();return L.forEach((re=>{q=q.next((()=>b.getEntry(y,re))).next((ae=>{const te=_.docVersions.get(re);ut(te!==null,48541),ae.version.compareTo(te)<0&&(A.applyToRemoteDocument(ae,_),ae.isValidDocument()&&(ae.setReadTime(_.commitVersion),b.addEntry(ae)))}))})),q.next((()=>g.mutationQueue.removeMutationBatch(y,A)))})(i,a,e,c).next((()=>c.apply(a))).next((()=>i.mutationQueue.performConsistencyCheck(a))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(a,l,e.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,(function(g){let y=We();for(let _=0;_<g.mutationResults.length;++_)g.mutationResults[_].transformResults.length>0&&(y=y.add(g.batch.mutations[_].key));return y})(e)))).next((()=>i.localDocuments.getDocuments(a,l)))}))}function rE(r){const e=Pe(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>e.Pi.getLastRemoteSnapshotVersion(i)))}function hC(r,e){const i=Pe(r),a=e.snapshotVersion;let l=i.Ms;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const d=i.Ns.newChangeBuffer({trackRemovals:!0});l=i.Ms;const g=[];e.targetChanges.forEach(((b,A)=>{const L=l.get(A);if(!L)return;g.push(i.Pi.removeMatchingKeys(c,b.removedDocuments,A).next((()=>i.Pi.addMatchingKeys(c,b.addedDocuments,A))));let q=L.withSequenceNumber(c.currentSequenceNumber);e.targetMismatches.get(A)!==null?q=q.withResumeToken(vn.EMPTY_BYTE_STRING,Le.min()).withLastLimboFreeSnapshotVersion(Le.min()):b.resumeToken.approximateByteSize()>0&&(q=q.withResumeToken(b.resumeToken,a)),l=l.insert(A,q),(function(ae,te,se){return ae.resumeToken.approximateByteSize()===0||te.snapshotVersion.toMicroseconds()-ae.snapshotVersion.toMicroseconds()>=oC?!0:se.addedDocuments.size+se.modifiedDocuments.size+se.removedDocuments.size>0})(L,q,b)&&g.push(i.Pi.updateTargetData(c,q))}));let y=Cr(),_=We();if(e.documentUpdates.forEach((b=>{e.resolvedLimboDocuments.has(b)&&g.push(i.persistence.referenceDelegate.updateLimboDocument(c,b))})),g.push(fC(c,d,e.documentUpdates).next((b=>{y=b.ks,_=b.qs}))),!a.isEqual(Le.min())){const b=i.Pi.getLastRemoteSnapshotVersion(c).next((A=>i.Pi.setTargetsMetadata(c,c.currentSequenceNumber,a)));g.push(b)}return $.waitFor(g).next((()=>d.apply(c))).next((()=>i.localDocuments.getLocalViewOfDocuments(c,y,_))).next((()=>y))})).then((c=>(i.Ms=l,c)))}function fC(r,e,i){let a=We(),l=We();return i.forEach((c=>a=a.add(c))),e.getEntries(r,a).next((c=>{let d=Cr();return i.forEach(((g,y)=>{const _=c.get(g);y.isFoundDocument()!==_.isFoundDocument()&&(l=l.add(g)),y.isNoDocument()&&y.version.isEqual(Le.min())?(e.removeEntry(g,y.readTime),d=d.insert(g,y)):!_.isValidDocument()||y.version.compareTo(_.version)>0||y.version.compareTo(_.version)===0&&_.hasPendingWrites?(e.addEntry(y),d=d.insert(g,y)):de(Km,"Ignoring outdated watch update for ",g,". Current version:",_.version," Watch version:",y.version)})),{ks:d,qs:l}}))}function dC(r,e){const i=Pe(r);return i.persistence.runTransaction("Get next mutation batch","readonly",(a=>(e===void 0&&(e=Vm),i.mutationQueue.getNextMutationBatchAfterBatchId(a,e))))}function mC(r,e){const i=Pe(r);return i.persistence.runTransaction("Allocate target","readwrite",(a=>{let l;return i.Pi.getTargetData(a,e).next((c=>c?(l=c,$.resolve(l)):i.Pi.allocateTargetId(a).next((d=>(l=new gs(e,d,"TargetPurposeListen",a.currentSequenceNumber),i.Pi.addTargetData(a,l).next((()=>l)))))))})).then((a=>{const l=i.Ms.get(a.targetId);return(l===null||a.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(i.Ms=i.Ms.insert(a.targetId,a),i.xs.set(e,a.targetId)),a}))}async function fm(r,e,i){const a=Pe(r),l=a.Ms.get(e),c=i?"readwrite":"readwrite-primary";try{i||await a.persistence.runTransaction("Release target",c,(d=>a.persistence.referenceDelegate.removeTarget(d,l)))}catch(d){if(!Io(d))throw d;de(Km,`Failed to update sequence numbers for target ${e}: ${d}`)}a.Ms=a.Ms.remove(e),a.xs.delete(l.target)}function G_(r,e,i){const a=Pe(r);let l=Le.min(),c=We();return a.persistence.runTransaction("Execute query","readwrite",(d=>(function(y,_,b){const A=Pe(y),L=A.xs.get(b);return L!==void 0?$.resolve(A.Ms.get(L)):A.Pi.getTargetData(_,b)})(a,d,Ki(e)).next((g=>{if(g)return l=g.lastLimboFreeSnapshotVersion,a.Pi.getMatchingKeysForTargetId(d,g.targetId).next((y=>{c=y}))})).next((()=>a.Fs.getDocumentsMatchingQuery(d,e,i?l:Le.min(),i?c:We()))).next((g=>(gC(a,eR(e),g),{documents:g,Qs:c})))))}function gC(r,e,i){let a=r.Os.get(e)||Le.min();i.forEach(((l,c)=>{c.readTime.compareTo(a)>0&&(a=c.readTime)})),r.Os.set(e,a)}class F_{constructor(){this.activeTargetIds=aR()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class pC{constructor(){this.Mo=new F_,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,i,a){}addLocalQueryTarget(e,i=!0){return i&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,i,a){this.xo[e]=i}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new F_,Promise.resolve()}handleUserChange(e,i,a){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yC{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y_="ConnectivityMonitor";class K_{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){de(Y_,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){de(Y_,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Pc=null;function dm(){return Pc===null?Pc=(function(){return 268435456+Math.round(2147483648*Math.random())})():Pc++,"0x"+Pc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hd="RestConnection",_C={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class vC{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const i=e.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.Uo=i+"://"+e.host,this.Ko=`projects/${a}/databases/${l}`,this.Wo=this.databaseId.database===rh?`project_id=${a}`:`project_id=${a}&database_id=${l}`}Go(e,i,a,l,c){const d=dm(),g=this.zo(e,i.toUriEncodedString());de(Hd,`Sending RPC '${e}' ${d}:`,g,a);const y={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(y,l,c);const{host:_}=new URL(g),b=Ao(_);return this.Jo(e,g,y,a,b).then((A=>(de(Hd,`Received RPC '${e}' ${d}: `,A),A)),(A=>{throw po(Hd,`RPC '${e}' ${d} failed with error: `,A,"url: ",g,"request:",a),A}))}Ho(e,i,a,l,c,d){return this.Go(e,i,a,l,c)}jo(e,i,a){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Ro})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((l,c)=>e[c]=l)),a&&a.headers.forEach(((l,c)=>e[c]=l))}zo(e,i){const a=_C[e];return`${this.Uo}/v1/${i}:${a}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TC{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const En="WebChannelConnection";class EC extends vC{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,i,a,l,c){const d=dm();return new Promise(((g,y)=>{const _=new oT;_.setWithCredentials(!0),_.listenOnce(lT.COMPLETE,(()=>{try{switch(_.getLastErrorCode()){case qc.NO_ERROR:const A=_.getResponseJson();de(En,`XHR for RPC '${e}' ${d} received:`,JSON.stringify(A)),g(A);break;case qc.TIMEOUT:de(En,`RPC '${e}' ${d} timed out`),y(new Te(ee.DEADLINE_EXCEEDED,"Request time out"));break;case qc.HTTP_ERROR:const L=_.getStatus();if(de(En,`RPC '${e}' ${d} failed with status:`,L,"response text:",_.getResponseText()),L>0){let q=_.getResponseJson();Array.isArray(q)&&(q=q[0]);const re=q==null?void 0:q.error;if(re&&re.status&&re.message){const ae=(function(se){const Ee=se.toLowerCase().replace(/_/g,"-");return Object.values(ee).indexOf(Ee)>=0?Ee:ee.UNKNOWN})(re.status);y(new Te(ae,re.message))}else y(new Te(ee.UNKNOWN,"Server responded with status "+_.getStatus()))}else y(new Te(ee.UNAVAILABLE,"Connection failed."));break;default:Ie(9055,{l_:e,streamId:d,h_:_.getLastErrorCode(),P_:_.getLastError()})}}finally{de(En,`RPC '${e}' ${d} completed.`)}}));const b=JSON.stringify(l);de(En,`RPC '${e}' ${d} sending request:`,l),_.send(i,"POST",b,a,15)}))}T_(e,i,a){const l=dm(),c=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=hT(),g=cT(),y={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},_=this.longPollingOptions.timeoutSeconds;_!==void 0&&(y.longPollingTimeout=Math.round(1e3*_)),this.useFetchStreams&&(y.useFetchStreams=!0),this.jo(y.initMessageHeaders,i,a),y.encodeInitMessageHeaders=!0;const b=c.join("");de(En,`Creating RPC '${e}' stream ${l}: ${b}`,y);const A=d.createWebChannel(b,y);this.I_(A);let L=!1,q=!1;const re=new TC({Yo:te=>{q?de(En,`Not sending because RPC '${e}' stream ${l} is closed:`,te):(L||(de(En,`Opening RPC '${e}' stream ${l} transport.`),A.open(),L=!0),de(En,`RPC '${e}' stream ${l} sending:`,te),A.send(te))},Zo:()=>A.close()}),ae=(te,se,Ee)=>{te.listen(se,(Se=>{try{Ee(Se)}catch(qe){setTimeout((()=>{throw qe}),0)}}))};return ae(A,Vl.EventType.OPEN,(()=>{q||(de(En,`RPC '${e}' stream ${l} transport opened.`),re.o_())})),ae(A,Vl.EventType.CLOSE,(()=>{q||(q=!0,de(En,`RPC '${e}' stream ${l} transport closed`),re.a_(),this.E_(A))})),ae(A,Vl.EventType.ERROR,(te=>{q||(q=!0,po(En,`RPC '${e}' stream ${l} transport errored. Name:`,te.name,"Message:",te.message),re.a_(new Te(ee.UNAVAILABLE,"The operation could not be completed")))})),ae(A,Vl.EventType.MESSAGE,(te=>{var se;if(!q){const Ee=te.data[0];ut(!!Ee,16349);const Se=Ee,qe=(Se==null?void 0:Se.error)||((se=Se[0])==null?void 0:se.error);if(qe){de(En,`RPC '${e}' stream ${l} received error:`,qe);const Ue=qe.status;let Oe=(function(x){const k=$t[x];if(k!==void 0)return FT(k)})(Ue),N=qe.message;Oe===void 0&&(Oe=ee.INTERNAL,N="Unknown error status: "+Ue+" with message "+qe.message),q=!0,re.a_(new Te(Oe,N)),A.close()}else de(En,`RPC '${e}' stream ${l} received:`,Ee),re.u_(Ee)}})),ae(g,uT.STAT_EVENT,(te=>{te.stat===tm.PROXY?de(En,`RPC '${e}' stream ${l} detected buffering proxy`):te.stat===tm.NOPROXY&&de(En,`RPC '${e}' stream ${l} detected no buffering proxy`)})),setTimeout((()=>{re.__()}),0),re}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((i=>i===e))}}function qd(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ih(r){return new wR(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sE{constructor(e,i,a=1e3,l=1.5,c=6e4){this.Mi=e,this.timerId=i,this.d_=a,this.A_=l,this.R_=c,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const i=Math.floor(this.V_+this.y_()),a=Math.max(0,Date.now()-this.f_),l=Math.max(0,i-a);l>0&&de("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.V_} ms, delay with jitter: ${i} ms, last attempt: ${a} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,l,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q_="PersistentStream";class aE{constructor(e,i,a,l,c,d,g,y){this.Mi=e,this.S_=a,this.b_=l,this.connection=c,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=g,this.listener=y,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new sE(e,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,i){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():i&&i.code===ee.RESOURCE_EXHAUSTED?(Rr(i.toString()),Rr("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===ee.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(i)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([a,l])=>{this.D_===i&&this.G_(a,l)}),(a=>{e((()=>{const l=new Te(ee.UNKNOWN,"Fetching auth token failed: "+a.message);return this.z_(l)}))}))}G_(e,i){const a=this.W_(this.D_);this.stream=this.j_(e,i),this.stream.Xo((()=>{a((()=>this.listener.Xo()))})),this.stream.t_((()=>{a((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((l=>{a((()=>this.z_(l)))})),this.stream.onMessage((l=>{a((()=>++this.F_==1?this.J_(l):this.onNext(l)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return de(Q_,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return i=>{this.Mi.enqueueAndForget((()=>this.D_===e?i():(de(Q_,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class SC extends aE{constructor(e,i,a,l,c,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,a,l,d),this.serializer=c}j_(e,i){return this.connection.T_("Listen",e,i)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const i=IR(this.serializer,e),a=(function(c){if(!("targetChange"in c))return Le.min();const d=c.targetChange;return d.targetIds&&d.targetIds.length?Le.min():d.readTime?Qi(d.readTime):Le.min()})(e);return this.listener.H_(i,a)}Y_(e){const i={};i.database=hm(this.serializer),i.addTarget=(function(c,d){let g;const y=d.target;if(g=am(y)?{documents:DR(c,y)}:{query:OR(c,y).ft},g.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){g.resumeToken=QT(c,d.resumeToken);const _=lm(c,d.expectedCount);_!==null&&(g.expectedCount=_)}else if(d.snapshotVersion.compareTo(Le.min())>0){g.readTime=ch(c,d.snapshotVersion.toTimestamp());const _=lm(c,d.expectedCount);_!==null&&(g.expectedCount=_)}return g})(this.serializer,e);const a=VR(this.serializer,e);a&&(i.labels=a),this.q_(i)}Z_(e){const i={};i.database=hm(this.serializer),i.removeTarget=e,this.q_(i)}}class AC extends aE{constructor(e,i,a,l,c,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,a,l,d),this.serializer=c}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,i){return this.connection.T_("Write",e,i)}J_(e){return ut(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,ut(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){ut(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const i=xR(e.writeResults,e.commitTime),a=Qi(e.commitTime);return this.listener.na(a,i)}ra(){const e={};e.database=hm(this.serializer),this.q_(e)}ea(e){const i={streamToken:this.lastStreamToken,writes:e.map((a=>NR(this.serializer,a)))};this.q_(i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bC{}class wC extends bC{constructor(e,i,a,l){super(),this.authCredentials=e,this.appCheckCredentials=i,this.connection=a,this.serializer=l,this.ia=!1}sa(){if(this.ia)throw new Te(ee.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,i,a,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Go(e,um(i,a),l,c,d))).catch((c=>{throw c.name==="FirebaseError"?(c.code===ee.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new Te(ee.UNKNOWN,c.toString())}))}Ho(e,i,a,l,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,g])=>this.connection.Ho(e,um(i,a),l,d,g,c))).catch((d=>{throw d.name==="FirebaseError"?(d.code===ee.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new Te(ee.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class RC{constructor(e,i){this.asyncQueue=e,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const i=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Rr(i),this.aa=!1):de("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ha="RemoteStore";class CC{constructor(e,i,a,l,c){this.localStore=e,this.datastore=i,this.asyncQueue=a,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=c,this.Aa.Oo((d=>{a.enqueueAndForget((async()=>{ga(this)&&(de(ha,"Restarting streams for network reachability change."),await(async function(y){const _=Pe(y);_.Ea.add(4),await uu(_),_.Ra.set("Unknown"),_.Ea.delete(4),await Nh(_)})(this))}))})),this.Ra=new RC(a,l)}}async function Nh(r){if(ga(r))for(const e of r.da)await e(!0)}async function uu(r){for(const e of r.da)await e(!1)}function oE(r,e){const i=Pe(r);i.Ia.has(e.targetId)||(i.Ia.set(e.targetId,e),Jm(i)?Zm(i):No(i).O_()&&Xm(i,e))}function Qm(r,e){const i=Pe(r),a=No(i);i.Ia.delete(e),a.O_()&&lE(i,e),i.Ia.size===0&&(a.O_()?a.L_():ga(i)&&i.Ra.set("Unknown"))}function Xm(r,e){if(r.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Le.min())>0){const i=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(i)}No(r).Y_(e)}function lE(r,e){r.Va.Ue(e),No(r).Z_(e)}function Zm(r){r.Va=new ER({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),At:e=>r.Ia.get(e)||null,ht:()=>r.datastore.serializer.databaseId}),No(r).start(),r.Ra.ua()}function Jm(r){return ga(r)&&!No(r).x_()&&r.Ia.size>0}function ga(r){return Pe(r).Ea.size===0}function uE(r){r.Va=void 0}async function IC(r){r.Ra.set("Online")}async function NC(r){r.Ia.forEach(((e,i)=>{Xm(r,e)}))}async function xC(r,e){uE(r),Jm(r)?(r.Ra.ha(e),Zm(r)):r.Ra.set("Unknown")}async function DC(r,e,i){if(r.Ra.set("Online"),e instanceof KT&&e.state===2&&e.cause)try{await(async function(l,c){const d=c.cause;for(const g of c.targetIds)l.Ia.has(g)&&(await l.remoteSyncer.rejectListen(g,d),l.Ia.delete(g),l.Va.removeTarget(g))})(r,e)}catch(a){de(ha,"Failed to remove targets %s: %s ",e.targetIds.join(","),a),await fh(r,a)}else if(e instanceof Kc?r.Va.Ze(e):e instanceof YT?r.Va.st(e):r.Va.tt(e),!i.isEqual(Le.min()))try{const a=await rE(r.localStore);i.compareTo(a)>=0&&await(function(c,d){const g=c.Va.Tt(d);return g.targetChanges.forEach(((y,_)=>{if(y.resumeToken.approximateByteSize()>0){const b=c.Ia.get(_);b&&c.Ia.set(_,b.withResumeToken(y.resumeToken,d))}})),g.targetMismatches.forEach(((y,_)=>{const b=c.Ia.get(y);if(!b)return;c.Ia.set(y,b.withResumeToken(vn.EMPTY_BYTE_STRING,b.snapshotVersion)),lE(c,y);const A=new gs(b.target,y,_,b.sequenceNumber);Xm(c,A)})),c.remoteSyncer.applyRemoteEvent(g)})(r,i)}catch(a){de(ha,"Failed to raise snapshot:",a),await fh(r,a)}}async function fh(r,e,i){if(!Io(e))throw e;r.Ea.add(1),await uu(r),r.Ra.set("Offline"),i||(i=()=>rE(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{de(ha,"Retrying IndexedDB access"),await i(),r.Ea.delete(1),await Nh(r)}))}function cE(r,e){return e().catch((i=>fh(r,i,e)))}async function xh(r){const e=Pe(r),i=Rs(e);let a=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Vm;for(;OC(e);)try{const l=await dC(e.localStore,a);if(l===null){e.Ta.length===0&&i.L_();break}a=l.batchId,MC(e,l)}catch(l){await fh(e,l)}hE(e)&&fE(e)}function OC(r){return ga(r)&&r.Ta.length<10}function MC(r,e){r.Ta.push(e);const i=Rs(r);i.O_()&&i.X_&&i.ea(e.mutations)}function hE(r){return ga(r)&&!Rs(r).x_()&&r.Ta.length>0}function fE(r){Rs(r).start()}async function VC(r){Rs(r).ra()}async function LC(r){const e=Rs(r);for(const i of r.Ta)e.ea(i.mutations)}async function kC(r,e,i){const a=r.Ta.shift(),l=Bm.from(a,e,i);await cE(r,(()=>r.remoteSyncer.applySuccessfulWrite(l))),await xh(r)}async function PC(r,e){e&&Rs(r).X_&&await(async function(a,l){if((function(d){return _R(d)&&d!==ee.ABORTED})(l.code)){const c=a.Ta.shift();Rs(a).B_(),await cE(a,(()=>a.remoteSyncer.rejectFailedWrite(c.batchId,l))),await xh(a)}})(r,e),hE(r)&&fE(r)}async function X_(r,e){const i=Pe(r);i.asyncQueue.verifyOperationInProgress(),de(ha,"RemoteStore received new credentials");const a=ga(i);i.Ea.add(3),await uu(i),a&&i.Ra.set("Unknown"),await i.remoteSyncer.handleCredentialChange(e),i.Ea.delete(3),await Nh(i)}async function UC(r,e){const i=Pe(r);e?(i.Ea.delete(2),await Nh(i)):e||(i.Ea.add(2),await uu(i),i.Ra.set("Unknown"))}function No(r){return r.ma||(r.ma=(function(i,a,l){const c=Pe(i);return c.sa(),new SC(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(r.datastore,r.asyncQueue,{Xo:IC.bind(null,r),t_:NC.bind(null,r),r_:xC.bind(null,r),H_:DC.bind(null,r)}),r.da.push((async e=>{e?(r.ma.B_(),Jm(r)?Zm(r):r.Ra.set("Unknown")):(await r.ma.stop(),uE(r))}))),r.ma}function Rs(r){return r.fa||(r.fa=(function(i,a,l){const c=Pe(i);return c.sa(),new AC(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(r.datastore,r.asyncQueue,{Xo:()=>Promise.resolve(),t_:VC.bind(null,r),r_:PC.bind(null,r),ta:LC.bind(null,r),na:kC.bind(null,r)}),r.da.push((async e=>{e?(r.fa.B_(),await xh(r)):(await r.fa.stop(),r.Ta.length>0&&(de(ha,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))}))),r.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $m{constructor(e,i,a,l,c){this.asyncQueue=e,this.timerId=i,this.targetTimeMs=a,this.op=l,this.removalCallback=c,this.deferred=new Ts,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,i,a,l,c){const d=Date.now()+a,g=new $m(e,i,d,l,c);return g.start(a),g}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Te(ee.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Wm(r,e){if(Rr("AsyncQueue",`${e}: ${r}`),Io(r))return new Te(ee.UNAVAILABLE,`${e}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fo{static emptySet(e){return new fo(e.comparator)}constructor(e){this.comparator=e?(i,a)=>e(i,a)||we.comparator(i.key,a.key):(i,a)=>we.comparator(i.key,a.key),this.keyedMap=Ll(),this.sortedSet=new Ot(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const i=this.keyedMap.get(e);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((i,a)=>(e(i),!1)))}add(e){const i=this.delete(e.key);return i.copy(i.keyedMap.insert(e.key,e),i.sortedSet.insert(e,null))}delete(e){const i=this.get(e);return i?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(i)):this}isEqual(e){if(!(e instanceof fo)||this.size!==e.size)return!1;const i=this.sortedSet.getIterator(),a=e.sortedSet.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=a.getNext().key;if(!l.isEqual(c))return!1}return!0}toString(){const e=[];return this.forEach((i=>{e.push(i.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,i){const a=new fo;return a.comparator=this.comparator,a.keyedMap=e,a.sortedSet=i,a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z_{constructor(){this.ga=new Ot(we.comparator)}track(e){const i=e.doc.key,a=this.ga.get(i);a?e.type!==0&&a.type===3?this.ga=this.ga.insert(i,e):e.type===3&&a.type!==1?this.ga=this.ga.insert(i,{type:a.type,doc:e.doc}):e.type===2&&a.type===2?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):e.type===2&&a.type===0?this.ga=this.ga.insert(i,{type:0,doc:e.doc}):e.type===1&&a.type===0?this.ga=this.ga.remove(i):e.type===1&&a.type===2?this.ga=this.ga.insert(i,{type:1,doc:a.doc}):e.type===0&&a.type===1?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):Ie(63341,{Rt:e,pa:a}):this.ga=this.ga.insert(i,e)}ya(){const e=[];return this.ga.inorderTraversal(((i,a)=>{e.push(a)})),e}}class Eo{constructor(e,i,a,l,c,d,g,y,_){this.query=e,this.docs=i,this.oldDocs=a,this.docChanges=l,this.mutatedKeys=c,this.fromCache=d,this.syncStateChanged=g,this.excludesMetadataChanges=y,this.hasCachedResults=_}static fromInitialDocuments(e,i,a,l,c){const d=[];return i.forEach((g=>{d.push({type:0,doc:g})})),new Eo(e,i,fo.emptySet(i),d,a,l,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Ah(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const i=this.docChanges,a=e.docChanges;if(i.length!==a.length)return!1;for(let l=0;l<i.length;l++)if(i[l].type!==a[l].type||!i[l].doc.isEqual(a[l].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zC{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class jC{constructor(){this.queries=J_(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,a){const l=Pe(i),c=l.queries;l.queries=J_(),c.forEach(((d,g)=>{for(const y of g.Sa)y.onError(a)}))})(this,new Te(ee.ABORTED,"Firestore shutting down"))}}function J_(){return new da((r=>OT(r)),Ah)}async function BC(r,e){const i=Pe(r);let a=3;const l=e.query;let c=i.queries.get(l);c?!c.ba()&&e.Da()&&(a=2):(c=new zC,a=e.Da()?0:1);try{switch(a){case 0:c.wa=await i.onListen(l,!0);break;case 1:c.wa=await i.onListen(l,!1);break;case 2:await i.onFirstRemoteStoreListen(l)}}catch(d){const g=Wm(d,`Initialization of query '${so(e.query)}' failed`);return void e.onError(g)}i.queries.set(l,c),c.Sa.push(e),e.va(i.onlineState),c.wa&&e.Fa(c.wa)&&eg(i)}async function HC(r,e){const i=Pe(r),a=e.query;let l=3;const c=i.queries.get(a);if(c){const d=c.Sa.indexOf(e);d>=0&&(c.Sa.splice(d,1),c.Sa.length===0?l=e.Da()?0:1:!c.ba()&&e.Da()&&(l=2))}switch(l){case 0:return i.queries.delete(a),i.onUnlisten(a,!0);case 1:return i.queries.delete(a),i.onUnlisten(a,!1);case 2:return i.onLastRemoteStoreUnlisten(a);default:return}}function qC(r,e){const i=Pe(r);let a=!1;for(const l of e){const c=l.query,d=i.queries.get(c);if(d){for(const g of d.Sa)g.Fa(l)&&(a=!0);d.wa=l}}a&&eg(i)}function GC(r,e,i){const a=Pe(r),l=a.queries.get(e);if(l)for(const c of l.Sa)c.onError(i);a.queries.delete(e)}function eg(r){r.Ca.forEach((e=>{e.next()}))}var mm,$_;($_=mm||(mm={})).Ma="default",$_.Cache="cache";class FC{constructor(e,i,a){this.query=e,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=a||{}}Fa(e){if(!this.options.includeMetadataChanges){const a=[];for(const l of e.docChanges)l.type!==3&&a.push(l);e=new Eo(e.query,e.docs,e.oldDocs,a,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let i=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),i=!0):this.La(e,this.onlineState)&&(this.ka(e),i=!0),this.Na=e,i}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),i=!0),i}La(e,i){if(!e.fromCache||!this.Da())return!0;const a=i!=="Offline";return(!this.options.qa||!a)&&(!e.docs.isEmpty()||e.hasCachedResults||i==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(e){e=Eo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==mm.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dE{constructor(e){this.key=e}}class mE{constructor(e){this.key=e}}class YC{constructor(e,i){this.query=e,this.Ya=i,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=We(),this.mutatedKeys=We(),this.eu=MT(e),this.tu=new fo(this.eu)}get nu(){return this.Ya}ru(e,i){const a=i?i.iu:new Z_,l=i?i.tu:this.tu;let c=i?i.mutatedKeys:this.mutatedKeys,d=l,g=!1;const y=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,_=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(e.inorderTraversal(((b,A)=>{const L=l.get(b),q=bh(this.query,A)?A:null,re=!!L&&this.mutatedKeys.has(L.key),ae=!!q&&(q.hasLocalMutations||this.mutatedKeys.has(q.key)&&q.hasCommittedMutations);let te=!1;L&&q?L.data.isEqual(q.data)?re!==ae&&(a.track({type:3,doc:q}),te=!0):this.su(L,q)||(a.track({type:2,doc:q}),te=!0,(y&&this.eu(q,y)>0||_&&this.eu(q,_)<0)&&(g=!0)):!L&&q?(a.track({type:0,doc:q}),te=!0):L&&!q&&(a.track({type:1,doc:L}),te=!0,(y||_)&&(g=!0)),te&&(q?(d=d.add(q),c=ae?c.add(b):c.delete(b)):(d=d.delete(b),c=c.delete(b)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const b=this.query.limitType==="F"?d.last():d.first();d=d.delete(b.key),c=c.delete(b.key),a.track({type:1,doc:b})}return{tu:d,iu:a,Cs:g,mutatedKeys:c}}su(e,i){return e.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(e,i,a,l){const c=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const d=e.iu.ya();d.sort(((b,A)=>(function(q,re){const ae=te=>{switch(te){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ie(20277,{Rt:te})}};return ae(q)-ae(re)})(b.type,A.type)||this.eu(b.doc,A.doc))),this.ou(a),l=l??!1;const g=i&&!l?this._u():[],y=this.Xa.size===0&&this.current&&!l?1:0,_=y!==this.Za;return this.Za=y,d.length!==0||_?{snapshot:new Eo(this.query,e.tu,c,d,e.mutatedKeys,y===0,_,!1,!!a&&a.resumeToken.approximateByteSize()>0),au:g}:{au:g}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new Z_,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((i=>this.Ya=this.Ya.add(i))),e.modifiedDocuments.forEach((i=>{})),e.removedDocuments.forEach((i=>this.Ya=this.Ya.delete(i))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=We(),this.tu.forEach((a=>{this.uu(a.key)&&(this.Xa=this.Xa.add(a.key))}));const i=[];return e.forEach((a=>{this.Xa.has(a)||i.push(new mE(a))})),this.Xa.forEach((a=>{e.has(a)||i.push(new dE(a))})),i}cu(e){this.Ya=e.Qs,this.Xa=We();const i=this.ru(e.documents);return this.applyChanges(i,!0)}lu(){return Eo.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const tg="SyncEngine";class KC{constructor(e,i,a){this.query=e,this.targetId=i,this.view=a}}class QC{constructor(e){this.key=e,this.hu=!1}}class XC{constructor(e,i,a,l,c,d){this.localStore=e,this.remoteStore=i,this.eventManager=a,this.sharedClientState=l,this.currentUser=c,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new da((g=>OT(g)),Ah),this.Iu=new Map,this.Eu=new Set,this.du=new Ot(we.comparator),this.Au=new Map,this.Ru=new Gm,this.Vu={},this.mu=new Map,this.fu=To.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function ZC(r,e,i=!0){const a=TE(r);let l;const c=a.Tu.get(e);return c?(a.sharedClientState.addLocalQueryTarget(c.targetId),l=c.view.lu()):l=await gE(a,e,i,!0),l}async function JC(r,e){const i=TE(r);await gE(i,e,!0,!1)}async function gE(r,e,i,a){const l=await mC(r.localStore,Ki(e)),c=l.targetId,d=r.sharedClientState.addLocalQueryTarget(c,i);let g;return a&&(g=await $C(r,e,c,d==="current",l.resumeToken)),r.isPrimaryClient&&i&&oE(r.remoteStore,l),g}async function $C(r,e,i,a,l){r.pu=(A,L,q)=>(async function(ae,te,se,Ee){let Se=te.view.ru(se);Se.Cs&&(Se=await G_(ae.localStore,te.query,!1).then((({documents:N})=>te.view.ru(N,Se))));const qe=Ee&&Ee.targetChanges.get(te.targetId),Ue=Ee&&Ee.targetMismatches.get(te.targetId)!=null,Oe=te.view.applyChanges(Se,ae.isPrimaryClient,qe,Ue);return ev(ae,te.targetId,Oe.au),Oe.snapshot})(r,A,L,q);const c=await G_(r.localStore,e,!0),d=new YC(e,c.Qs),g=d.ru(c.documents),y=lu.createSynthesizedTargetChangeForCurrentChange(i,a&&r.onlineState!=="Offline",l),_=d.applyChanges(g,r.isPrimaryClient,y);ev(r,i,_.au);const b=new KC(e,i,d);return r.Tu.set(e,b),r.Iu.has(i)?r.Iu.get(i).push(e):r.Iu.set(i,[e]),_.snapshot}async function WC(r,e,i){const a=Pe(r),l=a.Tu.get(e),c=a.Iu.get(l.targetId);if(c.length>1)return a.Iu.set(l.targetId,c.filter((d=>!Ah(d,e)))),void a.Tu.delete(e);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(l.targetId),a.sharedClientState.isActiveQueryTarget(l.targetId)||await fm(a.localStore,l.targetId,!1).then((()=>{a.sharedClientState.clearQueryState(l.targetId),i&&Qm(a.remoteStore,l.targetId),gm(a,l.targetId)})).catch(Co)):(gm(a,l.targetId),await fm(a.localStore,l.targetId,!0))}async function eI(r,e){const i=Pe(r),a=i.Tu.get(e),l=i.Iu.get(a.targetId);i.isPrimaryClient&&l.length===1&&(i.sharedClientState.removeLocalQueryTarget(a.targetId),Qm(i.remoteStore,a.targetId))}async function tI(r,e,i){const a=lI(r);try{const l=await(function(d,g){const y=Pe(d),_=Ct.now(),b=g.reduce(((q,re)=>q.add(re.key)),We());let A,L;return y.persistence.runTransaction("Locally write mutations","readwrite",(q=>{let re=Cr(),ae=We();return y.Ns.getEntries(q,b).next((te=>{re=te,re.forEach(((se,Ee)=>{Ee.isValidDocument()||(ae=ae.add(se))}))})).next((()=>y.localDocuments.getOverlayedDocuments(q,re))).next((te=>{A=te;const se=[];for(const Ee of g){const Se=dR(Ee,A.get(Ee.key).overlayedDocument);Se!=null&&se.push(new ma(Ee.key,Se,wT(Se.value.mapValue),Ar.exists(!0)))}return y.mutationQueue.addMutationBatch(q,_,se,g)})).next((te=>{L=te;const se=te.applyToLocalDocumentSet(A,ae);return y.documentOverlayCache.saveOverlays(q,te.batchId,se)}))})).then((()=>({batchId:L.batchId,changes:LT(A)})))})(a.localStore,e);a.sharedClientState.addPendingMutation(l.batchId),(function(d,g,y){let _=d.Vu[d.currentUser.toKey()];_||(_=new Ot($e)),_=_.insert(g,y),d.Vu[d.currentUser.toKey()]=_})(a,l.batchId,i),await cu(a,l.changes),await xh(a.remoteStore)}catch(l){const c=Wm(l,"Failed to persist write");i.reject(c)}}async function pE(r,e){const i=Pe(r);try{const a=await hC(i.localStore,e);e.targetChanges.forEach(((l,c)=>{const d=i.Au.get(c);d&&(ut(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1,22616),l.addedDocuments.size>0?d.hu=!0:l.modifiedDocuments.size>0?ut(d.hu,14607):l.removedDocuments.size>0&&(ut(d.hu,42227),d.hu=!1))})),await cu(i,a,e)}catch(a){await Co(a)}}function W_(r,e,i){const a=Pe(r);if(a.isPrimaryClient&&i===0||!a.isPrimaryClient&&i===1){const l=[];a.Tu.forEach(((c,d)=>{const g=d.view.va(e);g.snapshot&&l.push(g.snapshot)})),(function(d,g){const y=Pe(d);y.onlineState=g;let _=!1;y.queries.forEach(((b,A)=>{for(const L of A.Sa)L.va(g)&&(_=!0)})),_&&eg(y)})(a.eventManager,e),l.length&&a.Pu.H_(l),a.onlineState=e,a.isPrimaryClient&&a.sharedClientState.setOnlineState(e)}}async function nI(r,e,i){const a=Pe(r);a.sharedClientState.updateQueryState(e,"rejected",i);const l=a.Au.get(e),c=l&&l.key;if(c){let d=new Ot(we.comparator);d=d.insert(c,bn.newNoDocument(c,Le.min()));const g=We().add(c),y=new Ch(Le.min(),new Map,new Ot($e),d,g);await pE(a,y),a.du=a.du.remove(c),a.Au.delete(e),ng(a)}else await fm(a.localStore,e,!1).then((()=>gm(a,e,i))).catch(Co)}async function iI(r,e){const i=Pe(r),a=e.batch.batchId;try{const l=await cC(i.localStore,e);_E(i,a,null),yE(i,a),i.sharedClientState.updateMutationState(a,"acknowledged"),await cu(i,l)}catch(l){await Co(l)}}async function rI(r,e,i){const a=Pe(r);try{const l=await(function(d,g){const y=Pe(d);return y.persistence.runTransaction("Reject batch","readwrite-primary",(_=>{let b;return y.mutationQueue.lookupMutationBatch(_,g).next((A=>(ut(A!==null,37113),b=A.keys(),y.mutationQueue.removeMutationBatch(_,A)))).next((()=>y.mutationQueue.performConsistencyCheck(_))).next((()=>y.documentOverlayCache.removeOverlaysForBatchId(_,b,g))).next((()=>y.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(_,b))).next((()=>y.localDocuments.getDocuments(_,b)))}))})(a.localStore,e);_E(a,e,i),yE(a,e),a.sharedClientState.updateMutationState(e,"rejected",i),await cu(a,l)}catch(l){await Co(l)}}function yE(r,e){(r.mu.get(e)||[]).forEach((i=>{i.resolve()})),r.mu.delete(e)}function _E(r,e,i){const a=Pe(r);let l=a.Vu[a.currentUser.toKey()];if(l){const c=l.get(e);c&&(i?c.reject(i):c.resolve(),l=l.remove(e)),a.Vu[a.currentUser.toKey()]=l}}function gm(r,e,i=null){r.sharedClientState.removeLocalQueryTarget(e);for(const a of r.Iu.get(e))r.Tu.delete(a),i&&r.Pu.yu(a,i);r.Iu.delete(e),r.isPrimaryClient&&r.Ru.jr(e).forEach((a=>{r.Ru.containsKey(a)||vE(r,a)}))}function vE(r,e){r.Eu.delete(e.path.canonicalString());const i=r.du.get(e);i!==null&&(Qm(r.remoteStore,i),r.du=r.du.remove(e),r.Au.delete(i),ng(r))}function ev(r,e,i){for(const a of i)a instanceof dE?(r.Ru.addReference(a.key,e),sI(r,a)):a instanceof mE?(de(tg,"Document no longer in limbo: "+a.key),r.Ru.removeReference(a.key,e),r.Ru.containsKey(a.key)||vE(r,a.key)):Ie(19791,{wu:a})}function sI(r,e){const i=e.key,a=i.path.canonicalString();r.du.get(i)||r.Eu.has(a)||(de(tg,"New document in limbo: "+i),r.Eu.add(a),ng(r))}function ng(r){for(;r.Eu.size>0&&r.du.size<r.maxConcurrentLimboResolutions;){const e=r.Eu.values().next().value;r.Eu.delete(e);const i=new we(Rt.fromString(e)),a=r.fu.next();r.Au.set(a,new QC(i)),r.du=r.du.insert(i,a),oE(r.remoteStore,new gs(Ki(zm(i.path)),a,"TargetPurposeLimboResolution",vh.ce))}}async function cu(r,e,i){const a=Pe(r),l=[],c=[],d=[];a.Tu.isEmpty()||(a.Tu.forEach(((g,y)=>{d.push(a.pu(y,e,i).then((_=>{var b;if((_||i)&&a.isPrimaryClient){const A=_?!_.fromCache:(b=i==null?void 0:i.targetChanges.get(y.targetId))==null?void 0:b.current;a.sharedClientState.updateQueryState(y.targetId,A?"current":"not-current")}if(_){l.push(_);const A=Ym.As(y.targetId,_);c.push(A)}})))})),await Promise.all(d),a.Pu.H_(l),await(async function(y,_){const b=Pe(y);try{await b.persistence.runTransaction("notifyLocalViewChanges","readwrite",(A=>$.forEach(_,(L=>$.forEach(L.Es,(q=>b.persistence.referenceDelegate.addReference(A,L.targetId,q))).next((()=>$.forEach(L.ds,(q=>b.persistence.referenceDelegate.removeReference(A,L.targetId,q)))))))))}catch(A){if(!Io(A))throw A;de(Km,"Failed to update sequence numbers: "+A)}for(const A of _){const L=A.targetId;if(!A.fromCache){const q=b.Ms.get(L),re=q.snapshotVersion,ae=q.withLastLimboFreeSnapshotVersion(re);b.Ms=b.Ms.insert(L,ae)}}})(a.localStore,c))}async function aI(r,e){const i=Pe(r);if(!i.currentUser.isEqual(e)){de(tg,"User change. New user:",e.toKey());const a=await iE(i.localStore,e);i.currentUser=e,(function(c,d){c.mu.forEach((g=>{g.forEach((y=>{y.reject(new Te(ee.CANCELLED,d))}))})),c.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(e,a.removedBatchIds,a.addedBatchIds),await cu(i,a.Ls)}}function oI(r,e){const i=Pe(r),a=i.Au.get(e);if(a&&a.hu)return We().add(a.key);{let l=We();const c=i.Iu.get(e);if(!c)return l;for(const d of c){const g=i.Tu.get(d);l=l.unionWith(g.view.nu)}return l}}function TE(r){const e=Pe(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=pE.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=oI.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=nI.bind(null,e),e.Pu.H_=qC.bind(null,e.eventManager),e.Pu.yu=GC.bind(null,e.eventManager),e}function lI(r){const e=Pe(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=iI.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=rI.bind(null,e),e}class dh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Ih(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,i){return null}Mu(e,i){return null}vu(e){return uC(this.persistence,new aC,e.initialUser,this.serializer)}Cu(e){return new nE(Fm.mi,this.serializer)}Du(e){return new pC}async terminate(){var e,i;(e=this.gcScheduler)==null||e.stop(),(i=this.indexBackfillerScheduler)==null||i.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}dh.provider={build:()=>new dh};class uI extends dh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,i){ut(this.persistence.referenceDelegate instanceof hh,46915);const a=this.persistence.referenceDelegate.garbageCollector;return new FR(a,e.asyncQueue,i)}Cu(e){const i=this.cacheSizeBytes!==void 0?Pn.withCacheSize(this.cacheSizeBytes):Pn.DEFAULT;return new nE((a=>hh.mi(a,i)),this.serializer)}}class pm{async initialize(e,i){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>W_(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=aI.bind(null,this.syncEngine),await UC(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new jC})()}createDatastore(e){const i=Ih(e.databaseInfo.databaseId),a=(function(c){return new EC(c)})(e.databaseInfo);return(function(c,d,g,y){return new wC(c,d,g,y)})(e.authCredentials,e.appCheckCredentials,a,i)}createRemoteStore(e){return(function(a,l,c,d,g){return new CC(a,l,c,d,g)})(this.localStore,this.datastore,e.asyncQueue,(i=>W_(this.syncEngine,i,0)),(function(){return K_.v()?new K_:new yC})())}createSyncEngine(e,i){return(function(l,c,d,g,y,_,b){const A=new XC(l,c,d,g,y,_);return b&&(A.gu=!0),A})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,i)}async terminate(){var e,i;await(async function(l){const c=Pe(l);de(ha,"RemoteStore shutting down."),c.Ea.add(5),await uu(c),c.Aa.shutdown(),c.Ra.set("Unknown")})(this.remoteStore),(e=this.datastore)==null||e.terminate(),(i=this.eventManager)==null||i.terminate()}}pm.provider={build:()=>new pm};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cI{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Rr("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,i){setTimeout((()=>{this.muted||e(i)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cs="FirestoreClient";class hI{constructor(e,i,a,l,c){this.authCredentials=e,this.appCheckCredentials=i,this.asyncQueue=a,this.databaseInfo=l,this.user=Sn.UNAUTHENTICATED,this.clientId=Om.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(a,(async d=>{de(Cs,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(a,(d=>(de(Cs,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ts;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(i){const a=Wm(i,"Failed to shutdown persistence");e.reject(a)}})),e.promise}}async function Gd(r,e){r.asyncQueue.verifyOperationInProgress(),de(Cs,"Initializing OfflineComponentProvider");const i=r.configuration;await e.initialize(i);let a=i.initialUser;r.setCredentialChangeListener((async l=>{a.isEqual(l)||(await iE(e.localStore,l),a=l)})),e.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=e}async function tv(r,e){r.asyncQueue.verifyOperationInProgress();const i=await fI(r);de(Cs,"Initializing OnlineComponentProvider"),await e.initialize(i,r.configuration),r.setCredentialChangeListener((a=>X_(e.remoteStore,a))),r.setAppCheckTokenChangeListener(((a,l)=>X_(e.remoteStore,l))),r._onlineComponents=e}async function fI(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){de(Cs,"Using user provided OfflineComponentProvider");try{await Gd(r,r._uninitializedComponentsProvider._offline)}catch(e){const i=e;if(!(function(l){return l.name==="FirebaseError"?l.code===ee.FAILED_PRECONDITION||l.code===ee.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11})(i))throw i;po("Error using user provided cache. Falling back to memory cache: "+i),await Gd(r,new dh)}}else de(Cs,"Using default OfflineComponentProvider"),await Gd(r,new uI(void 0));return r._offlineComponents}async function EE(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(de(Cs,"Using user provided OnlineComponentProvider"),await tv(r,r._uninitializedComponentsProvider._online)):(de(Cs,"Using default OnlineComponentProvider"),await tv(r,new pm))),r._onlineComponents}function dI(r){return EE(r).then((e=>e.syncEngine))}async function mI(r){const e=await EE(r),i=e.eventManager;return i.onListen=ZC.bind(null,e.syncEngine),i.onUnlisten=WC.bind(null,e.syncEngine),i.onFirstRemoteStoreListen=JC.bind(null,e.syncEngine),i.onLastRemoteStoreUnlisten=eI.bind(null,e.syncEngine),i}function gI(r,e,i={}){const a=new Ts;return r.asyncQueue.enqueueAndForget((async()=>(function(c,d,g,y,_){const b=new cI({next:L=>{b.Nu(),d.enqueueAndForget((()=>HC(c,A)));const q=L.docs.has(g);!q&&L.fromCache?_.reject(new Te(ee.UNAVAILABLE,"Failed to get document because the client is offline.")):q&&L.fromCache&&y&&y.source==="server"?_.reject(new Te(ee.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):_.resolve(L)},error:L=>_.reject(L)}),A=new FC(zm(g.path),b,{includeMetadataChanges:!0,qa:!0});return BC(c,A)})(await mI(r),r.asyncQueue,e,i,a))),a.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SE(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nv=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AE="firestore.googleapis.com",iv=!0;class rv{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new Te(ee.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=AE,this.ssl=iv}else this.host=e.host,this.ssl=e.ssl??iv;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=tE;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<qR)throw new Te(ee.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}R2("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=SE(e.experimentalLongPollingOptions??{}),(function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new Te(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new Te(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new Te(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(a,l){return a.timeoutSeconds===l.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Dh{constructor(e,i,a,l){this._authCredentials=e,this._appCheckCredentials=i,this._databaseId=a,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new rv({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Te(ee.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Te(ee.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new rv(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(a){if(!a)return new p2;switch(a.type){case"firstParty":return new T2(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new Te(ee.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const a=nv.get(i);a&&(de("ComponentProvider","Removing Datastore"),nv.delete(i),a.terminate())})(this),Promise.resolve()}}function pI(r,e,i,a={}){var _;r=Ql(r,Dh);const l=Ao(e),c=r._getSettings(),d={...c,emulatorOptions:r._getEmulatorOptions()},g=`${e}:${i}`;l&&(Ev(`https://${g}`),Sv("Firestore",!0)),c.host!==AE&&c.host!==g&&po("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const y={...c,host:g,ssl:l,emulatorOptions:a};if(!oa(y,d)&&(r._setSettings(y),a.mockUserToken)){let b,A;if(typeof a.mockUserToken=="string")b=a.mockUserToken,A=Sn.MOCK_USER;else{b=BS(a.mockUserToken,(_=r._app)==null?void 0:_.options.projectId);const L=a.mockUserToken.sub||a.mockUserToken.user_id;if(!L)throw new Te(ee.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");A=new Sn(L)}r._authCredentials=new y2(new dT(b,A))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ig{constructor(e,i,a){this.converter=i,this._query=a,this.type="query",this.firestore=e}withConverter(e){return new ig(this.firestore,e,this._query)}}class rn{constructor(e,i,a){this.converter=i,this._key=a,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Es(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new rn(this.firestore,e,this._key)}toJSON(){return{type:rn._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,i,a){if(au(i,rn._jsonSchema))return new rn(e,a||null,new we(Rt.fromString(i.referencePath)))}}rn._jsonSchemaVersion="firestore/documentReference/1.0",rn._jsonSchema={type:Wt("string",rn._jsonSchemaVersion),referencePath:Wt("string")};class Es extends ig{constructor(e,i,a){super(e,i,zm(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new rn(this.firestore,null,new we(e))}withConverter(e){return new Es(this.firestore,e,this._path)}}function bE(r,e,...i){if(r=Kn(r),mT("collection","path",e),r instanceof Dh){const a=Rt.fromString(e,...i);return __(a),new Es(r,null,a)}{if(!(r instanceof rn||r instanceof Es))throw new Te(ee.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=r._path.child(Rt.fromString(e,...i));return __(a),new Es(r.firestore,null,a)}}function wE(r,e,...i){if(r=Kn(r),arguments.length===1&&(e=Om.newId()),mT("doc","path",e),r instanceof Dh){const a=Rt.fromString(e,...i);return y_(a),new rn(r,null,new we(a))}{if(!(r instanceof rn||r instanceof Es))throw new Te(ee.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=r._path.child(Rt.fromString(e,...i));return y_(a),new rn(r.firestore,r instanceof Es?r.converter:null,new we(a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sv="AsyncQueue";class av{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new sE(this,"async_queue_retry"),this._c=()=>{const a=qd();a&&de(sv,"Visibility state changed to "+a.visibilityState),this.M_.w_()},this.ac=e;const i=qd();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const i=qd();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new Ts;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Io(e))throw e;de(sv,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const i=this.ac.then((()=>(this.rc=!0,e().catch((a=>{throw this.nc=a,this.rc=!1,Rr("INTERNAL UNHANDLED ERROR: ",ov(a)),a})).then((a=>(this.rc=!1,a))))));return this.ac=i,i}enqueueAfterDelay(e,i,a){this.uc(),this.oc.indexOf(e)>-1&&(i=0);const l=$m.createAndSchedule(this,e,i,a,(c=>this.hc(c)));return this.tc.push(l),l}uc(){this.nc&&Ie(47125,{Pc:ov(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const i of this.tc)if(i.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((i,a)=>i.targetTimeMs-a.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),e!=="all"&&i.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const i=this.tc.indexOf(e);this.tc.splice(i,1)}}function ov(r){let e=r.message||"";return r.stack&&(e=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),e}class rg extends Dh{constructor(e,i,a,l){super(e,i,a,l),this.type="firestore",this._queue=new av,this._persistenceKey=(l==null?void 0:l.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new av(e),this._firestoreClient=void 0,await e}}}function yI(r,e){const i=typeof r=="object"?r:Rv(),a=typeof r=="string"?r:rh,l=Tm(i,"firestore").getImmediate({identifier:a});if(!l._initialized){const c=zS("firestore");c&&pI(l,...c)}return l}function RE(r){if(r._terminated)throw new Te(ee.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||_I(r),r._firestoreClient}function _I(r){var a,l,c;const e=r._freezeSettings(),i=(function(g,y,_,b){return new P2(g,y,_,b.host,b.ssl,b.experimentalForceLongPolling,b.experimentalAutoDetectLongPolling,SE(b.experimentalLongPollingOptions),b.useFetchStreams,b.isUsingEmulator)})(r._databaseId,((a=r._app)==null?void 0:a.options.appId)||"",r._persistenceKey,e);r._componentsProvider||(l=e.localCache)!=null&&l._offlineComponentProvider&&((c=e.localCache)!=null&&c._onlineComponentProvider)&&(r._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),r._firestoreClient=new hI(r._authCredentials,r._appCheckCredentials,r._queue,i,r._componentsProvider&&(function(g){const y=g==null?void 0:g._online.build();return{_offline:g==null?void 0:g._offline.build(y),_online:y}})(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ci{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ci(vn.fromBase64String(e))}catch(i){throw new Te(ee.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(e){return new ci(vn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:ci._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(au(e,ci._jsonSchema))return ci.fromBase64String(e.bytes)}}ci._jsonSchemaVersion="firestore/bytes/1.0",ci._jsonSchema={type:Wt("string",ci._jsonSchemaVersion),bytes:Wt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sg{constructor(...e){for(let i=0;i<e.length;++i)if(e[i].length===0)throw new Te(ee.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new _n(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CE{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xi{constructor(e,i){if(!isFinite(e)||e<-90||e>90)throw new Te(ee.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(i)||i<-180||i>180)throw new Te(ee.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=e,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return $e(this._lat,e._lat)||$e(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Xi._jsonSchemaVersion}}static fromJSON(e){if(au(e,Xi._jsonSchema))return new Xi(e.latitude,e.longitude)}}Xi._jsonSchemaVersion="firestore/geoPoint/1.0",Xi._jsonSchema={type:Wt("string",Xi._jsonSchemaVersion),latitude:Wt("number"),longitude:Wt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zi{constructor(e){this._values=(e||[]).map((i=>i))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(a,l){if(a.length!==l.length)return!1;for(let c=0;c<a.length;++c)if(a[c]!==l[c])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Zi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(au(e,Zi._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((i=>typeof i=="number")))return new Zi(e.vectorValues);throw new Te(ee.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Zi._jsonSchemaVersion="firestore/vectorValue/1.0",Zi._jsonSchema={type:Wt("string",Zi._jsonSchemaVersion),vectorValues:Wt("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vI=/^__.*__$/;class TI{constructor(e,i,a){this.data=e,this.fieldMask=i,this.fieldTransforms=a}toMutation(e,i){return this.fieldMask!==null?new ma(e,this.data,this.fieldMask,i,this.fieldTransforms):new ou(e,this.data,i,this.fieldTransforms)}}function IE(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ie(40011,{Ac:r})}}class ag{constructor(e,i,a,l,c,d){this.settings=e,this.databaseId=i,this.serializer=a,this.ignoreUndefinedProperties=l,c===void 0&&this.Rc(),this.fieldTransforms=c||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new ag({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var l;const i=(l=this.path)==null?void 0:l.child(e),a=this.Vc({path:i,fc:!1});return a.gc(e),a}yc(e){var l;const i=(l=this.path)==null?void 0:l.child(e),a=this.Vc({path:i,fc:!1});return a.Rc(),a}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return mh(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((i=>e.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>e.isPrefixOf(i.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(IE(this.Ac)&&vI.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class EI{constructor(e,i,a){this.databaseId=e,this.ignoreUndefinedProperties=i,this.serializer=a||Ih(e)}Cc(e,i,a,l=!1){return new ag({Ac:e,methodName:i,Dc:a,path:_n.emptyPath(),fc:!1,bc:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function SI(r){const e=r._freezeSettings(),i=Ih(r._databaseId);return new EI(r._databaseId,!!e.ignoreUndefinedProperties,i)}function AI(r,e,i,a,l,c={}){const d=r.Cc(c.merge||c.mergeFields?2:0,e,i,l);OE("Data must be an object, but it was:",d,a);const g=xE(a,d);let y,_;if(c.merge)y=new Ai(d.fieldMask),_=d.fieldTransforms;else if(c.mergeFields){const b=[];for(const A of c.mergeFields){const L=bI(e,A,i);if(!d.contains(L))throw new Te(ee.INVALID_ARGUMENT,`Field '${L}' is specified in your field mask but missing from your input data.`);RI(b,L)||b.push(L)}y=new Ai(b),_=d.fieldTransforms.filter((A=>y.covers(A.field)))}else y=null,_=d.fieldTransforms;return new TI(new ui(g),y,_)}function NE(r,e){if(DE(r=Kn(r)))return OE("Unsupported field value:",e,r),xE(r,e);if(r instanceof CE)return(function(a,l){if(!IE(l.Ac))throw l.Sc(`${a._methodName}() can only be used with update() and set()`);if(!l.path)throw l.Sc(`${a._methodName}() is not currently supported inside arrays`);const c=a._toFieldTransform(l);c&&l.fieldTransforms.push(c)})(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(a,l){const c=[];let d=0;for(const g of a){let y=NE(g,l.wc(d));y==null&&(y={nullValue:"NULL_VALUE"}),c.push(y),d++}return{arrayValue:{values:c}}})(r,e)}return(function(a,l){if((a=Kn(a))===null)return{nullValue:"NULL_VALUE"};if(typeof a=="number")return oR(l.serializer,a);if(typeof a=="boolean")return{booleanValue:a};if(typeof a=="string")return{stringValue:a};if(a instanceof Date){const c=Ct.fromDate(a);return{timestampValue:ch(l.serializer,c)}}if(a instanceof Ct){const c=new Ct(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:ch(l.serializer,c)}}if(a instanceof Xi)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof ci)return{bytesValue:QT(l.serializer,a._byteString)};if(a instanceof rn){const c=l.databaseId,d=a.firestore._databaseId;if(!d.isEqual(c))throw l.Sc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:qm(a.firestore._databaseId||l.databaseId,a._key.path)}}if(a instanceof Zi)return(function(d,g){return{mapValue:{fields:{[AT]:{stringValue:bT},[sh]:{arrayValue:{values:d.toArray().map((_=>{if(typeof _!="number")throw g.Sc("VectorValues must only contain numeric values.");return jm(g.serializer,_)}))}}}}}})(a,l);throw l.Sc(`Unsupported field value: ${Mm(a)}`)})(r,e)}function xE(r,e){const i={};return yT(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):fa(r,((a,l)=>{const c=NE(l,e.mc(a));c!=null&&(i[a]=c)})),{mapValue:{fields:i}}}function DE(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof Ct||r instanceof Xi||r instanceof ci||r instanceof rn||r instanceof CE||r instanceof Zi)}function OE(r,e,i){if(!DE(i)||!gT(i)){const a=Mm(i);throw a==="an object"?e.Sc(r+" a custom object"):e.Sc(r+" "+a)}}function bI(r,e,i){if((e=Kn(e))instanceof sg)return e._internalPath;if(typeof e=="string")return ME(r,e);throw mh("Field path arguments must be of type string or ",r,!1,void 0,i)}const wI=new RegExp("[~\\*/\\[\\]]");function ME(r,e,i){if(e.search(wI)>=0)throw mh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,i);try{return new sg(...e.split("."))._internalPath}catch{throw mh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,i)}}function mh(r,e,i,a,l){const c=a&&!a.isEmpty(),d=l!==void 0;let g=`Function ${e}() called with invalid data`;i&&(g+=" (via `toFirestore()`)"),g+=". ";let y="";return(c||d)&&(y+=" (found",c&&(y+=` in field ${a}`),d&&(y+=` in document ${l}`),y+=")"),new Te(ee.INVALID_ARGUMENT,g+r+y)}function RI(r,e){return r.some((i=>i.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VE{constructor(e,i,a,l,c){this._firestore=e,this._userDataWriter=i,this._key=a,this._document=l,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new rn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new CI(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const i=this._document.data.field(LE("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i)}}}class CI extends VE{data(){return super.data()}}function LE(r,e){return typeof e=="string"?ME(r,e):e instanceof sg?e._internalPath:e._delegate._internalPath}class II{convertValue(e,i="none"){switch(ws(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Gt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,i);case 5:return e.stringValue;case 6:return this.convertBytes(bs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,i);case 11:return this.convertObject(e.mapValue,i);case 10:return this.convertVectorValue(e.mapValue);default:throw Ie(62114,{value:e})}}convertObject(e,i){return this.convertObjectMap(e.fields,i)}convertObjectMap(e,i="none"){const a={};return fa(e,((l,c)=>{a[l]=this.convertValue(c,i)})),a}convertVectorValue(e){var a,l,c;const i=(c=(l=(a=e.fields)==null?void 0:a[sh].arrayValue)==null?void 0:l.values)==null?void 0:c.map((d=>Gt(d.doubleValue)));return new Zi(i)}convertGeoPoint(e){return new Xi(Gt(e.latitude),Gt(e.longitude))}convertArray(e,i){return(e.values||[]).map((a=>this.convertValue(a,i)))}convertServerTimestamp(e,i){switch(i){case"previous":const a=Eh(e);return a==null?null:this.convertValue(a,i);case"estimate":return this.convertTimestamp(Zl(e));default:return null}}convertTimestamp(e){const i=As(e);return new Ct(i.seconds,i.nanos)}convertDocumentKey(e,i){const a=Rt.fromString(e);ut(eE(a),9688,{name:e});const l=new Jl(a.get(1),a.get(3)),c=new we(a.popFirst(5));return l.isEqual(i)||Rr(`Document ${c} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NI(r,e,i){let a;return a=r?r.toFirestore(e):e,a}class Pl{constructor(e,i){this.hasPendingWrites=e,this.fromCache=i}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class aa extends VE{constructor(e,i,a,l,c,d){super(e,i,a,l,d),this._firestore=e,this._firestoreImpl=e,this.metadata=c}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const i=new Qc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,i={}){if(this._document){const a=this._document.data.field(LE("DocumentSnapshot.get",e));if(a!==null)return this._userDataWriter.convertValue(a,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new Te(ee.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,i={};return i.type=aa._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}aa._jsonSchemaVersion="firestore/documentSnapshot/1.0",aa._jsonSchema={type:Wt("string",aa._jsonSchemaVersion),bundleSource:Wt("string","DocumentSnapshot"),bundleName:Wt("string"),bundle:Wt("string")};class Qc extends aa{data(e={}){return super.data(e)}}class Gl{constructor(e,i,a,l){this._firestore=e,this._userDataWriter=i,this._snapshot=l,this.metadata=new Pl(l.hasPendingWrites,l.fromCache),this.query=a}get docs(){const e=[];return this.forEach((i=>e.push(i))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,i){this._snapshot.docs.forEach((a=>{e.call(i,new Qc(this._firestore,this._userDataWriter,a.key,a,new Pl(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const i=!!e.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new Te(ee.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(l,c){if(l._snapshot.oldDocs.isEmpty()){let d=0;return l._snapshot.docChanges.map((g=>{const y=new Qc(l._firestore,l._userDataWriter,g.doc.key,g.doc,new Pl(l._snapshot.mutatedKeys.has(g.doc.key),l._snapshot.fromCache),l.query.converter);return g.doc,{type:"added",doc:y,oldIndex:-1,newIndex:d++}}))}{let d=l._snapshot.oldDocs;return l._snapshot.docChanges.filter((g=>c||g.type!==3)).map((g=>{const y=new Qc(l._firestore,l._userDataWriter,g.doc.key,g.doc,new Pl(l._snapshot.mutatedKeys.has(g.doc.key),l._snapshot.fromCache),l.query.converter);let _=-1,b=-1;return g.type!==0&&(_=d.indexOf(g.doc.key),d=d.delete(g.doc.key)),g.type!==1&&(d=d.add(g.doc),b=d.indexOf(g.doc.key)),{type:xI(g.type),doc:y,oldIndex:_,newIndex:b}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new Te(ee.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Gl._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Om.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],a=[],l=[];return this.docs.forEach((c=>{c._document!==null&&(i.push(c._document),a.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),l.push(c.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function xI(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ie(61501,{type:r})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kE(r){r=Ql(r,rn);const e=Ql(r.firestore,rg);return gI(RE(e),r._key).then((i=>VI(e,r,i)))}Gl._jsonSchemaVersion="firestore/querySnapshot/1.0",Gl._jsonSchema={type:Wt("string",Gl._jsonSchemaVersion),bundleSource:Wt("string","QuerySnapshot"),bundleName:Wt("string"),bundle:Wt("string")};class DI extends II{constructor(e){super(),this.firestore=e}convertBytes(e){return new ci(e)}convertReference(e){const i=this.convertDocumentKey(e,this.firestore._databaseId);return new rn(this.firestore,null,i)}}function OI(r,e,i){r=Ql(r,rn);const a=Ql(r.firestore,rg),l=NI(r.converter,e);return MI(a,[AI(SI(a),"setDoc",r._key,l,r.converter!==null,i).toMutation(r._key,Ar.none())])}function MI(r,e){return(function(a,l){const c=new Ts;return a.asyncQueue.enqueueAndForget((async()=>tI(await dI(a),l,c))),c.promise})(RE(r),e)}function VI(r,e,i){const a=i.docs.get(e._key),l=new DI(r);return new aa(r,l,e._key,a,new Pl(i.hasPendingWrites,i.fromCache),e.converter)}(function(e,i=!0){(function(l){Ro=l})(bo),mo(new la("firestore",((a,{instanceIdentifier:l,options:c})=>{const d=a.getProvider("app").getImmediate(),g=new rg(new _2(a.getProvider("auth-internal")),new E2(d,a.getProvider("app-check-internal")),(function(_,b){if(!Object.prototype.hasOwnProperty.apply(_.options,["projectId"]))throw new Te(ee.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Jl(_.options.projectId,b)})(d,l),d);return c={useFetchStreams:i,...c},g._setSettings(c),g}),"PUBLIC").setMultipleInstances(!0)),_s(d_,m_,e),_s(d_,m_,"esm2020")})();const LI={apiKey:"AIzaSyDQ1IK6lMlA5ZoCubBS_aLjZy0MGz9QoZY",authDomain:"focused-beacon-431008-t7.firebaseapp.com",projectId:"focused-beacon-431008-t7",storageBucket:"focused-beacon-431008-t7.firebasestorage.app",messagingSenderId:"597425029317",appId:"1:597425029317:web:023f0a6729ca6d90b770ac",measurementId:"G-39V00HBCNL"},PE=wv(LI),So=f2(PE),UE=yI(PE);new Fi;const Nn=600,lo=900,Fl=160,ta=[-Fl,0,Fl],Dl=[-80,80],kI=150,Uc=100,PI=550,Jt=lo*.3,lv=300,UI=.15,Ol=2e3,zI=50,jI=18,BI=r=>({PLAYER_SIZE:{w:80,h:80,d:75},INITIAL_SPEED:r.initialSpeed,MAX_SPEED:r.maxSpeed,SPEED_INCREMENT:.01,MAX_LIVES:r.maxLives,OBSTACLE_SIZE:{w:120,h:120,d:60},COLLECTIBLE_VARIANTS:{GAMEBOY:{w:100,h:120,d:40,score:50},BOTTLE:{w:60,h:90,d:40,score:10},CAN:{w:70,h:80,d:50,score:15},GLASS:{w:60,h:100,d:40,score:20}},ITEMS_PER_COMBO:5,MASTER_VOLUME:r.masterVolume,MUSIC_VOLUME:Math.min(r.musicVolume*r.masterVolume,1),SFX_VOLUME:Math.min(r.sfxVolume*r.masterVolume,1),PARTICLE_COUNT_EXHAUST:Math.round(5*(r.particleIntensity/2))||1,PARTICLE_COUNT_COLLECT:Math.round(25*(r.particleIntensity/2))||1,PARTICLE_COUNT_COLLISION:Math.round(30*(r.particleIntensity/2))||1,SHADOW_OPACITY:.5,SPRITE_SCALE_MULTIPLIER:r.spriteScaleMultiplier,SPAWN_RATE_INITIAL:Math.round(zI/r.spawnRate),MIN_SPAWN_RATE:Math.round(jI/r.spawnRate)}),uv={w:120,h:120,d:60},HI=5,cv=25,hv=1.5,Fd=1500,qI=2500,fv={DAY:{skyTop:"#38bdf8",skyMiddle:"#bae6fd",skyBottom:"#e0f2fe",starsOpacity:0,roadColor:"#334155",roadTextureColor:"#475569",groundColor:"#475569",laneMarkerColor:"#60a5fa",laneMarkerGlow:"#93c5fd",cityBack:"#1e293b",cityFront:"#334155",windowColorWarm:"#1e293b",windowColorCool:"#1e293b",fogColor:"#e0f2fe"},TWILIGHT:{skyTop:"#1e1b4b",skyMiddle:"#c026d3",skyBottom:"#f97316",starsOpacity:.5,roadColor:"#1e293b",roadTextureColor:"#334155",groundColor:"#1e293b",laneMarkerColor:"#c084fc",laneMarkerGlow:"#e879f9",cityBack:"#0f172a",cityFront:"#1e293b",windowColorWarm:"#fbbf24",windowColorCool:"#334155",fogColor:"#f97316"},NIGHT:{skyTop:"#020617",skyMiddle:"#1e1b4b",skyBottom:"#4c1d95",starsOpacity:1,roadColor:"#1a1a1a",roadTextureColor:"#222",groundColor:"#0f0f10",laneMarkerColor:"#a855f7",laneMarkerGlow:"#d8b4fe",cityBack:"#0f172a",cityFront:"#1e293b",windowColorWarm:"#fbbf24",windowColorCool:"#334155",fogColor:"#4c1d95"}};var An=(r=>(r.MENU="MENU",r.PLAYING="PLAYING",r.GAME_OVER="GAME_OVER",r))(An||{}),Ti=(r=>(r.OBSTACLE="OBSTACLE",r.COLLECTIBLE="COLLECTIBLE",r.POWERUP="POWERUP",r))(Ti||{}),qi=(r=>(r.EXHAUST="EXHAUST",r.SPARKLE="SPARKLE",r.DEBRIS="DEBRIS",r.DOLLAR_BILL="DOLLAR_BILL",r))(qi||{});const Ml={masterVolume:1,musicVolume:.5,sfxVolume:.5,difficulty:"NORMAL",maxLives:3,initialSpeed:16,maxSpeed:45,theme:"AUTO",spriteScaleMultiplier:1.5,particleIntensity:2,screenShake:!0,spawnRate:2},GI={EASY:{maxLives:5,initialSpeed:12,maxSpeed:35,spawnRate:1},NORMAL:{maxLives:3,initialSpeed:16,maxSpeed:45,spawnRate:2},HARD:{maxLives:2,initialSpeed:20,maxSpeed:50,spawnRate:2.5},EXPERT:{maxLives:1,initialSpeed:25,maxSpeed:60,spawnRate:3}},zE=fe.createContext(void 0),FI=({children:r})=>{const[e,i]=fe.useState(()=>{try{const y=localStorage.getItem("gorbageTruckSettings");return y?{...Ml,...JSON.parse(y)}:Ml}catch{return Ml}});fe.useEffect(()=>{localStorage.setItem("gorbageTruckSettings",JSON.stringify(e))},[e]);const a=y=>{i(_=>({..._,...y}))},l=()=>{i(Ml)},c=y=>{const _=GI[y];a(_)},d=()=>JSON.stringify(e,null,2),g=y=>{try{const _=JSON.parse(y);i({...Ml,..._})}catch(_){throw console.error("Failed to import settings:",_),new Error("Invalid settings format")}};return I.jsx(zE.Provider,{value:{settings:e,updateSettings:a,resetToDefaults:l,applyDifficultyPreset:c,exportSettings:d,importSettings:g},children:r})},og=()=>{const r=fe.useContext(zE);if(r===void 0)throw new Error("useSettings must be used within a SettingsProvider");return r},tn=(r,e=!1)=>new Promise(i=>{const a=new Image;a.crossOrigin="Anonymous",a.src=r,a.onload=()=>{if(e)try{const l=document.createElement("canvas");l.width=a.width,l.height=a.height;const c=l.getContext("2d");if(c){c.drawImage(a,0,0);const d=c.getImageData(0,0,l.width,l.height),g=d.data;for(let _=0;_<g.length;_+=4){const b=g[_],A=g[_+1],L=g[_+2];b<30&&A<30&&L<30&&(g[_+3]=0)}c.putImageData(d,0,0);const y=new Image;y.onload=()=>i(y),y.src=l.toDataURL();return}}catch(l){console.warn("Could not process image transparency",l)}i(a)},a.onerror=()=>{console.warn(`Failed to load asset: ${r}. Using fallback graphics.`),i(null)}}),YI=async()=>{const r=await tn("./assets/gorbage-truck-2.png",!0),e=await tn("./assets/trashbag.jpg"),i=await tn("./assets/binlogo.png"),a=await tn("./assets/intro_bg_new.png"),l=await tn("./assets/intro_bg_new.png"),c=await tn("./assets/UFO.png"),d=await tn("./assets/gorbhouse-cry.png",!0),g=await tn("./assets/Logo-gor-incinerator.jpg",!0),y=await tn("./assets/Gorboyconsole.png",!0),_=await tn("./assets/gorbillions.png",!0),b=await tn("./assets/sticker3.webp",!1),A=await tn("./assets/stickerpill.webp",!1),L=await tn("./assets/oscar-solana-backpack-sprite.png",!1),q=await tn("./assets/pill-mummy-sprite.png",!1),re=await tn("./assets/trash-king-sprite.png",!1),ae=await tn("./assets/trashbag.png",!1),te=await tn("./assets/trashcoinlogo.png",!0),se=await tn("./assets/gorbagana.jpg",!0),Ee=await tn("./assets/gorbagwallet-removebg-preview.png",!0);return{truck:r,ground:e,introBg:a,introBgNew:l,ufo:c,gorbhouseCry:d,incinerator:g,gorboyConsole:y,gorbillions:_,newObstacle:b,trashBagDecor:ae,stickerpill:A,oscarBackpack:L,pillMummy:q,trashKing:re,trashCoin:te,gorbagana:se,wallet:Ee,trashCan:i}},KI=({gameState:r,setGameState:e,setScore:i,setLives:a,setMultiplier:l,onGameOver:c})=>{const d=fe.useRef(null),g=fe.useRef(null),y=fe.useRef(null),_=fe.useRef(r),{settings:b}=og(),A=BI(b),L=fe.useRef(null),q=fe.useRef({lane:Math.floor(Math.random()*2),x:0,y:0,z:lv,width:A.PLAYER_SIZE.w,height:A.PLAYER_SIZE.h,depth:A.PLAYER_SIZE.d}),re=fe.useRef([]),ae=fe.useRef([]),te=fe.useRef(A.INITIAL_SPEED),se=fe.useRef(A.INITIAL_SPEED),Ee=fe.useRef(0),Se=fe.useRef(0),qe=fe.useRef(A.MAX_LIVES),Ue=fe.useRef(0),Oe=fe.useRef(0),N=fe.useRef(0),R=fe.useRef(!1),x=fe.useRef(0),k=fe.useRef(0),O=fe.useRef(0),U=fe.useRef(1),C=fe.useRef(0),gt=fe.useRef(null),St=fe.useRef(0),K=fe.useRef(0),ue=fe.useRef({stars:[],backCity:[],frontCity:[]}),ve=fe.useRef(0),Fe=fe.useRef(0),Qe=fe.useRef(1),V=fe.useRef(0),X=fe.useRef(null),ce=fe.useRef(fv.NIGHT),he=fe.useRef("NIGHT"),Ce=fe.useRef("CLEAR"),xe=fe.useRef([]);fe.useEffect(()=>{(async()=>{L.current=await YI()})();const w=new Date().getHours();let F="NIGHT";w>=7&&w<19?F="DAY":w>=5&&w<7||w>=19&&w<20?F="TWILIGHT":F="NIGHT",ce.current=fv[F],he.current=F},[]),fe.useEffect(()=>{_.current=r},[r]),fe.useEffect(()=>{if(!y.current){const ne=window.AudioContext||window.webkitAudioContext;if(ne){const ie=new ne;y.current=ie;const me=ie.sampleRate*2,ge=ie.createBuffer(1,me,ie.sampleRate),Ae=ge.getChannelData(0);for(let Me=0;Me<me;Me++)Ae[Me]=Math.random()*2-1;gt.current=ge}}const T=[];for(let ne=0;ne<60;ne++)T.push({x:Math.random()*Nn,y:Math.random()*Jt*.8,size:Math.random()*2+.5,opacity:Math.random()*.8+.2});const w=[];let F=-200;for(;F<Nn+200;){const ne=30+Math.random()*50,ie=30+Math.random()*60;w.push({x:F,w:ne,h:ie}),F+=ne-5}const W=[];for(F=-200;F<Nn+200;){const ne=20+Math.random()*40,ie=20+Math.random()*40;W.push({x:F,w:ne,h:ie}),F+=ne}ue.current={stars:T,backCity:w,frontCity:W}},[]);const ze=T=>{if(A.SFX_VOLUME<=.01||!y.current)return;y.current.state==="suspended"&&y.current.resume();const w=y.current,F=w.createOscillator(),W=w.createGain();F.connect(W),W.connect(w.destination),T==="collect"?(F.type="sine",F.frequency.setValueAtTime(800,w.currentTime),F.frequency.exponentialRampToValueAtTime(1200,w.currentTime+.1),W.gain.setValueAtTime(.1*A.SFX_VOLUME,w.currentTime),W.gain.exponentialRampToValueAtTime(.01,w.currentTime+.1),F.start(),F.stop(w.currentTime+.1)):T==="hit"?(F.type="sawtooth",F.frequency.setValueAtTime(150,w.currentTime),F.frequency.exponentialRampToValueAtTime(50,w.currentTime+.2),W.gain.setValueAtTime(.2*A.SFX_VOLUME,w.currentTime),W.gain.exponentialRampToValueAtTime(.01,w.currentTime+.2),F.start(),F.stop(w.currentTime+.2)):T==="gameover"?(F.type="triangle",F.frequency.setValueAtTime(300,w.currentTime),F.frequency.linearRampToValueAtTime(100,w.currentTime+1),W.gain.setValueAtTime(.3*A.SFX_VOLUME,w.currentTime),W.gain.linearRampToValueAtTime(0,w.currentTime+1),F.start(),F.stop(w.currentTime+1)):T==="speedup"&&(F.type="sine",F.frequency.setValueAtTime(440,w.currentTime),F.frequency.linearRampToValueAtTime(660,w.currentTime+.4),W.gain.setValueAtTime(.05*A.SFX_VOLUME,w.currentTime),W.gain.linearRampToValueAtTime(0,w.currentTime+.4),F.start(),F.stop(w.currentTime+.4))},Ut=()=>{if(A.MUSIC_VOLUME<=.01||!y.current||_.current!==An.PLAYING)return;const T=y.current,ne=60/(120+Math.min(1,Math.max(0,(te.current-A.INITIAL_SPEED)/(A.MAX_SPEED-A.INITIAL_SPEED)))*50)/4;St.current<T.currentTime-.1&&(St.current=T.currentTime+.1);const ie=.1;for(;St.current<T.currentTime+ie;)At(T,K.current,St.current),St.current+=ne,K.current=(K.current+1)%16},At=(T,w,F)=>{const W=.3*A.MUSIC_VOLUME;if(!(W<=.001)){if(w%4===0){const ne=T.createOscillator(),ie=T.createGain();ne.connect(ie),ie.connect(T.destination),ne.frequency.setValueAtTime(150,F),ne.frequency.exponentialRampToValueAtTime(.01,F+.5),ie.gain.setValueAtTime(1*W,F),ie.gain.exponentialRampToValueAtTime(.01,F+.5),ne.start(F),ne.stop(F+.5)}if(w%4===2&&gt.current){const ne=T.createBufferSource();ne.buffer=gt.current;const ie=T.createBiquadFilter();ie.type="highpass",ie.frequency.value=8e3;const me=T.createGain();ne.connect(ie),ie.connect(me),me.connect(T.destination),me.gain.setValueAtTime(.4*W,F),me.gain.exponentialRampToValueAtTime(.01,F+.05),ne.start(F),ne.stop(F+.05)}if(w%2===0){const ne=T.createOscillator();ne.type="sawtooth";const ie=T.createBiquadFilter();ie.type="lowpass";const me=T.createGain();ne.connect(ie),ie.connect(me),me.connect(T.destination);const Ae=[98,98,116.5,98,130.8,98,116.5,146.8][w/2%8];ne.frequency.setValueAtTime(Ae,F),ie.frequency.setValueAtTime(600,F),ie.frequency.exponentialRampToValueAtTime(100,F+.15),me.gain.setValueAtTime(.4*W,F),me.gain.linearRampToValueAtTime(0,F+.2),ne.start(F),ne.stop(F+.2)}if(w%3===0&&w!==0){const ne=T.createOscillator();ne.type="square";const ie=T.createGain();ne.connect(ie),ie.connect(T.destination);const ge=[392,466.1,523.2,587.3][w/3%4];ne.frequency.setValueAtTime(ge,F),ie.gain.setValueAtTime(.08*W,F),ie.gain.exponentialRampToValueAtTime(.01,F+.1),ne.start(F),ne.stop(F+.1)}}},Qn=(T,w,F,W,ne,ie)=>{for(let me=0;me<ne;me++){const ge=Math.random()*Math.PI*2,Ae=Math.random()*5+2;ae.current.push({id:Date.now()+Math.random(),type:T,x:w,y:F,z:W,vx:Math.cos(ge)*Ae,vy:(Math.random()*5+2)*(T===qi.EXHAUST?-1:1),vz:(Math.random()-.5)*10,life:1,maxLife:1,size:Math.random()*8+4,color:ie,rotation:Math.random()*360,rotationSpeed:(Math.random()-.5)*10})}},Nr=()=>{if(ae.current.forEach(T=>{T.x+=T.vx,T.y+=T.vy,T.z+=T.vz-te.current,T.life-=.02,T.rotation+=T.rotationSpeed,T.vy-=.1,T.type===qi.EXHAUST&&(T.size+=.2,T.vy+=.15)}),ae.current=ae.current.filter(T=>T.life>0),Ce.current==="RAIN")for(let T=0;T<10;T++)xe.current.push({x:Math.random()*Nn,y:-50,speed:15+Math.random()*10,len:20+Math.random()*20});xe.current.forEach(T=>{T.y+=T.speed,T.x-=q.current.x*.01}),xe.current=xe.current.filter(T=>T.y<lo+50)},xr=T=>{Ce.current==="RAIN"&&(T.strokeStyle="rgba(170, 200, 255, 0.5)",T.lineWidth=2,T.beginPath(),xe.current.forEach(w=>{T.moveTo(w.x,w.y),T.lineTo(w.x-2,w.y+w.len)}),T.stroke(),T.fillStyle="rgba(0, 10, 30, 0.2)",T.fillRect(0,0,Nn,lo)),ae.current.forEach(w=>{const F=tt(w.x,w.y,w.z);if(!F.visible)return;T.save(),T.translate(F.x,F.y),T.rotate(w.rotation*Math.PI/180),T.globalAlpha=w.life*(w.type===qi.EXHAUST?.4:1);const W=w.size*F.scale;if(w.type===qi.SPARKLE)T.fillStyle=w.color,T.beginPath(),T.moveTo(0,-W),T.lineTo(W/2,-W/2),T.lineTo(W,0),T.lineTo(W/2,W/2),T.lineTo(0,W),T.lineTo(-W/2,W/2),T.lineTo(-W,0),T.lineTo(-W/2,-W/2),T.fill();else if(w.type===qi.DOLLAR_BILL){const ne=W*2,ie=W;T.fillStyle="#85bb65",T.fillRect(-ne/2,-ie/2,ne,ie),T.strokeStyle="#2d5016",T.lineWidth=Math.max(1,W*.15),T.strokeRect(-ne/2,-ie/2,ne,ie),T.fillStyle="#2d5016",T.font=`bold ${W*1.2}px serif`,T.textAlign="center",T.textBaseline="middle",T.fillText("$",0,0)}else T.fillStyle=w.color,T.fillRect(-W/2,-W/2,W,W);T.restore()})},tt=fe.useCallback((T,w,F)=>{const W=F+Uc;if(W<=10)return{x:0,y:0,scale:0,visible:!1};const ne=PI/W,ie=Nn/2+T*ne,me=Jt+(kI-w)*ne;return{x:ie,y:me,scale:ne,visible:!0}},[]),Xn=(T,w,F)=>{const W=ce.current.fogColor;if(F<Fd)return w;const ne=Math.min(1,Math.max(0,(F-Fd)/(qI-Fd))),ie=parseInt(w.slice(1,3),16),me=parseInt(w.slice(3,5),16),ge=parseInt(w.slice(5,7),16),Ae=parseInt(W.slice(1,3),16),Me=parseInt(W.slice(3,5),16),ye=parseInt(W.slice(5,7),16),pt=Math.floor(ie+(Ae-ie)*ne),Mt=Math.floor(me+(Me-me)*ne),ht=Math.floor(ge+(ye-ge)*ne);return`rgb(${pt},${Mt},${ht})`},Is=()=>{const T=O.current>0,w=T?2:3,F=T?Dl:ta,W=Math.floor(Math.random()*w),ne=F[W],ie=Math.random();let me=Ti.OBSTACLE;ie>.95?me=Ti.POWERUP:ie>.6&&(me=Ti.COLLECTIBLE);let ge,Ae=uv;if(me===Ti.POWERUP){const ye=Math.random();ye>.66?ge="GORBILLIONS":ye>.33?ge="GOR_INCINERATOR":ge="GORBOY_CONSOLE",Ae={w:140,h:140,d:80}}else if(me===Ti.COLLECTIBLE){const ye=Math.random();ye>.5?ge="TRASH_COIN":ye>.35?ge="GORBAGANA":ye>.25?ge="STICKER_PILL":ye>.12?ge="OSCAR_BACKPACK":ye>.08?ge="PILL_MUMMY":ye>.04?ge="TRASH_KING":ye>.02?ge="WALLET":ge="TRASH_COIN",Ae={w:60,h:60,d:60}}else ge="TRASH_BAG",Ae=uv;if(!re.current.some(ye=>Math.abs(ye.x-ne)<100&&Math.abs(ye.z-Ol)<400)){const ye={id:Date.now()+Math.random(),type:me,subtype:ge,lane:W,x:ne,y:0,z:Ol,width:Ae.w,height:Ae.h,depth:Ae.d};re.current.push(ye)}},tr=()=>{const T=q.current;Oe.current>0&&re.current.forEach(w=>{w.collected||w.lane===T.lane&&w.z>T.z+50&&w.z<T.z+800&&(w.collected=!0,Se.current+=50,Qn(qi.EXHAUST,w.x,w.y,w.z,10,"#ff4500"))}),re.current.forEach(w=>{if(w.collected)return;const F=Math.abs(T.z-w.z)<(T.depth+w.depth)/2,W=Math.abs(T.x-w.x)<(T.width+w.width)/2,ne=w.height+20,ie=x.current<ne;if(F&&W&&ie)if(w.type===Ti.POWERUP)w.collected=!0,w.subtype==="GOR_INCINERATOR"?(Oe.current=300,ze("speedup")):w.subtype==="GORBOY_CONSOLE"?(N.current=300,ze("speedup")):w.subtype==="GORBILLIONS"&&(qe.current=Math.min(qe.current+1,A.MAX_LIVES+2),a(qe.current),Se.current+=1e3),i(Se.current),Qn(qi.SPARKLE,w.x,w.y,w.z,cv*2,"#00FF00");else if(w.type===Ti.COLLECTIBLE){w.collected=!0;let me=100;w.subtype==="WALLET"?me=500:w.subtype==="GORBAGANA"?(me=200,O.current=600,C.current=0,T.lane>=1?(T.lane=1,T.x=Dl[1]):(T.lane=0,T.x=Dl[0]),ze("speedup")):w.subtype==="STICKER_PILL"?me=150:w.subtype==="TRASH_COIN"?me=50:w.subtype==="OSCAR_BACKPACK"?me=250:w.subtype==="PILL_MUMMY"?me=350:w.subtype==="TRASH_KING"&&(me=400),Fe.current+=1,Fe.current%A.ITEMS_PER_COMBO===0&&(Qe.current=Math.min(Qe.current+1,10),l(Qe.current)),Se.current+=me*Qe.current,i(Se.current),ze("collect"),Qn(qi.SPARKLE,w.x,w.y,w.z,cv,"#FFFF00")}else{if(R.current&&x.current>50)return;if(w.collected=!0,qe.current-=1,Fe.current=0,Qe.current=1,ze("hit"),ve.current=20,qe.current<=0){ze("gameover"),Ns();return}a(qe.current),l(1)}})},Ns=()=>{g.current&&cancelAnimationFrame(g.current),e(An.GAME_OVER),c(Se.current)},Dr=fe.useCallback(()=>{O.current=0,q.current={lane:1,x:ta[1],y:0,z:lv,width:A.PLAYER_SIZE.w,height:A.PLAYER_SIZE.h,depth:A.PLAYER_SIZE.d},re.current=[],te.current=A.INITIAL_SPEED,se.current=A.INITIAL_SPEED,Se.current=0,qe.current=A.MAX_LIVES,Fe.current=0,Qe.current=1,ve.current=0,i(0),a(A.MAX_LIVES),l(1),Ee.current=0,y.current&&(St.current=y.current.currentTime+.1,K.current=0)},[i,a,l]),ct=(T,w,F,W,ne,ie,me,ge,Ae,Me)=>{const ye=ne/2,pt=me/2,Mt=tt(w-ye,F,W-pt),ht=tt(w+ye,F,W-pt),Vt=tt(w-ye,F+ie,W-pt),oe=tt(w+ye,F+ie,W-pt),Ve=tt(w-ye,F,W+pt),It=tt(w+ye,F,W+pt),je=tt(w-ye,F+ie,W+pt),at=tt(w+ye,F+ie,W+pt);if(!Mt.visible)return;const Ne=(Nt,Lt)=>Xn(T,Nt,Lt),it=Ne(Ae,W),cn=Ne(Me,W),hn=Ne(ge,W);T.strokeStyle="rgba(0,0,0,0.2)",T.lineWidth=1,T.fillStyle=it,T.beginPath(),T.moveTo(Vt.x,Vt.y),T.lineTo(oe.x,oe.y),T.lineTo(at.x,at.y),T.lineTo(je.x,je.y),T.fill(),T.stroke(),w<0&&(T.fillStyle=cn,T.beginPath(),T.moveTo(oe.x,oe.y),T.lineTo(ht.x,ht.y),T.lineTo(It.x,It.y),T.lineTo(at.x,at.y),T.fill(),T.stroke()),w>0&&(T.fillStyle=Me,T.beginPath(),T.moveTo(Vt.x,Vt.y),T.lineTo(Mt.x,Mt.y),T.lineTo(Ve.x,Ve.y),T.lineTo(je.x,je.y),T.fill(),T.stroke()),T.fillStyle=hn,T.beginPath(),T.moveTo(Mt.x,Mt.y),T.lineTo(ht.x,ht.y),T.lineTo(oe.x,oe.y),T.lineTo(Vt.x,Vt.y),T.fill(),T.stroke()},zt=(T,w,F,W,ne,ie,me)=>{const ge=tt(F,W+me/2,ne);if(!ge.visible)return;const Ae=ie*ge.scale*hv,Me=me*ge.scale*hv,ye=tt(F,0,ne);ye.visible&&(T.fillStyle="rgba(0,0,0,0.4)",T.beginPath(),T.ellipse(ye.x,ye.y,Ae/2,Ae/5,0,0,Math.PI*2),T.fill()),T.drawImage(w,ge.x-Ae/2,ge.y-Me/2,Ae,Me)},wi=T=>{var Vt;const w=ce.current,F=T.createLinearGradient(0,0,0,Jt);F.addColorStop(0,w.skyTop),F.addColorStop(.6,w.skyMiddle),F.addColorStop(1,w.skyBottom),T.fillStyle=F,T.fillRect(0,0,Nn,lo);const W=q.current.x;if(w.starsOpacity>0&&(T.fillStyle="#FFF",ue.current.stars.forEach((oe,Ve)=>{const It=-W*.05;let je=(oe.x+It)%Nn;je<0&&(je+=Nn);const at=Math.sin(Date.now()*.003+Ve)*.3+.7;T.globalAlpha=oe.opacity*at*w.starsOpacity,T.beginPath(),T.arc(je,oe.y,oe.size,0,Math.PI*2),T.fill()}),T.globalAlpha=1),(Vt=L.current)!=null&&Vt.ufo){const oe=Date.now()/50%(Nn+400)-200,Ve=Jt-150+Math.sin(Date.now()/500)*20;T.save(),T.translate(oe,Ve),T.rotate(Math.sin(Date.now()/300)*.1);const It=-W*.02;T.drawImage(L.current.ufo,It,0,60,40),T.restore()}if(ue.current.backCity.forEach((oe,Ve)=>{const It=-W*.02;let je=oe.x+It;if(T.fillStyle=w.cityBack,T.fillRect(je,Jt-oe.h,oe.w,oe.h),T.fillStyle="rgba(0,0,0,0.3)",T.fillRect(je,Jt-oe.h,2,oe.h),T.fillRect(je+oe.w-2,Jt-oe.h,2,oe.h),T.fillStyle="rgba(255,255,255,0.1)",T.fillRect(je,Jt-oe.h,oe.w,3),Ve%3===0&&oe.w>40){const at=je+5,Ne=Jt-oe.h/2;T.globalAlpha=.4,T.strokeStyle="#ff00ff",T.lineWidth=1.5,T.beginPath(),T.moveTo(at,Ne),T.lineTo(at+15,Ne-8),T.lineTo(at+25,Ne),T.stroke(),T.globalAlpha=1}}),ue.current.frontCity.forEach((oe,Ve)=>{const It=-W*.1,je=oe.x+It;T.fillStyle=w.cityFront,T.fillRect(je,Jt-oe.h,oe.w,oe.h),T.fillStyle="rgba(255,255,255,0.15)",T.fillRect(je,Jt-oe.h,2,oe.h),T.fillStyle="rgba(0,0,0,0.4)",T.fillRect(je+oe.w-3,Jt-oe.h,3,oe.h);const at=T.createLinearGradient(je,Jt-oe.h,je,Jt-oe.h+5);if(at.addColorStop(0,"rgba(255,255,255,0.2)"),at.addColorStop(1,"rgba(0,0,0,0.1)"),T.fillStyle=at,T.fillRect(je,Jt-oe.h,oe.w,5),oe.w>30&&oe.h>25){const Ne=Math.floor(oe.h/15),it=Math.floor(oe.w/12);for(let cn=0;cn<Ne;cn++)for(let hn=0;hn<it;hn++){const Nt=Math.random()>.7;T.fillStyle=Nt?w.windowColorWarm:w.windowColorCool;const Lt=je+4+hn*12,Zn=Jt-oe.h+8+cn*15;T.fillRect(Lt,Zn,6,8)}}if(oe.w>35){const Ne=je+oe.w/2,it=Jt-oe.h*.6;T.globalAlpha=.7,Ve%5===0?(T.fillStyle="#ff1493",T.font="bold 16px sans-serif",T.fillText("GOR",Ne-12,it),T.strokeStyle="#ffffff",T.lineWidth=2,T.strokeText("GOR",Ne-12,it)):Ve%5===1?(T.strokeStyle="#00ff00",T.lineWidth=3,T.lineCap="round",T.beginPath(),T.moveTo(Ne-10,it),T.lineTo(Ne+10,it),T.stroke(),T.lineWidth=1.5,T.beginPath(),T.moveTo(Ne-5,it),T.lineTo(Ne-5,it+12),T.moveTo(Ne+5,it),T.lineTo(Ne+5,it+8),T.stroke()):Ve%5===2?(T.fillStyle="#ffff00",T.beginPath(),T.arc(Ne,it,6,0,Math.PI*2),T.fill(),T.fillStyle="#000000",T.beginPath(),T.arc(Ne-2,it-1,1.5,0,Math.PI*2),T.arc(Ne+2,it-1,1.5,0,Math.PI*2),T.fill()):Ve%5===3?(T.strokeStyle="#ff6600",T.lineWidth=2.5,T.lineJoin="round",T.beginPath(),T.moveTo(Ne-12,it),T.lineTo(Ne-8,it-8),T.lineTo(Ne,it-6),T.lineTo(Ne+8,it-8),T.lineTo(Ne+12,it),T.stroke(),T.fillStyle="rgba(255, 102, 0, 0.3)",T.fill()):(T.strokeStyle="#00ffff",T.lineWidth=2,T.font="italic bold 14px sans-serif",T.strokeText("TRASH",Ne-18,it),T.fillStyle="#ff00ff",T.fillText("TRASH",Ne-18,it)),T.globalAlpha=1}Ve%4===0&&oe.w>30&&(T.fillStyle="rgba(100, 100, 100, 0.8)",T.fillRect(je+oe.w-15,Jt-oe.h-5,12,5))}),T.fillStyle=w.groundColor,T.fillRect(0,Jt,Nn,lo-Jt),T.save(),ve.current>0){const oe=ve.current*.5;T.translate((Math.random()-.5)*oe,(Math.random()-.5)*oe)}const ne=O.current>0,ie=ne?200:300,me=-Uc+10,ge=Ol,Ae=tt(-ie,0,me),Me=tt(ie,0,me),ye=tt(-ie,0,ge),pt=tt(ie,0,ge);if(Ae.visible&&Me.visible){T.fillStyle=w.roadColor,T.beginPath(),T.moveTo(Ae.x,Ae.y),T.lineTo(Me.x,Me.y),T.lineTo(pt.x,pt.y),T.lineTo(ye.x,ye.y),T.fill(),T.fillStyle=w.roadTextureColor;for(let oe=0;oe<20;oe++){const Ve=(Date.now()*te.current*.1+oe*500)%Ol,It=Math.sin(oe*132.1)*Fl*1.5,je=tt(It,0,Ve);if(je.visible){const at=20*je.scale;T.fillRect(je.x,je.y,at,at*.2)}}}Ue.current=(Ue.current+te.current)%400,T.strokeStyle=w.laneMarkerColor,T.lineCap="round",T.shadowBlur=15,T.shadowColor=w.laneMarkerGlow,(ne?[0]:[ta[0]+Fl/2,ta[1]+Fl/2]).forEach(oe=>{for(let Ve=-200;Ve<Ol;Ve+=400){const It=Ve-Ue.current;if(It<-Uc+50)continue;const je=tt(oe,0,It),at=tt(oe,0,It+200);je.visible&&at.visible&&(T.lineWidth=Math.max(2,6*je.scale),T.beginPath(),T.moveTo(je.x,je.y),T.lineTo(at.x,at.y),T.stroke())}}),T.shadowBlur=0;const ht=[...re.current.map(oe=>({...oe,isPlayer:!1})),{...q.current,type:"PLAYER",subtype:"TRUCK",isPlayer:!0}];if(ht.sort((oe,Ve)=>Ve.z-oe.z),ht.forEach(oe=>{oe.isPlayer?xo(T,oe):pa(T,oe)}),xr(T),Oe.current>0){const oe=q.current;T.save(),T.globalCompositeOperation="screen";for(let Ve=0;Ve<15;Ve++){const It=oe.z+100+Ve*60,je=oe.x+(Math.random()-.5)*40,at=30+Math.random()*30,Ne=tt(je,at,It);if(Ne.visible){T.beginPath();const it=T.createRadialGradient(Ne.x,Ne.y,0,Ne.x,Ne.y,80*Ne.scale);it.addColorStop(0,"rgba(255, 255, 200, 1)"),it.addColorStop(.4,"rgba(255, 100, 0, 0.8)"),it.addColorStop(1,"rgba(255, 0, 0, 0)"),T.fillStyle=it,T.arc(Ne.x,Ne.y,100*Ne.scale*(1+Ve*.1),0,Math.PI*2),T.fill()}}T.restore(),T.fillStyle="orange",T.font="bold 30px sans-serif",T.textAlign="center",T.fillText(" INCINERATOR ACTIVE ",Nn/2,150)}N.current>0&&(T.fillStyle="#00ff00",T.font="bold 20px sans-serif",T.textAlign="center",T.fillText("PRESS SPACE TO JUMP!",Nn/2,180)),O.current>0&&(T.fillStyle="#14F195",T.font="bold 20px sans-serif",T.textAlign="center",T.fillText(" 2-LANE MODE ",Nn/2,210)),T.restore()},xo=(T,w)=>{const F=L.current,W=tt(w.x,0,w.z),ne=w.y,ie=w.z-20,me=w.z+35;if(W.visible&&(T.fillStyle="rgba(0,0,0,0.5)",T.beginPath(),T.ellipse(W.x,W.y,w.width*W.scale,w.width*.4*W.scale,0,0,Math.PI*2),T.fill()),F!=null&&F.truck){const Ae=w.height*1.2,Me=tt(w.x,ne+Ae/2,w.z);if(Me.visible){const ye=w.width*Me.scale*1.3,pt=Ae*Me.scale*1.3;T.save(),T.drawImage(F.truck,Me.x-ye/2,Me.y-pt/2,ye,pt),T.restore()}}else{ct(T,w.x,15+ne,w.z,w.width*.8,10,w.depth,"#333","#444","#222"),ct(T,w.x,45+ne,ie,w.width,w.height*.6,w.depth*.8,"#14F195","#10c479","#0b8c56"),ct(T,w.x,45+ne,ie,w.width+2,10,w.depth*.8+2,"#ffffff","#ddd","#ccc"),ct(T,w.x,35+ne,me,w.width*.9,30,30,"#9945FF","#7c3aed","#6d28d9"),ct(T,w.x,45+ne,me+16,w.width*.8,12,2,"#60a5fa","#93c5fd","#3b82f6");const Ae=w.width/2+5,Me=(ye,pt)=>{ct(T,ye,12+ne,pt,12,24,24,"#111","#222","#000");const Mt=Math.floor(Date.now()/50)%2===0?"#555":"#888";ct(T,ye>w.x?ye+6:ye-6,12+ne,pt,2,10,10,Mt,Mt,Mt)};Me(w.x-Ae,w.z-25),Me(w.x+Ae,w.z-25),Me(w.x-Ae,w.z+25),Me(w.x+Ae,w.z+25)}if(he.current==="NIGHT"||he.current==="TWILIGHT"){const Ae=me+18,Me=25+ne,ye=tt(w.x-25,Me,Ae),pt=tt(w.x-80,Me,Ae+600),Mt=tt(w.x+30,Me,Ae+600);if(ye.visible){T.save(),T.globalAlpha=.6;const Ve=T.createLinearGradient(ye.x,ye.y,(pt.x+Mt.x)/2,(pt.y+Mt.y)/2);Ve.addColorStop(0,"rgba(255, 255, 220, 1)"),Ve.addColorStop(.7,"rgba(255, 255, 200, 0.3)"),Ve.addColorStop(1,"rgba(255, 255, 200, 0)"),T.fillStyle=Ve,T.beginPath(),T.moveTo(ye.x,ye.y),T.lineTo(pt.x,pt.y),T.lineTo(Mt.x,Mt.y),T.fill(),T.restore(),T.save(),T.translate(ye.x,ye.y),T.fillStyle="#ffffff",T.shadowColor="#ffff00",T.shadowBlur=25,T.beginPath(),T.arc(0,0,10*ye.scale,0,Math.PI*2),T.fill(),T.restore()}const ht=tt(w.x+25,Me,Ae),Vt=tt(w.x-30,Me,Ae+600),oe=tt(w.x+80,Me,Ae+600);if(ht.visible){T.save(),T.globalAlpha=.6;const Ve=T.createLinearGradient(ht.x,ht.y,(Vt.x+oe.x)/2,(Vt.y+oe.y)/2);Ve.addColorStop(0,"rgba(255, 255, 220, 1)"),Ve.addColorStop(.7,"rgba(255, 255, 200, 0.3)"),Ve.addColorStop(1,"rgba(255, 255, 200, 0)"),T.fillStyle=Ve,T.beginPath(),T.moveTo(ht.x,ht.y),T.lineTo(Vt.x,Vt.y),T.lineTo(oe.x,oe.y),T.fill(),T.restore(),T.save(),T.translate(ht.x,ht.y),T.fillStyle="#ffffff",T.shadowColor="#ffff00",T.shadowBlur=25,T.beginPath(),T.arc(0,0,10*ht.scale,0,Math.PI*2),T.fill(),T.restore()}}},pa=(T,w)=>{if(w.collected)return;const F=L.current;if(!F)return;const W=w.y;let ne=null,ie="#FF0000";if(w.type===Ti.COLLECTIBLE?w.subtype==="TRASH_COIN"?(ne=F.trashCoin,ie="#FFD700"):w.subtype==="GORBAGANA"?(ne=F.gorbagana,ie="#FFC107"):w.subtype==="STICKER_PILL"?(ne=F.gorbhouseCry,ie="#8B4513"):w.subtype==="WALLET"?(ne=F.wallet,ie="#795548"):w.subtype==="OSCAR_BACKPACK"?(ne=F.oscarBackpack,ie="#9945FF"):w.subtype==="PILL_MUMMY"?(ne=F.pillMummy,ie="#E6D5AC"):w.subtype==="TRASH_KING"&&(ne=F.trashKing,ie="#FFD700"):w.type===Ti.OBSTACLE?w.subtype==="TRASH_BAG"?(ne=F.newObstacle||F.trashBagDecor,ie="#444444"):(ne=F.newObstacle||F.trashBagDecor,ie="#222222"):w.type===Ti.POWERUP&&(w.subtype==="GOR_INCINERATOR"?(ne=F.incinerator,ie="#FF5722"):w.subtype==="GORBOY_CONSOLE"?(ne=F.gorboyConsole,ie="#8BC34A"):w.subtype==="GORBILLIONS"&&(ne=F.gorbillions,ie="#E91E63")),ne)zt(T,ne,w.x,W,w.z,w.width,w.height);else{const me=un(ie,20),ge=nr(ie,20);ct(T,w.x,W,w.z,w.width,w.height,w.depth,ie,me,ge)}},un=(T,w)=>{const F=parseInt(T.slice(1,3),16),W=parseInt(T.slice(3,5),16),ne=parseInt(T.slice(5,7),16),ie=w/100,me=Math.min(255,Math.floor(F+(255-F)*ie)),ge=Math.min(255,Math.floor(W+(255-W)*ie)),Ae=Math.min(255,Math.floor(ne+(255-ne)*ie));return`#${me.toString(16).padStart(2,"0")}${ge.toString(16).padStart(2,"0")}${Ae.toString(16).padStart(2,"0")}`},nr=(T,w)=>{const F=parseInt(T.slice(1,3),16),W=parseInt(T.slice(3,5),16),ne=parseInt(T.slice(5,7),16),ie=w/100,me=Math.max(0,Math.floor(F*(1-ie))),ge=Math.max(0,Math.floor(W*(1-ie))),Ae=Math.max(0,Math.floor(ne*(1-ie)));return`#${me.toString(16).padStart(2,"0")}${ge.toString(16).padStart(2,"0")}${Ae.toString(16).padStart(2,"0")}`},Ri=T=>{if(C.current!==0&&C.current<1)return;const w=O.current>0,F=q.current.lane;let W=F;T==="left"?W=Math.max(0,F-1):w?W=Math.min(1,F+1):W=Math.min(2,F+1),W!==F&&(q.current.x,U.current=W,C.current=.001)},xs=()=>{if(C.current<1&&C.current!==0)if(C.current+=UI,C.current>=1){C.current=0;const T=O.current>0,w=T?Dl:ta;let F=Math.min(U.current,T?1:2);F=Math.max(F,0),q.current.lane=F,q.current.x=w[F]}else{const T=O.current>0,w=T?Dl:ta,F=q.current.lane,W=U.current,ne=Math.min(F,T?1:2),ie=Math.min(W,T?1:2),me=w[ne],ge=w[ie];if(me===void 0||ge===void 0){C.current=0;return}q.current.x=me+(ge-me)*C.current}},hi=()=>{N.current>0&&!R.current&&(R.current=!0,k.current=15,ze("speedup"))},Do=()=>{N.current>0&&N.current--,R.current&&(k.current-=.8,x.current+=k.current,x.current<=0&&(x.current=0,k.current=0,R.current=!1)),q.current.y=x.current},ya=()=>{if(_.current!==An.PLAYING)return;Do(),xs(),V.current++,te.current>5&&V.current>=4&&(Qn(qi.EXHAUST,q.current.x,q.current.y-10,q.current.z-50,HI,"#666666"),V.current=0),te.current=Math.min(A.MAX_SPEED,te.current+A.SPEED_INCREMENT),te.current>=se.current+5&&(se.current=te.current,ze("speedup")),Oe.current>0&&(Oe.current-=1),O.current>0&&(O.current-=1,O.current===0&&q.current.lane>1&&C.current===0&&(q.current.lane=1,q.current.x=ta[1])),ve.current>0&&(ve.current-=1),re.current.forEach(w=>{w.collected||(w.z-=te.current)}),re.current=re.current.filter(w=>w.z>-Uc||w.collected),Ee.current+=1;const T=Math.max(A.MIN_SPAWN_RATE,A.SPAWN_RATE_INITIAL-(te.current-A.INITIAL_SPEED)/2);Ee.current>=T&&(Is(),Ee.current=0),tr(),Nr()},Or=fe.useCallback(()=>{if(!d.current)return;const T=d.current,w=T.getContext("2d");w&&(w.clearRect(0,0,T.width,T.height),ya(),Ut(),wi(w),g.current=requestAnimationFrame(Or))},[]),Mr=fe.useCallback(T=>{r===An.PLAYING&&(T.code==="ArrowLeft"?Ri("left"):T.code==="ArrowRight"?Ri("right"):T.code==="Space"&&hi())},[r]),Rn=fe.useCallback(T=>{if(r!==An.PLAYING)return;const w=T.touches[0];X.current={x:w.clientX,y:w.clientY}},[r]),jt=fe.useCallback(T=>{if(r!==An.PLAYING||!X.current)return;const w=T.changedTouches[0],F=w.clientX-X.current.x,W=X.current.y-w.clientY;Math.abs(F)>50&&(F>0?Ri("right"):Ri("left")),W>50&&hi(),X.current=null},[r]);return fe.useEffect(()=>(r===An.PLAYING?g.current||(Dr(),g.current=requestAnimationFrame(Or)):g.current&&(cancelAnimationFrame(g.current),g.current=null),window.addEventListener("keydown",Mr),d.current&&(d.current.addEventListener("touchstart",Rn),d.current.addEventListener("touchend",jt)),()=>{g.current&&(cancelAnimationFrame(g.current),g.current=null),window.removeEventListener("keydown",Mr),d.current&&(d.current.removeEventListener("touchstart",Rn),d.current.removeEventListener("touchend",jt))}),[r,Or,Mr,Rn,jt,Dr]),I.jsx("canvas",{ref:d,width:Nn,height:lo,className:"game-canvas",style:{maxWidth:"100%",maxHeight:"100%",width:"100%",height:"100%",objectFit:"contain",margin:"0 auto",display:"block",touchAction:"none"}})};/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QI=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),XI=r=>r.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,i,a)=>a?a.toUpperCase():i.toLowerCase()),dv=r=>{const e=XI(r);return e.charAt(0).toUpperCase()+e.slice(1)},jE=(...r)=>r.filter((e,i,a)=>!!e&&e.trim()!==""&&a.indexOf(e)===i).join(" ").trim(),ZI=r=>{for(const e in r)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var JI={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $I=fe.forwardRef(({color:r="currentColor",size:e=24,strokeWidth:i=2,absoluteStrokeWidth:a,className:l="",children:c,iconNode:d,...g},y)=>fe.createElement("svg",{ref:y,...JI,width:e,height:e,stroke:r,strokeWidth:a?Number(i)*24/Number(e):i,className:jE("lucide",l),...!c&&!ZI(g)&&{"aria-hidden":"true"},...g},[...d.map(([_,b])=>fe.createElement(_,b)),...Array.isArray(c)?c:[c]]));/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const er=(r,e)=>{const i=fe.forwardRef(({className:a,...l},c)=>fe.createElement($I,{ref:c,iconNode:e,className:jE(`lucide-${QI(dv(r))}`,`lucide-${r}`,a),...l}));return i.displayName=dv(r),i};/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WI=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],eN=er("copy",WI);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tN=[["line",{x1:"6",x2:"10",y1:"11",y2:"11",key:"1gktln"}],["line",{x1:"8",x2:"8",y1:"9",y2:"13",key:"qnk9ow"}],["line",{x1:"15",x2:"15.01",y1:"12",y2:"12",key:"krot7o"}],["line",{x1:"18",x2:"18.01",y1:"10",y2:"10",key:"1lcuu1"}],["path",{d:"M17.32 5H6.68a4 4 0 0 0-3.978 3.59c-.006.052-.01.101-.017.152C2.604 9.416 2 14.456 2 16a3 3 0 0 0 3 3c1 0 1.5-.5 2-1l1.414-1.414A2 2 0 0 1 9.828 16h4.344a2 2 0 0 1 1.414.586L17 18c.5.5 1 1 2 1a3 3 0 0 0 3-3c0-1.545-.604-6.584-.685-7.258-.007-.05-.011-.1-.017-.151A4 4 0 0 0 17.32 5z",key:"mfqc10"}]],nN=er("gamepad-2",tN);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iN=[["path",{d:"m10 17 5-5-5-5",key:"1bsop3"}],["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}]],rN=er("log-in",iN);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sN=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],aN=er("log-out",sN);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oN=[["path",{d:"M12 22a1 1 0 0 1 0-20 10 9 0 0 1 10 9 5 5 0 0 1-5 5h-2.25a1.75 1.75 0 0 0-1.4 2.8l.3.4a1.75 1.75 0 0 1-1.4 2.8z",key:"e79jfc"}],["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}]],lN=er("palette",oN);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uN=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],cN=er("rotate-ccw",uN);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hN=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],BE=er("settings",hN);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fN=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],dN=er("upload",fN);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mN=[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]],gN=er("volume-2",mN);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pN=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],yN=er("x",pN),_N=({user:r,onAuthStateChange:e})=>{const[i,a]=fe.useState(!1),[l,c]=fe.useState(null),d=async()=>{a(!0),c(null);try{const y=new Fi;y.addScope("tweet.read");const _=await Ew(So,y);console.log("Signed in with X:",_.user.displayName),e&&e(_.user)}catch(y){console.error("X Sign-in Error:",y),c(y.message||"Failed to sign in with X")}finally{a(!1)}},g=async()=>{a(!0),c(null);try{await Qv(So),e&&e(null)}catch(y){console.error("Sign-out Error:",y),c(y.message||"Failed to sign out")}finally{a(!1)}};return r?I.jsxs("div",{className:"flex flex-col items-center gap-2 sm:gap-3 w-full max-w-[90%] xs:max-w-sm",children:[I.jsxs("div",{className:"bg-gradient-to-br from-blue-500/20 to-cyan-500/20 backdrop-blur-md px-3 xs:px-4 py-2 xs:py-3 rounded-xl border border-blue-500/50 w-full text-center",children:[I.jsx("p",{className:"text-xs xs:text-sm text-gray-300 uppercase font-bold tracking-wide mb-0.5 xs:mb-1",children:"Signed in as"}),I.jsx("p",{className:"text-base xs:text-lg font-black text-blue-400 truncate",children:r.displayName||r.email})]}),I.jsxs("button",{onClick:g,disabled:i,className:"w-full min-h-touch py-2.5 xs:py-3 bg-red-500/20 hover:bg-red-500/30 backdrop-blur-sm border-2 border-red-500/50 hover:border-red-500/80 text-red-400 hover:text-red-300 text-sm xs:text-base font-bold rounded-xl transition-all transform hover:scale-105 active:scale-95 uppercase tracking-wider flex items-center justify-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",children:[I.jsx(aN,{className:"w-3.5 h-3.5 xs:w-4 xs:h-4"}),i?"Signing out...":"Sign Out"]})]}):I.jsxs("div",{className:"flex flex-col items-center gap-2 sm:gap-3 w-full max-w-[90%] xs:max-w-[300px]",children:[I.jsxs("button",{onClick:d,disabled:i,className:"w-full min-h-touch py-3 xs:py-4 sm:py-5 bg-gradient-to-r from-blue-500 via-cyan-500 to-blue-500 text-white text-base xs:text-lg sm:text-xl font-black rounded-2xl shadow-[0_0_40px_rgba(59,130,246,0.5)] hover:shadow-[0_0_70px_rgba(59,130,246,0.7)] transition-all transform hover:scale-105 active:scale-95 flex items-center justify-center gap-2 xs:gap-3 uppercase tracking-wider relative overflow-hidden group disabled:opacity-50 disabled:cursor-not-allowed",children:[I.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/20 to-transparent translate-x-[-100%] group-hover:translate-x-[100%] transition-transform duration-1000"}),I.jsx(rN,{className:"w-4 h-4 xs:w-5 xs:h-5 relative z-10"}),I.jsx("span",{className:"relative z-10",children:i?"Signing in...":"Sign in with X"})]}),l&&I.jsx("p",{className:"text-red-400 text-xs xs:text-sm text-center font-semibold",children:l})]})},vN=[{id:"gameplay",label:"Gameplay",icon:nN},{id:"audio",label:"Audio",icon:gN},{id:"visual",label:"Visual",icon:lN},{id:"advanced",label:"Advanced",icon:BE}],TN=({onClose:r})=>{const{settings:e,updateSettings:i,resetToDefaults:a,applyDifficultyPreset:l,exportSettings:c,importSettings:d}=og(),[g,y]=fe.useState("gameplay"),_=se=>{l(se)},b=()=>{const se=c();navigator.clipboard.writeText(se)},A=()=>{const se=prompt("Paste your settings JSON:");if(se)try{d(se),alert("Settings imported successfully!")}catch(Ee){alert("Failed to import settings: "+Ee.message)}},L=()=>I.jsxs("div",{className:"space-y-6",children:[I.jsxs("div",{className:"space-y-3",children:[I.jsxs("div",{className:"flex justify-between text-caption font-bold uppercase tracking-wider text-gray-400",children:[I.jsx("span",{children:"Difficulty"}),I.jsx("span",{className:"text-lime-400",children:e.difficulty})]}),I.jsx("div",{className:"grid grid-cols-2 gap-3",children:["EASY","NORMAL","HARD","EXPERT"].map(se=>I.jsx("button",{onClick:()=>_(se),className:`py-3 px-4 rounded-xl font-bold text-sm transition-all ${e.difficulty===se?"bg-lime-500 text-black shadow-[0_0_20px_rgba(132,204,22,0.5)]":"bg-gray-700 text-gray-300 hover:bg-gray-600"}`,children:se},se))})]}),I.jsxs("div",{className:"space-y-3",children:[I.jsxs("div",{className:"flex justify-between text-caption font-bold uppercase tracking-wider text-gray-400",children:[I.jsx("span",{children:"Lives"}),I.jsx("span",{className:"text-red-400",children:e.maxLives})]}),I.jsx("input",{type:"range",min:"1",max:"5",value:e.maxLives,onChange:se=>i({maxLives:parseInt(se.target.value)}),className:"w-full h-2 bg-gray-700 rounded-lg appearance-none cursor-pointer accent-red-500"}),I.jsxs("div",{className:"flex justify-between text-xs text-gray-500",children:[I.jsx("span",{children:"1"}),I.jsx("span",{children:"5"})]})]}),I.jsxs("div",{className:"space-y-3",children:[I.jsxs("div",{className:"flex justify-between text-caption font-bold uppercase tracking-wider text-gray-400",children:[I.jsx("span",{children:"Start Speed"}),I.jsx("span",{className:"text-orange-400",children:e.initialSpeed})]}),I.jsx("input",{type:"range",min:"10",max:"30",step:"2",value:e.initialSpeed,onChange:se=>i({initialSpeed:parseInt(se.target.value)}),className:"w-full h-2 bg-gray-700 rounded-lg appearance-none cursor-pointer accent-orange-500"})]}),I.jsxs("div",{className:"space-y-3",children:[I.jsxs("div",{className:"flex justify-between text-caption font-bold uppercase tracking-wider text-gray-400",children:[I.jsx("span",{children:"Max Speed"}),I.jsx("span",{className:"text-yellow-400",children:e.maxSpeed})]}),I.jsx("input",{type:"range",min:"30",max:"80",step:"5",value:e.maxSpeed,onChange:se=>i({maxSpeed:parseInt(se.target.value)}),className:"w-full h-2 bg-gray-700 rounded-lg appearance-none cursor-pointer accent-yellow-500"})]}),I.jsxs("div",{className:"space-y-3",children:[I.jsxs("div",{className:"flex justify-between text-caption font-bold uppercase tracking-wider text-gray-400",children:[I.jsx("span",{children:"Item Frequency"}),I.jsx("span",{className:"text-purple-400",children:e.spawnRate===1?"Slow":e.spawnRate===2?"Normal":e.spawnRate===3?"Fast":"Ultra"})]}),I.jsx("input",{type:"range",min:"0.5",max:"4",step:"0.5",value:e.spawnRate,onChange:se=>i({spawnRate:parseFloat(se.target.value)}),className:"w-full h-2 bg-gray-700 rounded-lg appearance-none cursor-pointer accent-purple-500"}),I.jsxs("div",{className:"flex justify-between text-xs text-gray-500",children:[I.jsx("span",{children:"Slow"}),I.jsx("span",{children:"Ultra"})]})]})]}),q=()=>I.jsxs("div",{className:"space-y-6",children:[I.jsxs("div",{className:"space-y-3",children:[I.jsxs("div",{className:"flex justify-between text-caption font-bold uppercase tracking-wider text-gray-400",children:[I.jsx("span",{children:"Master Volume"}),I.jsxs("span",{children:[Math.round(e.masterVolume*100),"%"]})]}),I.jsx("input",{type:"range",min:"0",max:"1",step:"0.05",value:e.masterVolume,onChange:se=>i({masterVolume:parseFloat(se.target.value)}),className:"w-full h-2 bg-gray-700 rounded-lg appearance-none cursor-pointer accent-lime-500"})]}),I.jsxs("div",{className:"space-y-3",children:[I.jsxs("div",{className:"flex justify-between text-caption font-bold uppercase tracking-wider text-gray-400",children:[I.jsx("span",{children:"Music Volume"}),I.jsxs("span",{children:[Math.round(e.musicVolume*100),"%"]})]}),I.jsx("input",{type:"range",min:"0",max:"1",step:"0.05",value:e.musicVolume,onChange:se=>i({musicVolume:parseFloat(se.target.value)}),className:"w-full h-2 bg-gray-700 rounded-lg appearance-none cursor-pointer accent-orange-500"})]}),I.jsxs("div",{className:"space-y-3",children:[I.jsxs("div",{className:"flex justify-between text-caption font-bold uppercase tracking-wider text-gray-400",children:[I.jsx("span",{children:"Sound Effects"}),I.jsxs("span",{children:[Math.round(e.sfxVolume*100),"%"]})]}),I.jsx("input",{type:"range",min:"0",max:"1",step:"0.05",value:e.sfxVolume,onChange:se=>i({sfxVolume:parseFloat(se.target.value)}),className:"w-full h-2 bg-gray-700 rounded-lg appearance-none cursor-pointer accent-blue-500"})]})]}),re=()=>I.jsxs("div",{className:"space-y-6",children:[I.jsxs("div",{className:"space-y-3",children:[I.jsx("div",{className:"text-caption font-bold uppercase tracking-wider text-gray-400",children:"Theme"}),I.jsxs("select",{value:e.theme,onChange:se=>i({theme:se.target.value}),className:"w-full py-3 px-4 bg-gray-800 border border-gray-600 rounded-xl text-white focus:border-lime-400 focus:ring-1 focus:ring-lime-400",children:[I.jsx("option",{value:"AUTO",children:"Auto (Time-based)"}),I.jsx("option",{value:"DAY",children:"Day"}),I.jsx("option",{value:"TWILIGHT",children:"Twilight"}),I.jsx("option",{value:"NIGHT",children:"Night"})]})]}),I.jsxs("div",{className:"space-y-3",children:[I.jsxs("div",{className:"flex justify-between text-caption font-bold uppercase tracking-wider text-gray-400",children:[I.jsx("span",{children:"Asset Size"}),I.jsxs("span",{className:"text-pink-400",children:[e.spriteScaleMultiplier.toFixed(1),"x"]})]}),I.jsx("input",{type:"range",min:"1.0",max:"3.0",step:"0.1",value:e.spriteScaleMultiplier,onChange:se=>i({spriteScaleMultiplier:parseFloat(se.target.value)}),className:"w-full h-2 bg-gray-700 rounded-lg appearance-none cursor-pointer accent-pink-500"}),I.jsxs("div",{className:"flex justify-between text-xs text-gray-500",children:[I.jsx("span",{children:"1x"}),I.jsx("span",{children:"3x"})]})]}),I.jsxs("div",{className:"space-y-3",children:[I.jsxs("div",{className:"flex justify-between text-caption font-bold uppercase tracking-wider text-gray-400",children:[I.jsx("span",{children:"Effects"}),I.jsx("span",{className:"text-cyan-400",children:e.particleIntensity===0?"Off":e.particleIntensity===1?"Low":e.particleIntensity===2?"Normal":"High"})]}),I.jsx("input",{type:"range",min:"0",max:"3",value:e.particleIntensity,onChange:se=>i({particleIntensity:parseInt(se.target.value)}),className:"w-full h-2 bg-gray-700 rounded-lg appearance-none cursor-pointer accent-cyan-500"}),I.jsxs("div",{className:"flex justify-between text-xs text-gray-500",children:[I.jsx("span",{children:"Off"}),I.jsx("span",{children:"Low"}),I.jsx("span",{children:"Normal"}),I.jsx("span",{children:"High"})]})]}),I.jsx("div",{className:"space-y-3",children:I.jsxs("div",{className:"flex justify-between items-center",children:[I.jsx("span",{className:"text-caption font-bold uppercase tracking-wider text-gray-400",children:"Screen Shake"}),I.jsx("button",{onClick:()=>i({screenShake:!e.screenShake}),className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors focus:outline-none ${e.screenShake?"bg-lime-500":"bg-gray-600"}`,children:I.jsx("span",{className:`inline-block h-4 w-4 rounded-full bg-white transition-transform ${e.screenShake?"translate-x-6":"translate-x-1"}`})})]})})]}),ae=()=>I.jsxs("div",{className:"space-y-6",children:[I.jsxs("div",{className:"p-4 bg-gray-800/50 rounded-xl border border-gray-600",children:[I.jsx("h3",{className:"font-bold text-lime-400 mb-4",children:"Reset & Presets"}),I.jsx("div",{className:"space-y-3",children:I.jsxs("button",{onClick:a,className:"w-full py-3 px-4 bg-red-600 hover:bg-red-500 text-white font-bold rounded-xl transition-colors flex items-center justify-center gap-2",children:[I.jsx(cN,{className:"w-4 h-4"}),"Reset to Defaults"]})})]}),I.jsxs("div",{className:"p-4 bg-gray-800/50 rounded-xl border border-gray-600",children:[I.jsx("h3",{className:"font-bold text-lime-400 mb-4",children:"Settings Transfer"}),I.jsxs("div",{className:"space-y-3",children:[I.jsxs("button",{onClick:b,className:"w-full py-3 px-4 bg-blue-600 hover:bg-blue-500 text-white font-bold rounded-xl transition-colors flex items-center justify-center gap-2",children:[I.jsx(eN,{className:"w-4 h-4"}),"Copy Settings"]}),I.jsxs("button",{onClick:A,className:"w-full py-3 px-4 bg-green-600 hover:bg-green-500 text-white font-bold rounded-xl transition-colors flex items-center justify-center gap-2",children:[I.jsx(dN,{className:"w-4 h-4"}),"Import Settings"]})]})]})]}),te=()=>{switch(g){case"gameplay":return L();case"audio":return q();case"visual":return re();case"advanced":return ae();default:return null}};return I.jsx("div",{className:"fixed inset-0 z-50 bg-black/90 backdrop-blur-xl flex items-center justify-center p-4 animate-in fade-in duration-300",children:I.jsxs("div",{className:"w-full max-w-lg max-h-[90vh] bg-gray-900 border border-white/10 rounded-3xl shadow-2xl overflow-hidden",children:[I.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-white/10",children:[I.jsx("h2",{className:"text-2xl font-black bg-clip-text text-transparent bg-gradient-to-r from-lime-400 to-orange-400",children:"SETTINGS"}),I.jsx("button",{onClick:r,className:"min-w-touch min-h-touch p-2 text-gray-400 hover:text-white transition-colors rounded-full hover:bg-white/10","aria-label":"Close",children:I.jsx(yN,{className:"w-5 h-5"})})]}),I.jsx("div",{className:"flex border-b border-white/10",children:vN.map(se=>{const Ee=se.icon;return I.jsxs("button",{onClick:()=>y(se.id),className:`flex-1 py-4 px-3 text-center transition-all ${g===se.id?"border-b-2 border-lime-400 text-lime-400 bg-lime-400/10":"text-gray-400 hover:text-white hover:bg-white/5"}`,children:[I.jsx(Ee,{className:"w-5 h-5 mx-auto mb-1"}),I.jsx("div",{className:"text-xs font-bold",children:se.label})]},se.id)})}),I.jsx("div",{className:"p-6 max-h-96 overflow-y-auto",children:te()}),I.jsx("div",{className:"p-4 border-t border-white/10 bg-gray-900/50",children:I.jsx("button",{onClick:r,className:"w-full py-3 bg-gradient-to-r from-lime-500/20 to-orange-500/20 hover:from-lime-500/30 hover:to-orange-500/30 border border-lime-400/50 hover:border-lime-400 text-white text-lg font-bold rounded-xl transition-all",children:"CLOSE SETTINGS"})})]})})},EN=async r=>{try{const e=So.currentUser;if(!e)return console.warn("No authenticated user. Score not saved."),!1;const i=bE(UE,"leaderboard"),a=wE(i,e.uid),l=await kE(a),c=l.exists()?l.data().score:0;return r>c?(await OI(a,{userId:e.uid,username:e.displayName||e.email||"Anonymous",email:e.email,score:r,timestamp:Date.now()}),console.log(`Score saved: ${r} (previous: ${c})`),!0):(console.log(`Score not saved: ${r} is not higher than ${c}`),!1)}catch(e){return console.error("Error saving score to Firestore:",e),!1}},SN=async()=>{try{const r=So.currentUser;if(!r)return console.warn("No authenticated user. Returning 0."),0;const e=bE(UE,"leaderboard"),i=wE(e,r.uid),a=await kE(i);return a.exists()&&a.data().score||0}catch(r){return console.error("Error fetching user high score:",r),0}},Yd=({text:r,className:e=""})=>I.jsx("span",{className:`text-clip-slide ${e}`,children:r.split("").map((i,a)=>I.jsx("span",{className:"letter",children:i===" "?"":i},a))}),AN=()=>{const r=["gorbage_truck_images/gorbagio_1071.png","gorbage_truck_images/gorbagio_1073.png","gorbage_truck_images/gorbagio_1155.png","gorbage_truck_images/gorbagio_2290.png","gorbage_truck_images/gorbagio_2962.png","gorbage_truck_images/gorbagio_3205.png","gorbage_truck_images/gorbagio_3340.png","gorbage_truck_images/gorbagio_3371.png","gorbage_truck_images/gorbagio_3494.png","gorbage_truck_images/gorbagio_4103.png"];return I.jsx("div",{className:"marquee-mask w-full py-2 bg-black/50 border-t border-b border-white/10",children:I.jsx("div",{className:"marquee-container overflow-hidden",children:I.jsxs("div",{className:"marquee-content flex",children:[r.map((e,i)=>I.jsx("div",{className:"marquee-item flex-shrink-0",children:I.jsx("img",{src:e,alt:"Gorbage Asset",className:"h-10 mx-4 object-contain"})},`first-${i}`)),r.map((e,i)=>I.jsx("div",{className:"marquee-item flex-shrink-0",children:I.jsx("img",{src:e,alt:"Gorbage Asset",className:"h-10 mx-4 object-contain"})},`second-${i}`))]})})})},bN=()=>{const{settings:r}=og(),[e,i]=fe.useState(An.MENU),[a,l]=fe.useState(0),[c,d]=fe.useState(3),[g,y]=fe.useState(1),[_,b]=fe.useState(0),[A,L]=fe.useState(null),[q,re]=fe.useState(!0),[ae,te]=fe.useState(!1);fe.useLayoutEffect(()=>{document.documentElement.style.setProperty("--app-height",`${window.innerHeight}px`);const Ue=()=>{document.documentElement.style.setProperty("--app-height",`${window.innerHeight}px`)};return window.addEventListener("resize",Ue),()=>window.removeEventListener("resize",Ue)},[]),fe.useEffect(()=>{const Ue=tw(So,async Oe=>{if(L(Oe),Oe){const N=await SN();b(N)}else{const N=localStorage.getItem("recycleRushHighScore");N&&b(parseInt(N,10))}re(!1)});return()=>Ue()},[]);const se=async Ue=>{Ue>_&&(b(Ue),A?await EN(Ue)&&console.log("Score saved to Firestore"):localStorage.setItem("recycleRushHighScore",Ue.toString()))},Ee=()=>{A||console.log("Playing without signing in - scores will be saved locally"),i(An.PLAYING),l(0),d(3),y(1),te(!1)},Se=async()=>{try{await Qv(So)}catch(Ue){console.error("Error signing out",Ue)}},qe=Ue=>{L(Ue)};return I.jsx("div",{className:"relative w-full h-[100dvh] bg-black overflow-hidden font-sans select-none flex justify-center items-center ios-inset-padding in-app-height-fix",children:I.jsxs("div",{className:"game-container relative w-full h-full max-h-[100dvh] md:max-w-md lg:max-w-lg xl:max-w-xl 2xl:max-w-2xl md:max-h-[85vh] xl:max-h-[90vh] md:aspect-[2/3] bg-gray-900 shadow-2xl overflow-hidden border-0 md:border-2 border-[#14F195]/20 rounded-none md:rounded-3xl wallet-resize",children:[I.jsx(KI,{gameState:e,setGameState:i,setScore:l,setLives:d,setMultiplier:y,onGameOver:se}),e===An.PLAYING&&I.jsxs("div",{className:"absolute inset-0 pointer-events-none flex flex-col justify-between z-20",children:[I.jsxs("div",{className:"w-full p-4 sm:p-6 flex justify-between items-start safe-area-inset-top",children:[I.jsx("div",{className:"flex flex-col gap-2",children:I.jsx("div",{className:"bg-gradient-to-r from-lime-500/10 to-green-500/10 backdrop-blur-md border-2 border-lime-400/50 rounded-2xl px-4 py-3 shadow-[0_0_25px_rgba(132,204,22,0.4)]",children:I.jsxs("div",{className:"flex items-center gap-2",children:[I.jsxs("div",{className:"text-white",children:[I.jsx("div",{className:"text-xs font-bold uppercase tracking-wider text-lime-400",children:"Score"}),I.jsx("div",{className:"text-xl sm:text-2xl font-black text-lime-400 leading-none",children:a.toLocaleString()})]}),g>1&&I.jsxs("div",{className:"flex items-center gap-1",children:[I.jsx("span",{className:"text-orange-400 text-lg",children:""}),I.jsx("span",{className:"text-orange-400 font-black text-xl",children:g})]})]})})}),I.jsx("div",{className:"bg-gradient-to-r from-red-500/10 to-orange-500/10 backdrop-blur-md border-2 border-red-400/50 rounded-2xl px-4 py-3 shadow-[0_0_25px_rgba(239,68,68,0.4)]",children:I.jsxs("div",{className:"text-center",children:[I.jsx("div",{className:"text-xs font-bold uppercase tracking-wider text-red-400 mb-1",children:"Lives"}),I.jsx("div",{className:"flex gap-1",children:Array.from({length:c},(Ue,Oe)=>I.jsx("span",{className:"text-red-400 text-lg",children:""},Oe))})]})})]}),I.jsx("div",{className:"w-full p-4 sm:p-6 safe-area-inset-bottom",children:I.jsx("div",{className:"max-w-xs mx-auto",children:I.jsx("div",{className:"bg-black/40 backdrop-blur-sm border border-white/20 rounded-xl px-4 py-2",children:I.jsx("div",{className:"text-center text-white text-sm sm:text-base",children:I.jsxs("div",{className:"flex items-center justify-center gap-4",children:[I.jsx("span",{children:" Arrow Keys"}),I.jsx("span",{children:""}),I.jsx("span",{children:" Swipe"}),g>1&&I.jsxs(I.Fragment,{children:[I.jsx("span",{children:""}),I.jsxs("span",{className:"text-orange-400",children:[g," Combo!"]})]})]})})})})}),g>1&&I.jsx("div",{className:"absolute inset-0 pointer-events-none bg-gradient-to-br from-orange-500/5 to-red-500/5 animate-pulse"})]}),(e===An.MENU||e===An.GAME_OVER)&&I.jsxs("div",{className:"absolute inset-0 z-30 flex flex-col items-center justify-center bg-black/80 backdrop-blur-md text-white p-4 sm:p-6 safe-area-inset",children:[I.jsx("div",{className:"absolute inset-0 z-[-1] opacity-40 bg-clip-reveal",style:{backgroundImage:'url("assets/background-new.jpg")',backgroundSize:"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat"}}),e===An.MENU&&!ae&&I.jsxs("div",{className:"flex flex-col items-center justify-center w-full h-full max-w-full relative px-4 sm:px-6",children:[A?I.jsxs("div",{className:"absolute top-4 sm:top-6 left-4 sm:left-6 flex items-center gap-2 scroll-fade-in scroll-delay-1 z-20",children:[I.jsx("img",{src:A.photoURL||"",alt:A.displayName||"",className:"w-10 h-10 rounded-full border-2 border-lime-500/50"}),I.jsxs("div",{className:"flex flex-col",children:[I.jsx("span",{className:"text-body-sm font-bold text-white",children:A.displayName}),I.jsx("button",{onClick:Se,className:"text-xs text-red-500 hover:underline",children:"Sign Out"})]})]}):I.jsx("div",{className:"absolute top-4 sm:top-6 left-4 sm:left-6 flex items-center gap-2 scroll-fade-in scroll-delay-1 z-20",children:I.jsxs("div",{className:"flex items-center gap-2 bg-gradient-to-br from-lime-500/20 to-green-500/20 backdrop-blur-md px-3 py-1.5 rounded-full border-2 border-lime-500/50 shadow-[0_0_25px_rgba(132,204,22,0.4)]",children:[I.jsx("span",{className:"text-base",children:""}),I.jsxs("div",{className:"flex flex-col",children:[I.jsx("span",{className:"text-[9px] text-lime-400/70 uppercase font-black tracking-widest leading-none",children:"Best"}),I.jsx("span",{className:"text-body-sm font-black text-lime-400 leading-none mt-0.5",children:_})]})]})}),I.jsx("button",{onClick:()=>te(!0),className:"absolute top-4 sm:top-6 right-4 sm:right-6 min-w-touch min-h-touch p-2.5 bg-white/5 backdrop-blur-sm rounded-full border border-white/10 text-white/70 hover:text-lime-400 hover:border-lime-400/50 transition-all hover:scale-110 scroll-fade-in scroll-delay-1 z-20","aria-label":"Settings",children:I.jsx(BE,{className:"w-5 h-5"})}),I.jsx("div",{className:"flex flex-col items-center w-full",children:I.jsxs("div",{className:"relative scroll-blur-in scroll-delay-2 -mt-[10rem] sm:-mt-[15rem] md:-mt-[20rem]",children:[I.jsx("div",{className:"absolute -inset-10 bg-gradient-to-r from-lime-500 via-orange-500 to-lime-500 opacity-30 blur-3xl rounded-full animate-pulse"}),I.jsxs("h1",{className:"relative text-center",children:[I.jsx("span",{className:"block text-[3rem] xs:text-[3.5rem] sm:text-[4.5rem] md:text-[5.5rem] lg:text-[6rem] font-black tracking-tight leading-none text-white drop-shadow-[0_0_30px_rgba(255,255,255,0.5)] animate-float",style:{textShadow:"0 0 40px rgba(132, 204, 22, 0.8), 0 0 80px rgba(249, 115, 22, 0.6)"},children:I.jsx(Yd,{text:"GORBAGE"})}),I.jsx("span",{className:"block text-[1.5rem] xs:text-[1.8rem] sm:text-[2.2rem] md:text-[2.5rem] lg:text-[3rem] font-black leading-none text-lime-400 -mt-1",style:{filter:"drop-shadow(0 0 20px rgba(132, 204, 22, 0.9))",letterSpacing:"0.35em",paddingLeft:"0.35em"},children:I.jsx(Yd,{text:"TRUCK GAME"})})]}),I.jsx("p",{className:"text-gray-400 text-sm sm:text-base md:text-lg font-bold uppercase tracking-[0.3em] text-center mt-5 scroll-fade-in scroll-delay-4 drop-shadow-lg",children:"Collect  Dodge  Survive"})]})}),I.jsx("div",{className:"absolute bottom-52 xs:bottom-56 sm:bottom-60 left-0 right-0 w-full flex flex-col items-center px-4 sm:px-6 scroll-fade-in scroll-delay-4",children:q?I.jsx("div",{className:"text-gray-400 text-sm font-semibold",children:"Loading..."}):I.jsx(_N,{user:A,onAuthStateChange:qe})}),I.jsxs("div",{className:"absolute bottom-20 xs:bottom-24 sm:bottom-28 left-0 right-0 w-full flex flex-col items-center space-y-3 sm:space-y-4 px-4 sm:px-6 scroll-fade-in scroll-delay-5",children:[I.jsxs("button",{onClick:Ee,className:"w-full max-w-[90%] xs:max-w-[300px] min-h-touch py-3 xs:py-4 sm:py-5 bg-gradient-to-r from-lime-500 via-green-500 to-lime-500 text-black text-base sm:text-lg md:text-xl lg:text-2xl font-black rounded-2xl shadow-[0_0_60px_rgba(132,204,22,0.6)] hover:shadow-[0_0_90px_rgba(132,204,22,0.8)] transition-all transform hover:scale-105 active:scale-95 flex items-center justify-center gap-2 sm:gap-3 uppercase tracking-wider relative overflow-hidden group pill-button btn-beam",children:[I.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/25 to-transparent translate-x-[-100%] group-hover:translate-x-[100%] transition-transform duration-1000"}),I.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"w-6 h-6 sm:w-7 sm:h-7 relative z-10",viewBox:"0 0 24 24",fill:"currentColor",stroke:"none",children:I.jsx("path",{d:"M5 3l14 9-14 9V3z"})}),I.jsx("span",{className:"relative z-10",children:"Play Now"})]}),I.jsx("p",{className:"text-gray-400 text-sm xs:text-base sm:text-lg md:text-xl font-semibold text-center max-w-xs sm:max-w-sm leading-relaxed px-2 sm:px-4",children:A?"Drive the gorbage truck & collect trash!":"Sign in with X to save your scores online! (optional)"})]}),I.jsx("div",{className:"absolute bottom-0 left-0 right-0 w-full scroll-fade-in scroll-delay-7 overflow-hidden",children:I.jsx(AN,{})})]}),ae&&I.jsx(TN,{onClose:()=>te(!1)}),e===An.GAME_OVER&&I.jsx("div",{className:"relative w-full h-full flex items-center justify-center safe-area-inset animate-in fade-in duration-500",children:I.jsxs("div",{className:"flex flex-col items-center justify-center w-full h-full max-w-md mx-auto px-4 relative",children:[I.jsxs("div",{className:"relative mb-8",children:[I.jsx("div",{className:"absolute -inset-6 bg-gradient-to-r from-red-500 via-orange-500 to-red-500 opacity-20 blur-2xl rounded-full animate-pulse"}),I.jsx("h1",{className:"relative text-center",children:I.jsx("span",{className:"block text-4xl xs:text-5xl sm:text-6xl font-black tracking-tight leading-none text-white drop-shadow-[0_0_20px_rgba(255,255,255,0.5)] animate-float",children:I.jsx(Yd,{text:"GAME OVER"})})})]}),I.jsxs("div",{className:"space-y-4 w-full max-w-sm mb-8",children:[I.jsx("div",{className:"bg-gradient-to-r from-gray-800/90 to-gray-900/90 backdrop-blur-md border border-white/10 rounded-2xl p-6 shadow-2xl",children:I.jsxs("div",{className:"text-center",children:[I.jsx("div",{className:"text-sm font-bold text-gray-400 uppercase tracking-wider mb-2",children:"Final Score"}),I.jsx("div",{className:"text-3xl sm:text-4xl font-black text-lime-400",children:a.toLocaleString()})]})}),I.jsx("div",{className:"bg-gradient-to-r from-yellow-900/20 to-orange-900/20 backdrop-blur-md border border-yellow-500/30 rounded-2xl p-6 shadow-2xl",children:I.jsxs("div",{className:"text-center",children:[I.jsxs("div",{className:"text-sm font-bold text-yellow-400 uppercase tracking-wider mb-2 flex items-center justify-center gap-2",children:[I.jsx("span",{className:"text-xl",children:""})," High Score"]}),I.jsx("div",{className:"text-3xl sm:text-4xl font-black text-yellow-400",children:_.toLocaleString()}),a===_&&a>0&&I.jsx("div",{className:"mt-2 text-sm font-bold text-lime-400 animate-pulse",children:"New High Score! "})]})}),I.jsxs("div",{className:"flex justify-between gap-3",children:[I.jsxs("div",{className:"bg-white/5 backdrop-blur-sm border border-white/10 rounded-xl p-3 flex-1 text-center",children:[I.jsx("div",{className:"text-xs font-bold text-gray-400 uppercase tracking-wider",children:"Lives Left"}),I.jsx("div",{className:"text-xl font-black text-red-400",children:c})]}),I.jsxs("div",{className:"bg-white/5 backdrop-blur-sm border border-white/10 rounded-xl p-3 flex-1 text-center",children:[I.jsx("div",{className:"text-xs font-bold text-gray-400 uppercase tracking-wider",children:"Multiplier"}),I.jsxs("div",{className:"text-xl font-black text-orange-400",children:[g,"x"]})]})]})]}),I.jsxs("div",{className:"space-y-3 w-full max-w-sm",children:[I.jsxs("button",{onClick:Ee,className:"w-full min-h-touch py-4 bg-gradient-to-r from-lime-500 via-green-500 to-lime-500 text-black text-lg font-black rounded-2xl shadow-[0_0_60px_rgba(132,204,22,0.6)] hover:shadow-[0_0_90px_rgba(132,204,22,0.8)] transition-all transform hover:scale-105 active:scale-95 flex items-center justify-center gap-3 uppercase tracking-wider relative overflow-hidden group pill-button",children:[I.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/25 to-transparent translate-x-[-100%] group-hover:translate-x-[100%] transition-transform duration-1000"}),I.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"w-6 h-6 relative z-10",viewBox:"0 0 24 24",fill:"currentColor",stroke:"none",children:I.jsx("path",{d:"M4 4l16 8-16 8V4z"})}),I.jsx("span",{className:"relative z-10",children:"Play Again"})]}),I.jsx("button",{onClick:()=>i(An.MENU),className:"w-full min-h-touch py-3 bg-white/10 hover:bg-white/20 backdrop-blur-sm border border-white/20 text-white text-base font-bold rounded-xl transition-all",children:"Back to Menu"})]}),I.jsx("div",{className:"mt-8 text-center text-gray-500 text-sm",children:A?"Score saved to your account":"Scores saved locally"})]})})]})]})})},wN=()=>I.jsx(FI,{children:I.jsx(bN,{})}),HE=document.getElementById("root");if(!HE)throw new Error("Could not find root element to mount to");const RN=xS.createRoot(HE);RN.render(I.jsx(SS.StrictMode,{children:I.jsx(wN,{})}));
