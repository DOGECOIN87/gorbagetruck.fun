(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))a(l);new MutationObserver(l=>{for(const c of l)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&a(d)}).observe(document,{childList:!0,subtree:!0});function i(l){const c={};return l.integrity&&(c.integrity=l.integrity),l.referrerPolicy&&(c.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?c.credentials="include":l.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function a(l){if(l.ep)return;l.ep=!0;const c=i(l);fetch(l.href,c)}})();function gv(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}var Id={exports:{}},Dl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var C_;function _S(){if(C_)return Dl;C_=1;var s=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function i(a,l,c){var d=null;if(c!==void 0&&(d=""+c),l.key!==void 0&&(d=""+l.key),"key"in l){c={};for(var p in l)p!=="key"&&(c[p]=l[p])}else c=l;return l=c.ref,{$$typeof:s,type:a,key:d,ref:l!==void 0?l:null,props:c}}return Dl.Fragment=t,Dl.jsx=i,Dl.jsxs=i,Dl}var I_;function vS(){return I_||(I_=1,Id.exports=_S()),Id.exports}var ut=vS(),Nd={exports:{}},Lt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var N_;function TS(){if(N_)return Lt;N_=1;var s=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),_=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),w=Symbol.for("react.activity"),x=Symbol.iterator;function G(L){return L===null||typeof L!="object"?null:(L=x&&L[x]||L["@@iterator"],typeof L=="function"?L:null)}var rt={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},st=Object.assign,nt={};function St(L,K,at){this.props=L,this.context=K,this.refs=nt,this.updater=at||rt}St.prototype.isReactComponent={},St.prototype.setState=function(L,K){if(typeof L!="object"&&typeof L!="function"&&L!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,L,K,"setState")},St.prototype.forceUpdate=function(L){this.updater.enqueueForceUpdate(this,L,"forceUpdate")};function Tt(){}Tt.prototype=St.prototype;function pt(L,K,at){this.props=L,this.context=K,this.refs=nt,this.updater=at||rt}var Gt=pt.prototype=new Tt;Gt.constructor=pt,st(Gt,St.prototype),Gt.isPureReactComponent=!0;var re=Array.isArray;function kt(){}var D={H:null,A:null,T:null,S:null},b=Object.prototype.hasOwnProperty;function I(L,K,at){var ct=at.ref;return{$$typeof:s,type:L,key:K,ref:ct!==void 0?ct:null,props:at}}function V(L,K){return I(L.type,K,L.props)}function O(L){return typeof L=="object"&&L!==null&&L.$$typeof===s}function k(L){var K={"=":"=0",":":"=2"};return"$"+L.replace(/[=:]/g,function(at){return K[at]})}var C=/\/+/g;function fe(L,K){return typeof L=="object"&&L!==null&&L.key!=null?k(""+L.key):K.toString(36)}function Se(L){switch(L.status){case"fulfilled":return L.value;case"rejected":throw L.reason;default:switch(typeof L.status=="string"?L.then(kt,kt):(L.status="pending",L.then(function(K){L.status==="pending"&&(L.status="fulfilled",L.value=K)},function(K){L.status==="pending"&&(L.status="rejected",L.reason=K)})),L.status){case"fulfilled":return L.value;case"rejected":throw L.reason}}throw L}function Y(L,K,at,ct,It){var Ot=typeof L;(Ot==="undefined"||Ot==="boolean")&&(L=null);var Kt=!1;if(L===null)Kt=!0;else switch(Ot){case"bigint":case"string":case"number":Kt=!0;break;case"object":switch(L.$$typeof){case s:case t:Kt=!0;break;case A:return Kt=L._init,Y(Kt(L._payload),K,at,ct,It)}}if(Kt)return It=It(L),Kt=ct===""?"."+fe(L,0):ct,re(It)?(at="",Kt!=null&&(at=Kt.replace(C,"$&/")+"/"),Y(It,K,at,"",function(tr){return tr})):It!=null&&(O(It)&&(It=V(It,at+(It.key==null||L&&L.key===It.key?"":(""+It.key).replace(C,"$&/")+"/")+Kt)),K.push(It)),1;Kt=0;var xe=ct===""?".":ct+":";if(re(L))for(var bt=0;bt<L.length;bt++)ct=L[bt],Ot=xe+fe(ct,bt),Kt+=Y(ct,K,at,Ot,It);else if(bt=G(L),typeof bt=="function")for(L=bt.call(L),bt=0;!(ct=L.next()).done;)ct=ct.value,Ot=xe+fe(ct,bt++),Kt+=Y(ct,K,at,Ot,It);else if(Ot==="object"){if(typeof L.then=="function")return Y(Se(L),K,at,ct,It);throw K=String(L),Error("Objects are not valid as a React child (found: "+(K==="[object Object]"?"object with keys {"+Object.keys(L).join(", ")+"}":K)+"). If you meant to render a collection of children, use an array instead.")}return Kt}function ot(L,K,at){if(L==null)return L;var ct=[],It=0;return Y(L,ct,"","",function(Ot){return K.call(at,Ot,It++)}),ct}function yt(L){if(L._status===-1){var K=L._result;K=K(),K.then(function(at){(L._status===0||L._status===-1)&&(L._status=1,L._result=at)},function(at){(L._status===0||L._status===-1)&&(L._status=2,L._result=at)}),L._status===-1&&(L._status=0,L._result=K)}if(L._status===1)return L._result.default;throw L._result}var Ft=typeof reportError=="function"?reportError:function(L){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var K=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof L=="object"&&L!==null&&typeof L.message=="string"?String(L.message):String(L),error:L});if(!window.dispatchEvent(K))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",L);return}console.error(L)},ie={map:ot,forEach:function(L,K,at){ot(L,function(){K.apply(this,arguments)},at)},count:function(L){var K=0;return ot(L,function(){K++}),K},toArray:function(L){return ot(L,function(K){return K})||[]},only:function(L){if(!O(L))throw Error("React.Children.only expected to receive a single React element child.");return L}};return Lt.Activity=w,Lt.Children=ie,Lt.Component=St,Lt.Fragment=i,Lt.Profiler=l,Lt.PureComponent=pt,Lt.StrictMode=a,Lt.Suspense=y,Lt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=D,Lt.__COMPILER_RUNTIME={__proto__:null,c:function(L){return D.H.useMemoCache(L)}},Lt.cache=function(L){return function(){return L.apply(null,arguments)}},Lt.cacheSignal=function(){return null},Lt.cloneElement=function(L,K,at){if(L==null)throw Error("The argument must be a React element, but you passed "+L+".");var ct=st({},L.props),It=L.key;if(K!=null)for(Ot in K.key!==void 0&&(It=""+K.key),K)!b.call(K,Ot)||Ot==="key"||Ot==="__self"||Ot==="__source"||Ot==="ref"&&K.ref===void 0||(ct[Ot]=K[Ot]);var Ot=arguments.length-2;if(Ot===1)ct.children=at;else if(1<Ot){for(var Kt=Array(Ot),xe=0;xe<Ot;xe++)Kt[xe]=arguments[xe+2];ct.children=Kt}return I(L.type,It,ct)},Lt.createContext=function(L){return L={$$typeof:d,_currentValue:L,_currentValue2:L,_threadCount:0,Provider:null,Consumer:null},L.Provider=L,L.Consumer={$$typeof:c,_context:L},L},Lt.createElement=function(L,K,at){var ct,It={},Ot=null;if(K!=null)for(ct in K.key!==void 0&&(Ot=""+K.key),K)b.call(K,ct)&&ct!=="key"&&ct!=="__self"&&ct!=="__source"&&(It[ct]=K[ct]);var Kt=arguments.length-2;if(Kt===1)It.children=at;else if(1<Kt){for(var xe=Array(Kt),bt=0;bt<Kt;bt++)xe[bt]=arguments[bt+2];It.children=xe}if(L&&L.defaultProps)for(ct in Kt=L.defaultProps,Kt)It[ct]===void 0&&(It[ct]=Kt[ct]);return I(L,Ot,It)},Lt.createRef=function(){return{current:null}},Lt.forwardRef=function(L){return{$$typeof:p,render:L}},Lt.isValidElement=O,Lt.lazy=function(L){return{$$typeof:A,_payload:{_status:-1,_result:L},_init:yt}},Lt.memo=function(L,K){return{$$typeof:_,type:L,compare:K===void 0?null:K}},Lt.startTransition=function(L){var K=D.T,at={};D.T=at;try{var ct=L(),It=D.S;It!==null&&It(at,ct),typeof ct=="object"&&ct!==null&&typeof ct.then=="function"&&ct.then(kt,Ft)}catch(Ot){Ft(Ot)}finally{K!==null&&at.types!==null&&(K.types=at.types),D.T=K}},Lt.unstable_useCacheRefresh=function(){return D.H.useCacheRefresh()},Lt.use=function(L){return D.H.use(L)},Lt.useActionState=function(L,K,at){return D.H.useActionState(L,K,at)},Lt.useCallback=function(L,K){return D.H.useCallback(L,K)},Lt.useContext=function(L){return D.H.useContext(L)},Lt.useDebugValue=function(){},Lt.useDeferredValue=function(L,K){return D.H.useDeferredValue(L,K)},Lt.useEffect=function(L,K){return D.H.useEffect(L,K)},Lt.useEffectEvent=function(L){return D.H.useEffectEvent(L)},Lt.useId=function(){return D.H.useId()},Lt.useImperativeHandle=function(L,K,at){return D.H.useImperativeHandle(L,K,at)},Lt.useInsertionEffect=function(L,K){return D.H.useInsertionEffect(L,K)},Lt.useLayoutEffect=function(L,K){return D.H.useLayoutEffect(L,K)},Lt.useMemo=function(L,K){return D.H.useMemo(L,K)},Lt.useOptimistic=function(L,K){return D.H.useOptimistic(L,K)},Lt.useReducer=function(L,K,at){return D.H.useReducer(L,K,at)},Lt.useRef=function(L){return D.H.useRef(L)},Lt.useState=function(L){return D.H.useState(L)},Lt.useSyncExternalStore=function(L,K,at){return D.H.useSyncExternalStore(L,K,at)},Lt.useTransition=function(){return D.H.useTransition()},Lt.version="19.2.0",Lt}var D_;function ym(){return D_||(D_=1,Nd.exports=TS()),Nd.exports}var gt=ym();const ES=gv(gt);var Dd={exports:{}},Ol={},Od={exports:{}},Md={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var O_;function SS(){return O_||(O_=1,(function(s){function t(Y,ot){var yt=Y.length;Y.push(ot);t:for(;0<yt;){var Ft=yt-1>>>1,ie=Y[Ft];if(0<l(ie,ot))Y[Ft]=ot,Y[yt]=ie,yt=Ft;else break t}}function i(Y){return Y.length===0?null:Y[0]}function a(Y){if(Y.length===0)return null;var ot=Y[0],yt=Y.pop();if(yt!==ot){Y[0]=yt;t:for(var Ft=0,ie=Y.length,L=ie>>>1;Ft<L;){var K=2*(Ft+1)-1,at=Y[K],ct=K+1,It=Y[ct];if(0>l(at,yt))ct<ie&&0>l(It,at)?(Y[Ft]=It,Y[ct]=yt,Ft=ct):(Y[Ft]=at,Y[K]=yt,Ft=K);else if(ct<ie&&0>l(It,yt))Y[Ft]=It,Y[ct]=yt,Ft=ct;else break t}}return ot}function l(Y,ot){var yt=Y.sortIndex-ot.sortIndex;return yt!==0?yt:Y.id-ot.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;s.unstable_now=function(){return c.now()}}else{var d=Date,p=d.now();s.unstable_now=function(){return d.now()-p}}var y=[],_=[],A=1,w=null,x=3,G=!1,rt=!1,st=!1,nt=!1,St=typeof setTimeout=="function"?setTimeout:null,Tt=typeof clearTimeout=="function"?clearTimeout:null,pt=typeof setImmediate<"u"?setImmediate:null;function Gt(Y){for(var ot=i(_);ot!==null;){if(ot.callback===null)a(_);else if(ot.startTime<=Y)a(_),ot.sortIndex=ot.expirationTime,t(y,ot);else break;ot=i(_)}}function re(Y){if(st=!1,Gt(Y),!rt)if(i(y)!==null)rt=!0,kt||(kt=!0,k());else{var ot=i(_);ot!==null&&Se(re,ot.startTime-Y)}}var kt=!1,D=-1,b=5,I=-1;function V(){return nt?!0:!(s.unstable_now()-I<b)}function O(){if(nt=!1,kt){var Y=s.unstable_now();I=Y;var ot=!0;try{t:{rt=!1,st&&(st=!1,Tt(D),D=-1),G=!0;var yt=x;try{e:{for(Gt(Y),w=i(y);w!==null&&!(w.expirationTime>Y&&V());){var Ft=w.callback;if(typeof Ft=="function"){w.callback=null,x=w.priorityLevel;var ie=Ft(w.expirationTime<=Y);if(Y=s.unstable_now(),typeof ie=="function"){w.callback=ie,Gt(Y),ot=!0;break e}w===i(y)&&a(y),Gt(Y)}else a(y);w=i(y)}if(w!==null)ot=!0;else{var L=i(_);L!==null&&Se(re,L.startTime-Y),ot=!1}}break t}finally{w=null,x=yt,G=!1}ot=void 0}}finally{ot?k():kt=!1}}}var k;if(typeof pt=="function")k=function(){pt(O)};else if(typeof MessageChannel<"u"){var C=new MessageChannel,fe=C.port2;C.port1.onmessage=O,k=function(){fe.postMessage(null)}}else k=function(){St(O,0)};function Se(Y,ot){D=St(function(){Y(s.unstable_now())},ot)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(Y){Y.callback=null},s.unstable_forceFrameRate=function(Y){0>Y||125<Y?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):b=0<Y?Math.floor(1e3/Y):5},s.unstable_getCurrentPriorityLevel=function(){return x},s.unstable_next=function(Y){switch(x){case 1:case 2:case 3:var ot=3;break;default:ot=x}var yt=x;x=ot;try{return Y()}finally{x=yt}},s.unstable_requestPaint=function(){nt=!0},s.unstable_runWithPriority=function(Y,ot){switch(Y){case 1:case 2:case 3:case 4:case 5:break;default:Y=3}var yt=x;x=Y;try{return ot()}finally{x=yt}},s.unstable_scheduleCallback=function(Y,ot,yt){var Ft=s.unstable_now();switch(typeof yt=="object"&&yt!==null?(yt=yt.delay,yt=typeof yt=="number"&&0<yt?Ft+yt:Ft):yt=Ft,Y){case 1:var ie=-1;break;case 2:ie=250;break;case 5:ie=1073741823;break;case 4:ie=1e4;break;default:ie=5e3}return ie=yt+ie,Y={id:A++,callback:ot,priorityLevel:Y,startTime:yt,expirationTime:ie,sortIndex:-1},yt>Ft?(Y.sortIndex=yt,t(_,Y),i(y)===null&&Y===i(_)&&(st?(Tt(D),D=-1):st=!0,Se(re,yt-Ft))):(Y.sortIndex=ie,t(y,Y),rt||G||(rt=!0,kt||(kt=!0,k()))),Y},s.unstable_shouldYield=V,s.unstable_wrapCallback=function(Y){var ot=x;return function(){var yt=x;x=ot;try{return Y.apply(this,arguments)}finally{x=yt}}}})(Md)),Md}var M_;function AS(){return M_||(M_=1,Od.exports=SS()),Od.exports}var Vd={exports:{}},pn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var V_;function bS(){if(V_)return pn;V_=1;var s=ym();function t(y){var _="https://react.dev/errors/"+y;if(1<arguments.length){_+="?args[]="+encodeURIComponent(arguments[1]);for(var A=2;A<arguments.length;A++)_+="&args[]="+encodeURIComponent(arguments[A])}return"Minified React error #"+y+"; visit "+_+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var a={d:{f:i,r:function(){throw Error(t(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},l=Symbol.for("react.portal");function c(y,_,A){var w=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:w==null?null:""+w,children:y,containerInfo:_,implementation:A}}var d=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(y,_){if(y==="font")return"";if(typeof _=="string")return _==="use-credentials"?_:""}return pn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,pn.createPortal=function(y,_){var A=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_||_.nodeType!==1&&_.nodeType!==9&&_.nodeType!==11)throw Error(t(299));return c(y,_,null,A)},pn.flushSync=function(y){var _=d.T,A=a.p;try{if(d.T=null,a.p=2,y)return y()}finally{d.T=_,a.p=A,a.d.f()}},pn.preconnect=function(y,_){typeof y=="string"&&(_?(_=_.crossOrigin,_=typeof _=="string"?_==="use-credentials"?_:"":void 0):_=null,a.d.C(y,_))},pn.prefetchDNS=function(y){typeof y=="string"&&a.d.D(y)},pn.preinit=function(y,_){if(typeof y=="string"&&_&&typeof _.as=="string"){var A=_.as,w=p(A,_.crossOrigin),x=typeof _.integrity=="string"?_.integrity:void 0,G=typeof _.fetchPriority=="string"?_.fetchPriority:void 0;A==="style"?a.d.S(y,typeof _.precedence=="string"?_.precedence:void 0,{crossOrigin:w,integrity:x,fetchPriority:G}):A==="script"&&a.d.X(y,{crossOrigin:w,integrity:x,fetchPriority:G,nonce:typeof _.nonce=="string"?_.nonce:void 0})}},pn.preinitModule=function(y,_){if(typeof y=="string")if(typeof _=="object"&&_!==null){if(_.as==null||_.as==="script"){var A=p(_.as,_.crossOrigin);a.d.M(y,{crossOrigin:A,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0})}}else _==null&&a.d.M(y)},pn.preload=function(y,_){if(typeof y=="string"&&typeof _=="object"&&_!==null&&typeof _.as=="string"){var A=_.as,w=p(A,_.crossOrigin);a.d.L(y,A,{crossOrigin:w,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0,type:typeof _.type=="string"?_.type:void 0,fetchPriority:typeof _.fetchPriority=="string"?_.fetchPriority:void 0,referrerPolicy:typeof _.referrerPolicy=="string"?_.referrerPolicy:void 0,imageSrcSet:typeof _.imageSrcSet=="string"?_.imageSrcSet:void 0,imageSizes:typeof _.imageSizes=="string"?_.imageSizes:void 0,media:typeof _.media=="string"?_.media:void 0})}},pn.preloadModule=function(y,_){if(typeof y=="string")if(_){var A=p(_.as,_.crossOrigin);a.d.m(y,{as:typeof _.as=="string"&&_.as!=="script"?_.as:void 0,crossOrigin:A,integrity:typeof _.integrity=="string"?_.integrity:void 0})}else a.d.m(y)},pn.requestFormReset=function(y){a.d.r(y)},pn.unstable_batchedUpdates=function(y,_){return y(_)},pn.useFormState=function(y,_,A){return d.H.useFormState(y,_,A)},pn.useFormStatus=function(){return d.H.useHostTransitionStatus()},pn.version="19.2.0",pn}var L_;function wS(){if(L_)return Vd.exports;L_=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(t){console.error(t)}}return s(),Vd.exports=bS(),Vd.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var x_;function RS(){if(x_)return Ol;x_=1;var s=AS(),t=ym(),i=wS();function a(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)n+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function c(e){var n=e,r=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(r=n.return),e=n.return;while(e)}return n.tag===3?r:null}function d(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function p(e){if(e.tag===31){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function y(e){if(c(e)!==e)throw Error(a(188))}function _(e){var n=e.alternate;if(!n){if(n=c(e),n===null)throw Error(a(188));return n!==e?null:e}for(var r=e,o=n;;){var h=r.return;if(h===null)break;var f=h.alternate;if(f===null){if(o=h.return,o!==null){r=o;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===r)return y(h),e;if(f===o)return y(h),n;f=f.sibling}throw Error(a(188))}if(r.return!==o.return)r=h,o=f;else{for(var g=!1,E=h.child;E;){if(E===r){g=!0,r=h,o=f;break}if(E===o){g=!0,o=h,r=f;break}E=E.sibling}if(!g){for(E=f.child;E;){if(E===r){g=!0,r=f,o=h;break}if(E===o){g=!0,o=f,r=h;break}E=E.sibling}if(!g)throw Error(a(189))}}if(r.alternate!==o)throw Error(a(190))}if(r.tag!==3)throw Error(a(188));return r.stateNode.current===r?e:n}function A(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=A(e),n!==null)return n;e=e.sibling}return null}var w=Object.assign,x=Symbol.for("react.element"),G=Symbol.for("react.transitional.element"),rt=Symbol.for("react.portal"),st=Symbol.for("react.fragment"),nt=Symbol.for("react.strict_mode"),St=Symbol.for("react.profiler"),Tt=Symbol.for("react.consumer"),pt=Symbol.for("react.context"),Gt=Symbol.for("react.forward_ref"),re=Symbol.for("react.suspense"),kt=Symbol.for("react.suspense_list"),D=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),I=Symbol.for("react.activity"),V=Symbol.for("react.memo_cache_sentinel"),O=Symbol.iterator;function k(e){return e===null||typeof e!="object"?null:(e=O&&e[O]||e["@@iterator"],typeof e=="function"?e:null)}var C=Symbol.for("react.client.reference");function fe(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===C?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case st:return"Fragment";case St:return"Profiler";case nt:return"StrictMode";case re:return"Suspense";case kt:return"SuspenseList";case I:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case rt:return"Portal";case pt:return e.displayName||"Context";case Tt:return(e._context.displayName||"Context")+".Consumer";case Gt:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case D:return n=e.displayName||null,n!==null?n:fe(e.type)||"Memo";case b:n=e._payload,e=e._init;try{return fe(e(n))}catch{}}return null}var Se=Array.isArray,Y=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ot=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,yt={pending:!1,data:null,method:null,action:null},Ft=[],ie=-1;function L(e){return{current:e}}function K(e){0>ie||(e.current=Ft[ie],Ft[ie]=null,ie--)}function at(e,n){ie++,Ft[ie]=e.current,e.current=n}var ct=L(null),It=L(null),Ot=L(null),Kt=L(null);function xe(e,n){switch(at(Ot,n),at(It,e),at(ct,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?Zy(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=Zy(n),e=Jy(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}K(ct),at(ct,e)}function bt(){K(ct),K(It),K(Ot)}function tr(e){e.memoizedState!==null&&at(Kt,e);var n=ct.current,r=Jy(n,e.type);n!==r&&(at(It,e),at(ct,r))}function Or(e){It.current===e&&(K(ct),K(It)),Kt.current===e&&(K(Kt),Rl._currentValue=yt)}var Mr,Vr;function Ln(e){if(Mr===void 0)try{throw Error()}catch(r){var n=r.stack.trim().match(/\n( *(at )?)/);Mr=n&&n[1]||"",Vr=-1<r.stack.indexOf(`
    at`)?" (<anonymous>)":-1<r.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Mr+e+Vr}var wn=!1;function er(e,n){if(!e||wn)return"";wn=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(n){var Z=function(){throw Error()};if(Object.defineProperty(Z.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Z,[])}catch(H){var j=H}Reflect.construct(e,[],Z)}else{try{Z.call()}catch(H){j=H}e.call(Z.prototype)}}else{try{throw Error()}catch(H){j=H}(Z=e())&&typeof Z.catch=="function"&&Z.catch(function(){})}}catch(H){if(H&&j&&typeof H.stack=="string")return[H.stack,j.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=o.DetermineComponentFrameRoot(),g=f[0],E=f[1];if(g&&E){var N=g.split(`
`),B=E.split(`
`);for(h=o=0;o<N.length&&!N[o].includes("DetermineComponentFrameRoot");)o++;for(;h<B.length&&!B[h].includes("DetermineComponentFrameRoot");)h++;if(o===N.length||h===B.length)for(o=N.length-1,h=B.length-1;1<=o&&0<=h&&N[o]!==B[h];)h--;for(;1<=o&&0<=h;o--,h--)if(N[o]!==B[h]){if(o!==1||h!==1)do if(o--,h--,0>h||N[o]!==B[h]){var Q=`
`+N[o].replace(" at new "," at ");return e.displayName&&Q.includes("<anonymous>")&&(Q=Q.replace("<anonymous>",e.displayName)),Q}while(1<=o&&0<=h);break}}}finally{wn=!1,Error.prepareStackTrace=r}return(r=e?e.displayName||e.name:"")?Ln(r):""}function Ns(e,n){switch(e.tag){case 26:case 27:case 5:return Ln(e.type);case 16:return Ln("Lazy");case 13:return e.child!==n&&n!==null?Ln("Suspense Fallback"):Ln("Suspense");case 19:return Ln("SuspenseList");case 0:case 15:return er(e.type,!1);case 11:return er(e.type.render,!1);case 1:return er(e.type,!0);case 31:return Ln("Activity");default:return""}}function Ds(e){try{var n="",r=null;do n+=Ns(e,r),r=e,e=e.return;while(e);return n}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}var Me=Object.prototype.hasOwnProperty,ke=s.unstable_scheduleCallback,wi=s.unstable_cancelCallback,Lr=s.unstable_shouldYield,Os=s.unstable_requestPaint,on=s.unstable_now,nr=s.unstable_getCurrentPriorityLevel,ir=s.unstable_ImmediatePriority,rr=s.unstable_UserBlockingPriority,Yn=s.unstable_NormalPriority,Ms=s.unstable_LowPriority,T=s.unstable_IdlePriority,R=s.log,F=s.unstable_setDisableYieldValue,W=null,J=null;function tt(e){if(typeof R=="function"&&F(e),J&&typeof J.setStrictMode=="function")try{J.setStrictMode(W,e)}catch{}}var ft=Math.clz32?Math.clz32:qt,Mt=Math.log,wt=Math.LN2;function qt(e){return e>>>=0,e===0?32:31-(Mt(e)/wt|0)|0}var vt=256,se=262144,Ht=4194304;function de(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Ae(e,n,r){var o=e.pendingLanes;if(o===0)return 0;var h=0,f=e.suspendedLanes,g=e.pingedLanes;e=e.warmLanes;var E=o&134217727;return E!==0?(o=E&~f,o!==0?h=de(o):(g&=E,g!==0?h=de(g):r||(r=E&~e,r!==0&&(h=de(r))))):(E=o&~f,E!==0?h=de(E):g!==0?h=de(g):r||(r=o&~e,r!==0&&(h=de(r)))),h===0?0:n!==0&&n!==h&&(n&f)===0&&(f=h&-h,r=n&-n,f>=r||f===32&&(r&4194048)!==0)?n:h}function it(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function Bt(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function De(){var e=Ht;return Ht<<=1,(Ht&62914560)===0&&(Ht=4194304),e}function Nt(e){for(var n=[],r=0;31>r;r++)n.push(e);return n}function le(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Ut(e,n,r,o,h,f){var g=e.pendingLanes;e.pendingLanes=r,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=r,e.entangledLanes&=r,e.errorRecoveryDisabledLanes&=r,e.shellSuspendCounter=0;var E=e.entanglements,N=e.expirationTimes,B=e.hiddenUpdates;for(r=g&~r;0<r;){var Q=31-ft(r),Z=1<<Q;E[Q]=0,N[Q]=-1;var j=B[Q];if(j!==null)for(B[Q]=null,Q=0;Q<j.length;Q++){var H=j[Q];H!==null&&(H.lane&=-536870913)}r&=~Z}o!==0&&te(e,o,0),f!==0&&h===0&&e.tag!==0&&(e.suspendedLanes|=f&~(g&~n))}function te(e,n,r){e.pendingLanes|=n,e.suspendedLanes&=~n;var o=31-ft(n);e.entangledLanes|=n,e.entanglements[o]=e.entanglements[o]|1073741824|r&261930}function oi(e,n){var r=e.entangledLanes|=n;for(e=e.entanglements;r;){var o=31-ft(r),h=1<<o;h&n|e[o]&n&&(e[o]|=n),r&=~h}}function li(e,n){var r=n&-n;return r=(r&42)!==0?1:ui(r),(r&(e.suspendedLanes|n))!==0?0:r}function ui(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function xn(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function _a(){var e=ot.p;return e!==0?e:(e=window.event,e===void 0?32:T_(e.type))}function ci(e,n){var r=ot.p;try{return ot.p=e,n()}finally{ot.p=r}}var hi=Math.random().toString(36).slice(2),qe="__reactFiber$"+hi,nn="__reactProps$"+hi,Ri="__reactContainer$"+hi,va="__reactEvents$"+hi,Vh="__reactListeners$"+hi,cu="__reactHandles$"+hi,hu="__reactResources$"+hi,Ci="__reactMarker$"+hi;function Ta(e){delete e[qe],delete e[nn],delete e[va],delete e[Vh],delete e[cu]}function Ii(e){var n=e[qe];if(n)return n;for(var r=e.parentNode;r;){if(n=r[Ri]||r[qe]){if(r=n.alternate,n.child!==null||r!==null&&r.child!==null)for(e=r_(e);e!==null;){if(r=e[qe])return r;e=r_(e)}return n}e=r,r=e.parentNode}return null}function Qn(e){if(e=e[qe]||e[Ri]){var n=e.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return e}return null}function kn(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(a(33))}function Ni(e){var n=e[hu];return n||(n=e[hu]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function He(e){e[Ci]=!0}var Vo=new Set,Lo={};function Di(e,n){Oi(e,n),Oi(e+"Capture",n)}function Oi(e,n){for(Lo[e]=n,e=0;e<n.length;e++)Vo.add(n[e])}var xo=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),ko={},Uo={};function fu(e){return Me.call(Uo,e)?!0:Me.call(ko,e)?!1:xo.test(e)?Uo[e]=!0:(ko[e]=!0,!1)}function Ea(e,n,r){if(fu(n))if(r===null)e.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var o=n.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+r)}}function Un(e,n,r){if(r===null)e.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+r)}}function Ge(e,n,r,o){if(o===null)e.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(r);return}e.setAttributeNS(n,r,""+o)}}function rn(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function xr(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function Po(e,n,r){var o=Object.getOwnPropertyDescriptor(e.constructor.prototype,n);if(!e.hasOwnProperty(n)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var h=o.get,f=o.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return h.call(this)},set:function(g){r=""+g,f.call(this,g)}}),Object.defineProperty(e,n,{enumerable:o.enumerable}),{getValue:function(){return r},setValue:function(g){r=""+g},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function me(e){if(!e._valueTracker){var n=xr(e)?"checked":"value";e._valueTracker=Po(e,n,""+e[n])}}function Vs(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var r=n.getValue(),o="";return e&&(o=xr(e)?e.checked?"true":"false":e.value),e=o,e!==r?(n.setValue(e),!0):!1}function Mi(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Ls=/[\n"\\]/g;function Rn(e){return e.replace(Ls,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function Sa(e,n,r,o,h,f,g,E){e.name="",g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"?e.type=g:e.removeAttribute("type"),n!=null?g==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+rn(n)):e.value!==""+rn(n)&&(e.value=""+rn(n)):g!=="submit"&&g!=="reset"||e.removeAttribute("value"),n!=null?zo(e,g,rn(n)):r!=null?zo(e,g,rn(r)):o!=null&&e.removeAttribute("value"),h==null&&f!=null&&(e.defaultChecked=!!f),h!=null&&(e.checked=h&&typeof h!="function"&&typeof h!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?e.name=""+rn(E):e.removeAttribute("name")}function du(e,n,r,o,h,f,g,E){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(e.type=f),n!=null||r!=null){if(!(f!=="submit"&&f!=="reset"||n!=null)){me(e);return}r=r!=null?""+rn(r):"",n=n!=null?""+rn(n):r,E||n===e.value||(e.value=n),e.defaultValue=n}o=o??h,o=typeof o!="function"&&typeof o!="symbol"&&!!o,e.checked=E?e.checked:!!o,e.defaultChecked=!!o,g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(e.name=g),me(e)}function zo(e,n,r){n==="number"&&Mi(e.ownerDocument)===e||e.defaultValue===""+r||(e.defaultValue=""+r)}function kr(e,n,r,o){if(e=e.options,n){n={};for(var h=0;h<r.length;h++)n["$"+r[h]]=!0;for(r=0;r<e.length;r++)h=n.hasOwnProperty("$"+e[r].value),e[r].selected!==h&&(e[r].selected=h),h&&o&&(e[r].defaultSelected=!0)}else{for(r=""+rn(r),n=null,h=0;h<e.length;h++){if(e[h].value===r){e[h].selected=!0,o&&(e[h].defaultSelected=!0);return}n!==null||e[h].disabled||(n=e[h])}n!==null&&(n.selected=!0)}}function mu(e,n,r){if(n!=null&&(n=""+rn(n),n!==e.value&&(e.value=n),r==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=r!=null?""+rn(r):""}function Ur(e,n,r,o){if(n==null){if(o!=null){if(r!=null)throw Error(a(92));if(Se(o)){if(1<o.length)throw Error(a(93));o=o[0]}r=o}r==null&&(r=""),n=r}r=rn(n),e.defaultValue=r,o=e.textContent,o===r&&o!==""&&o!==null&&(e.value=o),me(e)}function Cn(e,n){if(n){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=n;return}}e.textContent=n}var gu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Bo(e,n,r){var o=n.indexOf("--")===0;r==null||typeof r=="boolean"||r===""?o?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":o?e.setProperty(n,r):typeof r!="number"||r===0||gu.has(n)?n==="float"?e.cssFloat=r:e[n]=(""+r).trim():e[n]=r+"px"}function jo(e,n,r){if(n!=null&&typeof n!="object")throw Error(a(62));if(e=e.style,r!=null){for(var o in r)!r.hasOwnProperty(o)||n!=null&&n.hasOwnProperty(o)||(o.indexOf("--")===0?e.setProperty(o,""):o==="float"?e.cssFloat="":e[o]="");for(var h in n)o=n[h],n.hasOwnProperty(h)&&r[h]!==o&&Bo(e,h,o)}else for(var f in n)n.hasOwnProperty(f)&&Bo(e,f,n[f])}function Aa(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var pu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Pr=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ba(e){return Pr.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function fi(){}var qo=null;function Kn(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var zr=null,Vi=null;function xs(e){var n=Qn(e);if(n&&(e=n.stateNode)){var r=e[nn]||null;t:switch(e=n.stateNode,n.type){case"input":if(Sa(e,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name),n=r.name,r.type==="radio"&&n!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll('input[name="'+Rn(""+n)+'"][type="radio"]'),n=0;n<r.length;n++){var o=r[n];if(o!==e&&o.form===e.form){var h=o[nn]||null;if(!h)throw Error(a(90));Sa(o,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<r.length;n++)o=r[n],o.form===e.form&&Vs(o)}break t;case"textarea":mu(e,r.value,r.defaultValue);break t;case"select":n=r.value,n!=null&&kr(e,!!r.multiple,n,!1)}}}var wa=!1;function Br(e,n,r){if(wa)return e(n,r);wa=!0;try{var o=e(n);return o}finally{if(wa=!1,(zr!==null||Vi!==null)&&(uc(),zr&&(n=zr,e=Vi,Vi=zr=null,xs(n),e)))for(n=0;n<e.length;n++)xs(e[n])}}function di(e,n){var r=e.stateNode;if(r===null)return null;var o=r[nn]||null;if(o===null)return null;r=o[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(e=e.type,o=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!o;break t;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(a(231,n,typeof r));return r}var Xn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ks=!1;if(Xn)try{var ye={};Object.defineProperty(ye,"passive",{get:function(){ks=!0}}),window.addEventListener("test",ye,ye),window.removeEventListener("test",ye,ye)}catch{ks=!1}var Li=null,Ho=null,Us=null;function Go(){if(Us)return Us;var e,n=Ho,r=n.length,o,h="value"in Li?Li.value:Li.textContent,f=h.length;for(e=0;e<r&&n[e]===h[e];e++);var g=r-e;for(o=1;o<=g&&n[r-o]===h[f-o];o++);return Us=h.slice(e,1<o?1-o:void 0)}function Ps(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function sr(){return!0}function mi(){return!1}function ln(e){function n(r,o,h,f,g){this._reactName=r,this._targetInst=h,this.type=o,this.nativeEvent=f,this.target=g,this.currentTarget=null;for(var E in e)e.hasOwnProperty(E)&&(r=e[E],this[E]=r?r(f):f[E]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?sr:mi,this.isPropagationStopped=mi,this}return w(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=sr)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=sr)},persist:function(){},isPersistent:sr}),n}var ar={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},xi=ln(ar),jr=w({},ar,{view:0,detail:0}),Fo=ln(jr),qr,Ra,ki,Ca=w({},jr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Hr,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ki&&(ki&&e.type==="mousemove"?(qr=e.screenX-ki.screenX,Ra=e.screenY-ki.screenY):Ra=qr=0,ki=e),qr)},movementY:function(e){return"movementY"in e?e.movementY:Ra}}),Yo=ln(Ca),zs=w({},Ca,{dataTransfer:0}),yu=ln(zs),_u=w({},jr,{relatedTarget:0}),Bs=ln(_u),Qo=w({},ar,{animationName:0,elapsedTime:0,pseudoElement:0}),vu=ln(Qo),Ia=w({},ar,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Tu=ln(Ia),Eu=w({},ar,{data:0}),Ui=ln(Eu),Su={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Au={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},bu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function wu(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=bu[e])?!!n[e]:!1}function Hr(){return wu}var En=w({},jr,{key:function(e){if(e.key){var n=Su[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=Ps(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Au[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Hr,charCode:function(e){return e.type==="keypress"?Ps(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Ps(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Ru=ln(En),Cu=w({},Ca,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),or=ln(Cu),u=w({},jr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Hr}),m=ln(u),v=w({},ar,{propertyName:0,elapsedTime:0,pseudoElement:0}),S=ln(v),P=w({},Ca,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),q=ln(P),lt=w({},ar,{newState:0,oldState:0}),Pt=ln(lt),Ue=[9,13,27,32],ue=Xn&&"CompositionEvent"in window,Ie=null;Xn&&"documentMode"in document&&(Ie=document.documentMode);var Zn=Xn&&"TextEvent"in window&&!Ie,Pi=Xn&&(!ue||Ie&&8<Ie&&11>=Ie),gi=" ",pi=!1;function js(e,n){switch(e){case"keyup":return Ue.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Na(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Da=!1;function qE(e,n){switch(e){case"compositionend":return Na(n);case"keypress":return n.which!==32?null:(pi=!0,gi);case"textInput":return e=n.data,e===gi&&pi?null:e;default:return null}}function HE(e,n){if(Da)return e==="compositionend"||!ue&&js(e,n)?(e=Go(),Us=Ho=Li=null,Da=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return Pi&&n.locale!=="ko"?null:n.data;default:return null}}var GE={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function og(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!GE[e.type]:n==="textarea"}function lg(e,n,r,o){zr?Vi?Vi.push(o):Vi=[o]:zr=o,n=pc(n,"onChange"),0<n.length&&(r=new xi("onChange","change",null,r,o),e.push({event:r,listeners:n}))}var Ko=null,Xo=null;function FE(e){Gy(e,0)}function Iu(e){var n=kn(e);if(Vs(n))return e}function ug(e,n){if(e==="change")return n}var cg=!1;if(Xn){var Lh;if(Xn){var xh="oninput"in document;if(!xh){var hg=document.createElement("div");hg.setAttribute("oninput","return;"),xh=typeof hg.oninput=="function"}Lh=xh}else Lh=!1;cg=Lh&&(!document.documentMode||9<document.documentMode)}function fg(){Ko&&(Ko.detachEvent("onpropertychange",dg),Xo=Ko=null)}function dg(e){if(e.propertyName==="value"&&Iu(Xo)){var n=[];lg(n,Xo,e,Kn(e)),Br(FE,n)}}function YE(e,n,r){e==="focusin"?(fg(),Ko=n,Xo=r,Ko.attachEvent("onpropertychange",dg)):e==="focusout"&&fg()}function QE(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Iu(Xo)}function KE(e,n){if(e==="click")return Iu(n)}function XE(e,n){if(e==="input"||e==="change")return Iu(n)}function ZE(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var Pn=typeof Object.is=="function"?Object.is:ZE;function Zo(e,n){if(Pn(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var r=Object.keys(e),o=Object.keys(n);if(r.length!==o.length)return!1;for(o=0;o<r.length;o++){var h=r[o];if(!Me.call(n,h)||!Pn(e[h],n[h]))return!1}return!0}function mg(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function gg(e,n){var r=mg(e);e=0;for(var o;r;){if(r.nodeType===3){if(o=e+r.textContent.length,e<=n&&o>=n)return{node:r,offset:n-e};e=o}t:{for(;r;){if(r.nextSibling){r=r.nextSibling;break t}r=r.parentNode}r=void 0}r=mg(r)}}function pg(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?pg(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function yg(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=Mi(e.document);n instanceof e.HTMLIFrameElement;){try{var r=typeof n.contentWindow.location.href=="string"}catch{r=!1}if(r)e=n.contentWindow;else break;n=Mi(e.document)}return n}function kh(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var JE=Xn&&"documentMode"in document&&11>=document.documentMode,Oa=null,Uh=null,Jo=null,Ph=!1;function _g(e,n,r){var o=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Ph||Oa==null||Oa!==Mi(o)||(o=Oa,"selectionStart"in o&&kh(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),Jo&&Zo(Jo,o)||(Jo=o,o=pc(Uh,"onSelect"),0<o.length&&(n=new xi("onSelect","select",null,n,r),e.push({event:n,listeners:o}),n.target=Oa)))}function qs(e,n){var r={};return r[e.toLowerCase()]=n.toLowerCase(),r["Webkit"+e]="webkit"+n,r["Moz"+e]="moz"+n,r}var Ma={animationend:qs("Animation","AnimationEnd"),animationiteration:qs("Animation","AnimationIteration"),animationstart:qs("Animation","AnimationStart"),transitionrun:qs("Transition","TransitionRun"),transitionstart:qs("Transition","TransitionStart"),transitioncancel:qs("Transition","TransitionCancel"),transitionend:qs("Transition","TransitionEnd")},zh={},vg={};Xn&&(vg=document.createElement("div").style,"AnimationEvent"in window||(delete Ma.animationend.animation,delete Ma.animationiteration.animation,delete Ma.animationstart.animation),"TransitionEvent"in window||delete Ma.transitionend.transition);function Hs(e){if(zh[e])return zh[e];if(!Ma[e])return e;var n=Ma[e],r;for(r in n)if(n.hasOwnProperty(r)&&r in vg)return zh[e]=n[r];return e}var Tg=Hs("animationend"),Eg=Hs("animationiteration"),Sg=Hs("animationstart"),$E=Hs("transitionrun"),WE=Hs("transitionstart"),t1=Hs("transitioncancel"),Ag=Hs("transitionend"),bg=new Map,Bh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Bh.push("scrollEnd");function yi(e,n){bg.set(e,n),Di(n,[e])}var Nu=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Jn=[],Va=0,jh=0;function Du(){for(var e=Va,n=jh=Va=0;n<e;){var r=Jn[n];Jn[n++]=null;var o=Jn[n];Jn[n++]=null;var h=Jn[n];Jn[n++]=null;var f=Jn[n];if(Jn[n++]=null,o!==null&&h!==null){var g=o.pending;g===null?h.next=h:(h.next=g.next,g.next=h),o.pending=h}f!==0&&wg(r,h,f)}}function Ou(e,n,r,o){Jn[Va++]=e,Jn[Va++]=n,Jn[Va++]=r,Jn[Va++]=o,jh|=o,e.lanes|=o,e=e.alternate,e!==null&&(e.lanes|=o)}function qh(e,n,r,o){return Ou(e,n,r,o),Mu(e)}function Gs(e,n){return Ou(e,null,null,n),Mu(e)}function wg(e,n,r){e.lanes|=r;var o=e.alternate;o!==null&&(o.lanes|=r);for(var h=!1,f=e.return;f!==null;)f.childLanes|=r,o=f.alternate,o!==null&&(o.childLanes|=r),f.tag===22&&(e=f.stateNode,e===null||e._visibility&1||(h=!0)),e=f,f=f.return;return e.tag===3?(f=e.stateNode,h&&n!==null&&(h=31-ft(r),e=f.hiddenUpdates,o=e[h],o===null?e[h]=[n]:o.push(n),n.lane=r|536870912),f):null}function Mu(e){if(50<vl)throw vl=0,$f=null,Error(a(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var La={};function e1(e,n,r,o){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function zn(e,n,r,o){return new e1(e,n,r,o)}function Hh(e){return e=e.prototype,!(!e||!e.isReactComponent)}function lr(e,n){var r=e.alternate;return r===null?(r=zn(e.tag,n,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=n,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&65011712,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,n=e.dependencies,r.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r.refCleanup=e.refCleanup,r}function Rg(e,n){e.flags&=65011714;var r=e.alternate;return r===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=r.childLanes,e.lanes=r.lanes,e.child=r.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=r.memoizedProps,e.memoizedState=r.memoizedState,e.updateQueue=r.updateQueue,e.type=r.type,n=r.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function Vu(e,n,r,o,h,f){var g=0;if(o=e,typeof e=="function")Hh(e)&&(g=1);else if(typeof e=="string")g=aS(e,r,ct.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case I:return e=zn(31,r,n,h),e.elementType=I,e.lanes=f,e;case st:return Fs(r.children,h,f,n);case nt:g=8,h|=24;break;case St:return e=zn(12,r,n,h|2),e.elementType=St,e.lanes=f,e;case re:return e=zn(13,r,n,h),e.elementType=re,e.lanes=f,e;case kt:return e=zn(19,r,n,h),e.elementType=kt,e.lanes=f,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case pt:g=10;break t;case Tt:g=9;break t;case Gt:g=11;break t;case D:g=14;break t;case b:g=16,o=null;break t}g=29,r=Error(a(130,e===null?"null":typeof e,"")),o=null}return n=zn(g,r,n,h),n.elementType=e,n.type=o,n.lanes=f,n}function Fs(e,n,r,o){return e=zn(7,e,o,n),e.lanes=r,e}function Gh(e,n,r){return e=zn(6,e,null,n),e.lanes=r,e}function Cg(e){var n=zn(18,null,null,0);return n.stateNode=e,n}function Fh(e,n,r){return n=zn(4,e.children!==null?e.children:[],e.key,n),n.lanes=r,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var Ig=new WeakMap;function $n(e,n){if(typeof e=="object"&&e!==null){var r=Ig.get(e);return r!==void 0?r:(n={value:e,source:n,stack:Ds(n)},Ig.set(e,n),n)}return{value:e,source:n,stack:Ds(n)}}var xa=[],ka=0,Lu=null,$o=0,Wn=[],ti=0,Gr=null,zi=1,Bi="";function ur(e,n){xa[ka++]=$o,xa[ka++]=Lu,Lu=e,$o=n}function Ng(e,n,r){Wn[ti++]=zi,Wn[ti++]=Bi,Wn[ti++]=Gr,Gr=e;var o=zi;e=Bi;var h=32-ft(o)-1;o&=~(1<<h),r+=1;var f=32-ft(n)+h;if(30<f){var g=h-h%5;f=(o&(1<<g)-1).toString(32),o>>=g,h-=g,zi=1<<32-ft(n)+h|r<<h|o,Bi=f+e}else zi=1<<f|r<<h|o,Bi=e}function Yh(e){e.return!==null&&(ur(e,1),Ng(e,1,0))}function Qh(e){for(;e===Lu;)Lu=xa[--ka],xa[ka]=null,$o=xa[--ka],xa[ka]=null;for(;e===Gr;)Gr=Wn[--ti],Wn[ti]=null,Bi=Wn[--ti],Wn[ti]=null,zi=Wn[--ti],Wn[ti]=null}function Dg(e,n){Wn[ti++]=zi,Wn[ti++]=Bi,Wn[ti++]=Gr,zi=n.id,Bi=n.overflow,Gr=e}var un=null,be=null,ee=!1,Fr=null,ei=!1,Kh=Error(a(519));function Yr(e){var n=Error(a(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Wo($n(n,e)),Kh}function Og(e){var n=e.stateNode,r=e.type,o=e.memoizedProps;switch(n[qe]=e,n[nn]=o,r){case"dialog":Qt("cancel",n),Qt("close",n);break;case"iframe":case"object":case"embed":Qt("load",n);break;case"video":case"audio":for(r=0;r<El.length;r++)Qt(El[r],n);break;case"source":Qt("error",n);break;case"img":case"image":case"link":Qt("error",n),Qt("load",n);break;case"details":Qt("toggle",n);break;case"input":Qt("invalid",n),du(n,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0);break;case"select":Qt("invalid",n);break;case"textarea":Qt("invalid",n),Ur(n,o.value,o.defaultValue,o.children)}r=o.children,typeof r!="string"&&typeof r!="number"&&typeof r!="bigint"||n.textContent===""+r||o.suppressHydrationWarning===!0||Ky(n.textContent,r)?(o.popover!=null&&(Qt("beforetoggle",n),Qt("toggle",n)),o.onScroll!=null&&Qt("scroll",n),o.onScrollEnd!=null&&Qt("scrollend",n),o.onClick!=null&&(n.onclick=fi),n=!0):n=!1,n||Yr(e,!0)}function Mg(e){for(un=e.return;un;)switch(un.tag){case 5:case 31:case 13:ei=!1;return;case 27:case 3:ei=!0;return;default:un=un.return}}function Ua(e){if(e!==un)return!1;if(!ee)return Mg(e),ee=!0,!1;var n=e.tag,r;if((r=n!==3&&n!==27)&&((r=n===5)&&(r=e.type,r=!(r!=="form"&&r!=="button")||dd(e.type,e.memoizedProps)),r=!r),r&&be&&Yr(e),Mg(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));be=i_(e)}else if(n===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));be=i_(e)}else n===27?(n=be,as(e.type)?(e=_d,_d=null,be=e):be=n):be=un?ii(e.stateNode.nextSibling):null;return!0}function Ys(){be=un=null,ee=!1}function Xh(){var e=Fr;return e!==null&&(On===null?On=e:On.push.apply(On,e),Fr=null),e}function Wo(e){Fr===null?Fr=[e]:Fr.push(e)}var Zh=L(null),Qs=null,cr=null;function Qr(e,n,r){at(Zh,n._currentValue),n._currentValue=r}function hr(e){e._currentValue=Zh.current,K(Zh)}function Jh(e,n,r){for(;e!==null;){var o=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,o!==null&&(o.childLanes|=n)):o!==null&&(o.childLanes&n)!==n&&(o.childLanes|=n),e===r)break;e=e.return}}function $h(e,n,r,o){var h=e.child;for(h!==null&&(h.return=e);h!==null;){var f=h.dependencies;if(f!==null){var g=h.child;f=f.firstContext;t:for(;f!==null;){var E=f;f=h;for(var N=0;N<n.length;N++)if(E.context===n[N]){f.lanes|=r,E=f.alternate,E!==null&&(E.lanes|=r),Jh(f.return,r,e),o||(g=null);break t}f=E.next}}else if(h.tag===18){if(g=h.return,g===null)throw Error(a(341));g.lanes|=r,f=g.alternate,f!==null&&(f.lanes|=r),Jh(g,r,e),g=null}else g=h.child;if(g!==null)g.return=h;else for(g=h;g!==null;){if(g===e){g=null;break}if(h=g.sibling,h!==null){h.return=g.return,g=h;break}g=g.return}h=g}}function Pa(e,n,r,o){e=null;for(var h=n,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var g=h.alternate;if(g===null)throw Error(a(387));if(g=g.memoizedProps,g!==null){var E=h.type;Pn(h.pendingProps.value,g.value)||(e!==null?e.push(E):e=[E])}}else if(h===Kt.current){if(g=h.alternate,g===null)throw Error(a(387));g.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(e!==null?e.push(Rl):e=[Rl])}h=h.return}e!==null&&$h(n,e,r,o),n.flags|=262144}function xu(e){for(e=e.firstContext;e!==null;){if(!Pn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Ks(e){Qs=e,cr=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function cn(e){return Vg(Qs,e)}function ku(e,n){return Qs===null&&Ks(e),Vg(e,n)}function Vg(e,n){var r=n._currentValue;if(n={context:n,memoizedValue:r,next:null},cr===null){if(e===null)throw Error(a(308));cr=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else cr=cr.next=n;return r}var n1=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(r,o){e.push(o)}};this.abort=function(){n.aborted=!0,e.forEach(function(r){return r()})}},i1=s.unstable_scheduleCallback,r1=s.unstable_NormalPriority,Fe={$$typeof:pt,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Wh(){return{controller:new n1,data:new Map,refCount:0}}function tl(e){e.refCount--,e.refCount===0&&i1(r1,function(){e.controller.abort()})}var el=null,tf=0,za=0,Ba=null;function s1(e,n){if(el===null){var r=el=[];tf=0,za=rd(),Ba={status:"pending",value:void 0,then:function(o){r.push(o)}}}return tf++,n.then(Lg,Lg),n}function Lg(){if(--tf===0&&el!==null){Ba!==null&&(Ba.status="fulfilled");var e=el;el=null,za=0,Ba=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function a1(e,n){var r=[],o={status:"pending",value:null,reason:null,then:function(h){r.push(h)}};return e.then(function(){o.status="fulfilled",o.value=n;for(var h=0;h<r.length;h++)(0,r[h])(n)},function(h){for(o.status="rejected",o.reason=h,h=0;h<r.length;h++)(0,r[h])(void 0)}),o}var xg=Y.S;Y.S=function(e,n){_y=on(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&s1(e,n),xg!==null&&xg(e,n)};var Xs=L(null);function ef(){var e=Xs.current;return e!==null?e:Ee.pooledCache}function Uu(e,n){n===null?at(Xs,Xs.current):at(Xs,n.pool)}function kg(){var e=ef();return e===null?null:{parent:Fe._currentValue,pool:e}}var ja=Error(a(460)),nf=Error(a(474)),Pu=Error(a(542)),zu={then:function(){}};function Ug(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Pg(e,n,r){switch(r=e[r],r===void 0?e.push(n):r!==n&&(n.then(fi,fi),n=r),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,Bg(e),e;default:if(typeof n.status=="string")n.then(fi,fi);else{if(e=Ee,e!==null&&100<e.shellSuspendCounter)throw Error(a(482));e=n,e.status="pending",e.then(function(o){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=o}},function(o){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=o}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,Bg(e),e}throw Js=n,ja}}function Zs(e){try{var n=e._init;return n(e._payload)}catch(r){throw r!==null&&typeof r=="object"&&typeof r.then=="function"?(Js=r,ja):r}}var Js=null;function zg(){if(Js===null)throw Error(a(459));var e=Js;return Js=null,e}function Bg(e){if(e===ja||e===Pu)throw Error(a(483))}var qa=null,nl=0;function Bu(e){var n=nl;return nl+=1,qa===null&&(qa=[]),Pg(qa,e,n)}function il(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function ju(e,n){throw n.$$typeof===x?Error(a(525)):(e=Object.prototype.toString.call(n),Error(a(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function jg(e){function n(U,M){if(e){var z=U.deletions;z===null?(U.deletions=[M],U.flags|=16):z.push(M)}}function r(U,M){if(!e)return null;for(;M!==null;)n(U,M),M=M.sibling;return null}function o(U){for(var M=new Map;U!==null;)U.key!==null?M.set(U.key,U):M.set(U.index,U),U=U.sibling;return M}function h(U,M){return U=lr(U,M),U.index=0,U.sibling=null,U}function f(U,M,z){return U.index=z,e?(z=U.alternate,z!==null?(z=z.index,z<M?(U.flags|=67108866,M):z):(U.flags|=67108866,M)):(U.flags|=1048576,M)}function g(U){return e&&U.alternate===null&&(U.flags|=67108866),U}function E(U,M,z,X){return M===null||M.tag!==6?(M=Gh(z,U.mode,X),M.return=U,M):(M=h(M,z),M.return=U,M)}function N(U,M,z,X){var Et=z.type;return Et===st?Q(U,M,z.props.children,X,z.key):M!==null&&(M.elementType===Et||typeof Et=="object"&&Et!==null&&Et.$$typeof===b&&Zs(Et)===M.type)?(M=h(M,z.props),il(M,z),M.return=U,M):(M=Vu(z.type,z.key,z.props,null,U.mode,X),il(M,z),M.return=U,M)}function B(U,M,z,X){return M===null||M.tag!==4||M.stateNode.containerInfo!==z.containerInfo||M.stateNode.implementation!==z.implementation?(M=Fh(z,U.mode,X),M.return=U,M):(M=h(M,z.children||[]),M.return=U,M)}function Q(U,M,z,X,Et){return M===null||M.tag!==7?(M=Fs(z,U.mode,X,Et),M.return=U,M):(M=h(M,z),M.return=U,M)}function Z(U,M,z){if(typeof M=="string"&&M!==""||typeof M=="number"||typeof M=="bigint")return M=Gh(""+M,U.mode,z),M.return=U,M;if(typeof M=="object"&&M!==null){switch(M.$$typeof){case G:return z=Vu(M.type,M.key,M.props,null,U.mode,z),il(z,M),z.return=U,z;case rt:return M=Fh(M,U.mode,z),M.return=U,M;case b:return M=Zs(M),Z(U,M,z)}if(Se(M)||k(M))return M=Fs(M,U.mode,z,null),M.return=U,M;if(typeof M.then=="function")return Z(U,Bu(M),z);if(M.$$typeof===pt)return Z(U,ku(U,M),z);ju(U,M)}return null}function j(U,M,z,X){var Et=M!==null?M.key:null;if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return Et!==null?null:E(U,M,""+z,X);if(typeof z=="object"&&z!==null){switch(z.$$typeof){case G:return z.key===Et?N(U,M,z,X):null;case rt:return z.key===Et?B(U,M,z,X):null;case b:return z=Zs(z),j(U,M,z,X)}if(Se(z)||k(z))return Et!==null?null:Q(U,M,z,X,null);if(typeof z.then=="function")return j(U,M,Bu(z),X);if(z.$$typeof===pt)return j(U,M,ku(U,z),X);ju(U,z)}return null}function H(U,M,z,X,Et){if(typeof X=="string"&&X!==""||typeof X=="number"||typeof X=="bigint")return U=U.get(z)||null,E(M,U,""+X,Et);if(typeof X=="object"&&X!==null){switch(X.$$typeof){case G:return U=U.get(X.key===null?z:X.key)||null,N(M,U,X,Et);case rt:return U=U.get(X.key===null?z:X.key)||null,B(M,U,X,Et);case b:return X=Zs(X),H(U,M,z,X,Et)}if(Se(X)||k(X))return U=U.get(z)||null,Q(M,U,X,Et,null);if(typeof X.then=="function")return H(U,M,z,Bu(X),Et);if(X.$$typeof===pt)return H(U,M,z,ku(M,X),Et);ju(M,X)}return null}function dt(U,M,z,X){for(var Et=null,ae=null,mt=M,jt=M=0,Zt=null;mt!==null&&jt<z.length;jt++){mt.index>jt?(Zt=mt,mt=null):Zt=mt.sibling;var oe=j(U,mt,z[jt],X);if(oe===null){mt===null&&(mt=Zt);break}e&&mt&&oe.alternate===null&&n(U,mt),M=f(oe,M,jt),ae===null?Et=oe:ae.sibling=oe,ae=oe,mt=Zt}if(jt===z.length)return r(U,mt),ee&&ur(U,jt),Et;if(mt===null){for(;jt<z.length;jt++)mt=Z(U,z[jt],X),mt!==null&&(M=f(mt,M,jt),ae===null?Et=mt:ae.sibling=mt,ae=mt);return ee&&ur(U,jt),Et}for(mt=o(mt);jt<z.length;jt++)Zt=H(mt,U,jt,z[jt],X),Zt!==null&&(e&&Zt.alternate!==null&&mt.delete(Zt.key===null?jt:Zt.key),M=f(Zt,M,jt),ae===null?Et=Zt:ae.sibling=Zt,ae=Zt);return e&&mt.forEach(function(hs){return n(U,hs)}),ee&&ur(U,jt),Et}function Rt(U,M,z,X){if(z==null)throw Error(a(151));for(var Et=null,ae=null,mt=M,jt=M=0,Zt=null,oe=z.next();mt!==null&&!oe.done;jt++,oe=z.next()){mt.index>jt?(Zt=mt,mt=null):Zt=mt.sibling;var hs=j(U,mt,oe.value,X);if(hs===null){mt===null&&(mt=Zt);break}e&&mt&&hs.alternate===null&&n(U,mt),M=f(hs,M,jt),ae===null?Et=hs:ae.sibling=hs,ae=hs,mt=Zt}if(oe.done)return r(U,mt),ee&&ur(U,jt),Et;if(mt===null){for(;!oe.done;jt++,oe=z.next())oe=Z(U,oe.value,X),oe!==null&&(M=f(oe,M,jt),ae===null?Et=oe:ae.sibling=oe,ae=oe);return ee&&ur(U,jt),Et}for(mt=o(mt);!oe.done;jt++,oe=z.next())oe=H(mt,U,jt,oe.value,X),oe!==null&&(e&&oe.alternate!==null&&mt.delete(oe.key===null?jt:oe.key),M=f(oe,M,jt),ae===null?Et=oe:ae.sibling=oe,ae=oe);return e&&mt.forEach(function(yS){return n(U,yS)}),ee&&ur(U,jt),Et}function Te(U,M,z,X){if(typeof z=="object"&&z!==null&&z.type===st&&z.key===null&&(z=z.props.children),typeof z=="object"&&z!==null){switch(z.$$typeof){case G:t:{for(var Et=z.key;M!==null;){if(M.key===Et){if(Et=z.type,Et===st){if(M.tag===7){r(U,M.sibling),X=h(M,z.props.children),X.return=U,U=X;break t}}else if(M.elementType===Et||typeof Et=="object"&&Et!==null&&Et.$$typeof===b&&Zs(Et)===M.type){r(U,M.sibling),X=h(M,z.props),il(X,z),X.return=U,U=X;break t}r(U,M);break}else n(U,M);M=M.sibling}z.type===st?(X=Fs(z.props.children,U.mode,X,z.key),X.return=U,U=X):(X=Vu(z.type,z.key,z.props,null,U.mode,X),il(X,z),X.return=U,U=X)}return g(U);case rt:t:{for(Et=z.key;M!==null;){if(M.key===Et)if(M.tag===4&&M.stateNode.containerInfo===z.containerInfo&&M.stateNode.implementation===z.implementation){r(U,M.sibling),X=h(M,z.children||[]),X.return=U,U=X;break t}else{r(U,M);break}else n(U,M);M=M.sibling}X=Fh(z,U.mode,X),X.return=U,U=X}return g(U);case b:return z=Zs(z),Te(U,M,z,X)}if(Se(z))return dt(U,M,z,X);if(k(z)){if(Et=k(z),typeof Et!="function")throw Error(a(150));return z=Et.call(z),Rt(U,M,z,X)}if(typeof z.then=="function")return Te(U,M,Bu(z),X);if(z.$$typeof===pt)return Te(U,M,ku(U,z),X);ju(U,z)}return typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint"?(z=""+z,M!==null&&M.tag===6?(r(U,M.sibling),X=h(M,z),X.return=U,U=X):(r(U,M),X=Gh(z,U.mode,X),X.return=U,U=X),g(U)):r(U,M)}return function(U,M,z,X){try{nl=0;var Et=Te(U,M,z,X);return qa=null,Et}catch(mt){if(mt===ja||mt===Pu)throw mt;var ae=zn(29,mt,null,U.mode);return ae.lanes=X,ae.return=U,ae}finally{}}}var $s=jg(!0),qg=jg(!1),Kr=!1;function rf(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function sf(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Xr(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Zr(e,n,r){var o=e.updateQueue;if(o===null)return null;if(o=o.shared,(ce&2)!==0){var h=o.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),o.pending=n,n=Mu(e),wg(e,null,r),n}return Ou(e,o,n,r),Mu(e)}function rl(e,n,r){if(n=n.updateQueue,n!==null&&(n=n.shared,(r&4194048)!==0)){var o=n.lanes;o&=e.pendingLanes,r|=o,n.lanes=r,oi(e,r)}}function af(e,n){var r=e.updateQueue,o=e.alternate;if(o!==null&&(o=o.updateQueue,r===o)){var h=null,f=null;if(r=r.firstBaseUpdate,r!==null){do{var g={lane:r.lane,tag:r.tag,payload:r.payload,callback:null,next:null};f===null?h=f=g:f=f.next=g,r=r.next}while(r!==null);f===null?h=f=n:f=f.next=n}else h=f=n;r={baseState:o.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:o.shared,callbacks:o.callbacks},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=n:e.next=n,r.lastBaseUpdate=n}var of=!1;function sl(){if(of){var e=Ba;if(e!==null)throw e}}function al(e,n,r,o){of=!1;var h=e.updateQueue;Kr=!1;var f=h.firstBaseUpdate,g=h.lastBaseUpdate,E=h.shared.pending;if(E!==null){h.shared.pending=null;var N=E,B=N.next;N.next=null,g===null?f=B:g.next=B,g=N;var Q=e.alternate;Q!==null&&(Q=Q.updateQueue,E=Q.lastBaseUpdate,E!==g&&(E===null?Q.firstBaseUpdate=B:E.next=B,Q.lastBaseUpdate=N))}if(f!==null){var Z=h.baseState;g=0,Q=B=N=null,E=f;do{var j=E.lane&-536870913,H=j!==E.lane;if(H?(Xt&j)===j:(o&j)===j){j!==0&&j===za&&(of=!0),Q!==null&&(Q=Q.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});t:{var dt=e,Rt=E;j=n;var Te=r;switch(Rt.tag){case 1:if(dt=Rt.payload,typeof dt=="function"){Z=dt.call(Te,Z,j);break t}Z=dt;break t;case 3:dt.flags=dt.flags&-65537|128;case 0:if(dt=Rt.payload,j=typeof dt=="function"?dt.call(Te,Z,j):dt,j==null)break t;Z=w({},Z,j);break t;case 2:Kr=!0}}j=E.callback,j!==null&&(e.flags|=64,H&&(e.flags|=8192),H=h.callbacks,H===null?h.callbacks=[j]:H.push(j))}else H={lane:j,tag:E.tag,payload:E.payload,callback:E.callback,next:null},Q===null?(B=Q=H,N=Z):Q=Q.next=H,g|=j;if(E=E.next,E===null){if(E=h.shared.pending,E===null)break;H=E,E=H.next,H.next=null,h.lastBaseUpdate=H,h.shared.pending=null}}while(!0);Q===null&&(N=Z),h.baseState=N,h.firstBaseUpdate=B,h.lastBaseUpdate=Q,f===null&&(h.shared.lanes=0),es|=g,e.lanes=g,e.memoizedState=Z}}function Hg(e,n){if(typeof e!="function")throw Error(a(191,e));e.call(n)}function Gg(e,n){var r=e.callbacks;if(r!==null)for(e.callbacks=null,e=0;e<r.length;e++)Hg(r[e],n)}var Ha=L(null),qu=L(0);function Fg(e,n){e=Tr,at(qu,e),at(Ha,n),Tr=e|n.baseLanes}function lf(){at(qu,Tr),at(Ha,Ha.current)}function uf(){Tr=qu.current,K(Ha),K(qu)}var Bn=L(null),ni=null;function Jr(e){var n=e.alternate;at(Pe,Pe.current&1),at(Bn,e),ni===null&&(n===null||Ha.current!==null||n.memoizedState!==null)&&(ni=e)}function cf(e){at(Pe,Pe.current),at(Bn,e),ni===null&&(ni=e)}function Yg(e){e.tag===22?(at(Pe,Pe.current),at(Bn,e),ni===null&&(ni=e)):$r()}function $r(){at(Pe,Pe.current),at(Bn,Bn.current)}function jn(e){K(Bn),ni===e&&(ni=null),K(Pe)}var Pe=L(0);function Hu(e){for(var n=e;n!==null;){if(n.tag===13){var r=n.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||pd(r)||yd(r)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var fr=0,zt=null,_e=null,Ye=null,Gu=!1,Ga=!1,Ws=!1,Fu=0,ol=0,Fa=null,o1=0;function Ve(){throw Error(a(321))}function hf(e,n){if(n===null)return!1;for(var r=0;r<n.length&&r<e.length;r++)if(!Pn(e[r],n[r]))return!1;return!0}function ff(e,n,r,o,h,f){return fr=f,zt=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,Y.H=e===null||e.memoizedState===null?Np:Cf,Ws=!1,f=r(o,h),Ws=!1,Ga&&(f=Kg(n,r,o,h)),Qg(e),f}function Qg(e){Y.H=cl;var n=_e!==null&&_e.next!==null;if(fr=0,Ye=_e=zt=null,Gu=!1,ol=0,Fa=null,n)throw Error(a(300));e===null||Qe||(e=e.dependencies,e!==null&&xu(e)&&(Qe=!0))}function Kg(e,n,r,o){zt=e;var h=0;do{if(Ga&&(Fa=null),ol=0,Ga=!1,25<=h)throw Error(a(301));if(h+=1,Ye=_e=null,e.updateQueue!=null){var f=e.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}Y.H=Dp,f=n(r,o)}while(Ga);return f}function l1(){var e=Y.H,n=e.useState()[0];return n=typeof n.then=="function"?ll(n):n,e=e.useState()[0],(_e!==null?_e.memoizedState:null)!==e&&(zt.flags|=1024),n}function df(){var e=Fu!==0;return Fu=0,e}function mf(e,n,r){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~r}function gf(e){if(Gu){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}Gu=!1}fr=0,Ye=_e=zt=null,Ga=!1,ol=Fu=0,Fa=null}function Sn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ye===null?zt.memoizedState=Ye=e:Ye=Ye.next=e,Ye}function ze(){if(_e===null){var e=zt.alternate;e=e!==null?e.memoizedState:null}else e=_e.next;var n=Ye===null?zt.memoizedState:Ye.next;if(n!==null)Ye=n,_e=e;else{if(e===null)throw zt.alternate===null?Error(a(467)):Error(a(310));_e=e,e={memoizedState:_e.memoizedState,baseState:_e.baseState,baseQueue:_e.baseQueue,queue:_e.queue,next:null},Ye===null?zt.memoizedState=Ye=e:Ye=Ye.next=e}return Ye}function Yu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ll(e){var n=ol;return ol+=1,Fa===null&&(Fa=[]),e=Pg(Fa,e,n),n=zt,(Ye===null?n.memoizedState:Ye.next)===null&&(n=n.alternate,Y.H=n===null||n.memoizedState===null?Np:Cf),e}function Qu(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return ll(e);if(e.$$typeof===pt)return cn(e)}throw Error(a(438,String(e)))}function pf(e){var n=null,r=zt.updateQueue;if(r!==null&&(n=r.memoCache),n==null){var o=zt.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(n={data:o.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),r===null&&(r=Yu(),zt.updateQueue=r),r.memoCache=n,r=n.data[n.index],r===void 0)for(r=n.data[n.index]=Array(e),o=0;o<e;o++)r[o]=V;return n.index++,r}function dr(e,n){return typeof n=="function"?n(e):n}function Ku(e){var n=ze();return yf(n,_e,e)}function yf(e,n,r){var o=e.queue;if(o===null)throw Error(a(311));o.lastRenderedReducer=r;var h=e.baseQueue,f=o.pending;if(f!==null){if(h!==null){var g=h.next;h.next=f.next,f.next=g}n.baseQueue=h=f,o.pending=null}if(f=e.baseState,h===null)e.memoizedState=f;else{n=h.next;var E=g=null,N=null,B=n,Q=!1;do{var Z=B.lane&-536870913;if(Z!==B.lane?(Xt&Z)===Z:(fr&Z)===Z){var j=B.revertLane;if(j===0)N!==null&&(N=N.next={lane:0,revertLane:0,gesture:null,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null}),Z===za&&(Q=!0);else if((fr&j)===j){B=B.next,j===za&&(Q=!0);continue}else Z={lane:0,revertLane:B.revertLane,gesture:null,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},N===null?(E=N=Z,g=f):N=N.next=Z,zt.lanes|=j,es|=j;Z=B.action,Ws&&r(f,Z),f=B.hasEagerState?B.eagerState:r(f,Z)}else j={lane:Z,revertLane:B.revertLane,gesture:B.gesture,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},N===null?(E=N=j,g=f):N=N.next=j,zt.lanes|=Z,es|=Z;B=B.next}while(B!==null&&B!==n);if(N===null?g=f:N.next=E,!Pn(f,e.memoizedState)&&(Qe=!0,Q&&(r=Ba,r!==null)))throw r;e.memoizedState=f,e.baseState=g,e.baseQueue=N,o.lastRenderedState=f}return h===null&&(o.lanes=0),[e.memoizedState,o.dispatch]}function _f(e){var n=ze(),r=n.queue;if(r===null)throw Error(a(311));r.lastRenderedReducer=e;var o=r.dispatch,h=r.pending,f=n.memoizedState;if(h!==null){r.pending=null;var g=h=h.next;do f=e(f,g.action),g=g.next;while(g!==h);Pn(f,n.memoizedState)||(Qe=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),r.lastRenderedState=f}return[f,o]}function Xg(e,n,r){var o=zt,h=ze(),f=ee;if(f){if(r===void 0)throw Error(a(407));r=r()}else r=n();var g=!Pn((_e||h).memoizedState,r);if(g&&(h.memoizedState=r,Qe=!0),h=h.queue,Ef($g.bind(null,o,h,e),[e]),h.getSnapshot!==n||g||Ye!==null&&Ye.memoizedState.tag&1){if(o.flags|=2048,Ya(9,{destroy:void 0},Jg.bind(null,o,h,r,n),null),Ee===null)throw Error(a(349));f||(fr&127)!==0||Zg(o,n,r)}return r}function Zg(e,n,r){e.flags|=16384,e={getSnapshot:n,value:r},n=zt.updateQueue,n===null?(n=Yu(),zt.updateQueue=n,n.stores=[e]):(r=n.stores,r===null?n.stores=[e]:r.push(e))}function Jg(e,n,r,o){n.value=r,n.getSnapshot=o,Wg(n)&&tp(e)}function $g(e,n,r){return r(function(){Wg(n)&&tp(e)})}function Wg(e){var n=e.getSnapshot;e=e.value;try{var r=n();return!Pn(e,r)}catch{return!0}}function tp(e){var n=Gs(e,2);n!==null&&Mn(n,e,2)}function vf(e){var n=Sn();if(typeof e=="function"){var r=e;if(e=r(),Ws){tt(!0);try{r()}finally{tt(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:dr,lastRenderedState:e},n}function ep(e,n,r,o){return e.baseState=r,yf(e,_e,typeof o=="function"?o:dr)}function u1(e,n,r,o,h){if(Ju(e))throw Error(a(485));if(e=n.action,e!==null){var f={payload:h,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(g){f.listeners.push(g)}};Y.T!==null?r(!0):f.isTransition=!1,o(f),r=n.pending,r===null?(f.next=n.pending=f,np(n,f)):(f.next=r.next,n.pending=r.next=f)}}function np(e,n){var r=n.action,o=n.payload,h=e.state;if(n.isTransition){var f=Y.T,g={};Y.T=g;try{var E=r(h,o),N=Y.S;N!==null&&N(g,E),ip(e,n,E)}catch(B){Tf(e,n,B)}finally{f!==null&&g.types!==null&&(f.types=g.types),Y.T=f}}else try{f=r(h,o),ip(e,n,f)}catch(B){Tf(e,n,B)}}function ip(e,n,r){r!==null&&typeof r=="object"&&typeof r.then=="function"?r.then(function(o){rp(e,n,o)},function(o){return Tf(e,n,o)}):rp(e,n,r)}function rp(e,n,r){n.status="fulfilled",n.value=r,sp(n),e.state=r,n=e.pending,n!==null&&(r=n.next,r===n?e.pending=null:(r=r.next,n.next=r,np(e,r)))}function Tf(e,n,r){var o=e.pending;if(e.pending=null,o!==null){o=o.next;do n.status="rejected",n.reason=r,sp(n),n=n.next;while(n!==o)}e.action=null}function sp(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function ap(e,n){return n}function op(e,n){if(ee){var r=Ee.formState;if(r!==null){t:{var o=zt;if(ee){if(be){e:{for(var h=be,f=ei;h.nodeType!==8;){if(!f){h=null;break e}if(h=ii(h.nextSibling),h===null){h=null;break e}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){be=ii(h.nextSibling),o=h.data==="F!";break t}}Yr(o)}o=!1}o&&(n=r[0])}}return r=Sn(),r.memoizedState=r.baseState=n,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ap,lastRenderedState:n},r.queue=o,r=Rp.bind(null,zt,o),o.dispatch=r,o=vf(!1),f=Rf.bind(null,zt,!1,o.queue),o=Sn(),h={state:n,dispatch:null,action:e,pending:null},o.queue=h,r=u1.bind(null,zt,h,f,r),h.dispatch=r,o.memoizedState=e,[n,r,!1]}function lp(e){var n=ze();return up(n,_e,e)}function up(e,n,r){if(n=yf(e,n,ap)[0],e=Ku(dr)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var o=ll(n)}catch(g){throw g===ja?Pu:g}else o=n;n=ze();var h=n.queue,f=h.dispatch;return r!==n.memoizedState&&(zt.flags|=2048,Ya(9,{destroy:void 0},c1.bind(null,h,r),null)),[o,f,e]}function c1(e,n){e.action=n}function cp(e){var n=ze(),r=_e;if(r!==null)return up(n,r,e);ze(),n=n.memoizedState,r=ze();var o=r.queue.dispatch;return r.memoizedState=e,[n,o,!1]}function Ya(e,n,r,o){return e={tag:e,create:r,deps:o,inst:n,next:null},n=zt.updateQueue,n===null&&(n=Yu(),zt.updateQueue=n),r=n.lastEffect,r===null?n.lastEffect=e.next=e:(o=r.next,r.next=e,e.next=o,n.lastEffect=e),e}function hp(){return ze().memoizedState}function Xu(e,n,r,o){var h=Sn();zt.flags|=e,h.memoizedState=Ya(1|n,{destroy:void 0},r,o===void 0?null:o)}function Zu(e,n,r,o){var h=ze();o=o===void 0?null:o;var f=h.memoizedState.inst;_e!==null&&o!==null&&hf(o,_e.memoizedState.deps)?h.memoizedState=Ya(n,f,r,o):(zt.flags|=e,h.memoizedState=Ya(1|n,f,r,o))}function fp(e,n){Xu(8390656,8,e,n)}function Ef(e,n){Zu(2048,8,e,n)}function h1(e){zt.flags|=4;var n=zt.updateQueue;if(n===null)n=Yu(),zt.updateQueue=n,n.events=[e];else{var r=n.events;r===null?n.events=[e]:r.push(e)}}function dp(e){var n=ze().memoizedState;return h1({ref:n,nextImpl:e}),function(){if((ce&2)!==0)throw Error(a(440));return n.impl.apply(void 0,arguments)}}function mp(e,n){return Zu(4,2,e,n)}function gp(e,n){return Zu(4,4,e,n)}function pp(e,n){if(typeof n=="function"){e=e();var r=n(e);return function(){typeof r=="function"?r():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function yp(e,n,r){r=r!=null?r.concat([e]):null,Zu(4,4,pp.bind(null,n,e),r)}function Sf(){}function _p(e,n){var r=ze();n=n===void 0?null:n;var o=r.memoizedState;return n!==null&&hf(n,o[1])?o[0]:(r.memoizedState=[e,n],e)}function vp(e,n){var r=ze();n=n===void 0?null:n;var o=r.memoizedState;if(n!==null&&hf(n,o[1]))return o[0];if(o=e(),Ws){tt(!0);try{e()}finally{tt(!1)}}return r.memoizedState=[o,n],o}function Af(e,n,r){return r===void 0||(fr&1073741824)!==0&&(Xt&261930)===0?e.memoizedState=n:(e.memoizedState=r,e=Ty(),zt.lanes|=e,es|=e,r)}function Tp(e,n,r,o){return Pn(r,n)?r:Ha.current!==null?(e=Af(e,r,o),Pn(e,n)||(Qe=!0),e):(fr&42)===0||(fr&1073741824)!==0&&(Xt&261930)===0?(Qe=!0,e.memoizedState=r):(e=Ty(),zt.lanes|=e,es|=e,n)}function Ep(e,n,r,o,h){var f=ot.p;ot.p=f!==0&&8>f?f:8;var g=Y.T,E={};Y.T=E,Rf(e,!1,n,r);try{var N=h(),B=Y.S;if(B!==null&&B(E,N),N!==null&&typeof N=="object"&&typeof N.then=="function"){var Q=a1(N,o);ul(e,n,Q,Gn(e))}else ul(e,n,o,Gn(e))}catch(Z){ul(e,n,{then:function(){},status:"rejected",reason:Z},Gn())}finally{ot.p=f,g!==null&&E.types!==null&&(g.types=E.types),Y.T=g}}function f1(){}function bf(e,n,r,o){if(e.tag!==5)throw Error(a(476));var h=Sp(e).queue;Ep(e,h,n,yt,r===null?f1:function(){return Ap(e),r(o)})}function Sp(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:yt,baseState:yt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:dr,lastRenderedState:yt},next:null};var r={};return n.next={memoizedState:r,baseState:r,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:dr,lastRenderedState:r},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function Ap(e){var n=Sp(e);n.next===null&&(n=e.alternate.memoizedState),ul(e,n.next.queue,{},Gn())}function wf(){return cn(Rl)}function bp(){return ze().memoizedState}function wp(){return ze().memoizedState}function d1(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var r=Gn();e=Xr(r);var o=Zr(n,e,r);o!==null&&(Mn(o,n,r),rl(o,n,r)),n={cache:Wh()},e.payload=n;return}n=n.return}}function m1(e,n,r){var o=Gn();r={lane:o,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},Ju(e)?Cp(n,r):(r=qh(e,n,r,o),r!==null&&(Mn(r,e,o),Ip(r,n,o)))}function Rp(e,n,r){var o=Gn();ul(e,n,r,o)}function ul(e,n,r,o){var h={lane:o,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null};if(Ju(e))Cp(n,h);else{var f=e.alternate;if(e.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var g=n.lastRenderedState,E=f(g,r);if(h.hasEagerState=!0,h.eagerState=E,Pn(E,g))return Ou(e,n,h,0),Ee===null&&Du(),!1}catch{}finally{}if(r=qh(e,n,h,o),r!==null)return Mn(r,e,o),Ip(r,n,o),!0}return!1}function Rf(e,n,r,o){if(o={lane:2,revertLane:rd(),gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},Ju(e)){if(n)throw Error(a(479))}else n=qh(e,r,o,2),n!==null&&Mn(n,e,2)}function Ju(e){var n=e.alternate;return e===zt||n!==null&&n===zt}function Cp(e,n){Ga=Gu=!0;var r=e.pending;r===null?n.next=n:(n.next=r.next,r.next=n),e.pending=n}function Ip(e,n,r){if((r&4194048)!==0){var o=n.lanes;o&=e.pendingLanes,r|=o,n.lanes=r,oi(e,r)}}var cl={readContext:cn,use:Qu,useCallback:Ve,useContext:Ve,useEffect:Ve,useImperativeHandle:Ve,useLayoutEffect:Ve,useInsertionEffect:Ve,useMemo:Ve,useReducer:Ve,useRef:Ve,useState:Ve,useDebugValue:Ve,useDeferredValue:Ve,useTransition:Ve,useSyncExternalStore:Ve,useId:Ve,useHostTransitionStatus:Ve,useFormState:Ve,useActionState:Ve,useOptimistic:Ve,useMemoCache:Ve,useCacheRefresh:Ve};cl.useEffectEvent=Ve;var Np={readContext:cn,use:Qu,useCallback:function(e,n){return Sn().memoizedState=[e,n===void 0?null:n],e},useContext:cn,useEffect:fp,useImperativeHandle:function(e,n,r){r=r!=null?r.concat([e]):null,Xu(4194308,4,pp.bind(null,n,e),r)},useLayoutEffect:function(e,n){return Xu(4194308,4,e,n)},useInsertionEffect:function(e,n){Xu(4,2,e,n)},useMemo:function(e,n){var r=Sn();n=n===void 0?null:n;var o=e();if(Ws){tt(!0);try{e()}finally{tt(!1)}}return r.memoizedState=[o,n],o},useReducer:function(e,n,r){var o=Sn();if(r!==void 0){var h=r(n);if(Ws){tt(!0);try{r(n)}finally{tt(!1)}}}else h=n;return o.memoizedState=o.baseState=h,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:h},o.queue=e,e=e.dispatch=m1.bind(null,zt,e),[o.memoizedState,e]},useRef:function(e){var n=Sn();return e={current:e},n.memoizedState=e},useState:function(e){e=vf(e);var n=e.queue,r=Rp.bind(null,zt,n);return n.dispatch=r,[e.memoizedState,r]},useDebugValue:Sf,useDeferredValue:function(e,n){var r=Sn();return Af(r,e,n)},useTransition:function(){var e=vf(!1);return e=Ep.bind(null,zt,e.queue,!0,!1),Sn().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,r){var o=zt,h=Sn();if(ee){if(r===void 0)throw Error(a(407));r=r()}else{if(r=n(),Ee===null)throw Error(a(349));(Xt&127)!==0||Zg(o,n,r)}h.memoizedState=r;var f={value:r,getSnapshot:n};return h.queue=f,fp($g.bind(null,o,f,e),[e]),o.flags|=2048,Ya(9,{destroy:void 0},Jg.bind(null,o,f,r,n),null),r},useId:function(){var e=Sn(),n=Ee.identifierPrefix;if(ee){var r=Bi,o=zi;r=(o&~(1<<32-ft(o)-1)).toString(32)+r,n="_"+n+"R_"+r,r=Fu++,0<r&&(n+="H"+r.toString(32)),n+="_"}else r=o1++,n="_"+n+"r_"+r.toString(32)+"_";return e.memoizedState=n},useHostTransitionStatus:wf,useFormState:op,useActionState:op,useOptimistic:function(e){var n=Sn();n.memoizedState=n.baseState=e;var r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=r,n=Rf.bind(null,zt,!0,r),r.dispatch=n,[e,n]},useMemoCache:pf,useCacheRefresh:function(){return Sn().memoizedState=d1.bind(null,zt)},useEffectEvent:function(e){var n=Sn(),r={impl:e};return n.memoizedState=r,function(){if((ce&2)!==0)throw Error(a(440));return r.impl.apply(void 0,arguments)}}},Cf={readContext:cn,use:Qu,useCallback:_p,useContext:cn,useEffect:Ef,useImperativeHandle:yp,useInsertionEffect:mp,useLayoutEffect:gp,useMemo:vp,useReducer:Ku,useRef:hp,useState:function(){return Ku(dr)},useDebugValue:Sf,useDeferredValue:function(e,n){var r=ze();return Tp(r,_e.memoizedState,e,n)},useTransition:function(){var e=Ku(dr)[0],n=ze().memoizedState;return[typeof e=="boolean"?e:ll(e),n]},useSyncExternalStore:Xg,useId:bp,useHostTransitionStatus:wf,useFormState:lp,useActionState:lp,useOptimistic:function(e,n){var r=ze();return ep(r,_e,e,n)},useMemoCache:pf,useCacheRefresh:wp};Cf.useEffectEvent=dp;var Dp={readContext:cn,use:Qu,useCallback:_p,useContext:cn,useEffect:Ef,useImperativeHandle:yp,useInsertionEffect:mp,useLayoutEffect:gp,useMemo:vp,useReducer:_f,useRef:hp,useState:function(){return _f(dr)},useDebugValue:Sf,useDeferredValue:function(e,n){var r=ze();return _e===null?Af(r,e,n):Tp(r,_e.memoizedState,e,n)},useTransition:function(){var e=_f(dr)[0],n=ze().memoizedState;return[typeof e=="boolean"?e:ll(e),n]},useSyncExternalStore:Xg,useId:bp,useHostTransitionStatus:wf,useFormState:cp,useActionState:cp,useOptimistic:function(e,n){var r=ze();return _e!==null?ep(r,_e,e,n):(r.baseState=e,[e,r.queue.dispatch])},useMemoCache:pf,useCacheRefresh:wp};Dp.useEffectEvent=dp;function If(e,n,r,o){n=e.memoizedState,r=r(o,n),r=r==null?n:w({},n,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var Nf={enqueueSetState:function(e,n,r){e=e._reactInternals;var o=Gn(),h=Xr(o);h.payload=n,r!=null&&(h.callback=r),n=Zr(e,h,o),n!==null&&(Mn(n,e,o),rl(n,e,o))},enqueueReplaceState:function(e,n,r){e=e._reactInternals;var o=Gn(),h=Xr(o);h.tag=1,h.payload=n,r!=null&&(h.callback=r),n=Zr(e,h,o),n!==null&&(Mn(n,e,o),rl(n,e,o))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var r=Gn(),o=Xr(r);o.tag=2,n!=null&&(o.callback=n),n=Zr(e,o,r),n!==null&&(Mn(n,e,r),rl(n,e,r))}};function Op(e,n,r,o,h,f,g){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(o,f,g):n.prototype&&n.prototype.isPureReactComponent?!Zo(r,o)||!Zo(h,f):!0}function Mp(e,n,r,o){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(r,o),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(r,o),n.state!==e&&Nf.enqueueReplaceState(n,n.state,null)}function ta(e,n){var r=n;if("ref"in n){r={};for(var o in n)o!=="ref"&&(r[o]=n[o])}if(e=e.defaultProps){r===n&&(r=w({},r));for(var h in e)r[h]===void 0&&(r[h]=e[h])}return r}function Vp(e){Nu(e)}function Lp(e){console.error(e)}function xp(e){Nu(e)}function $u(e,n){try{var r=e.onUncaughtError;r(n.value,{componentStack:n.stack})}catch(o){setTimeout(function(){throw o})}}function kp(e,n,r){try{var o=e.onCaughtError;o(r.value,{componentStack:r.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Df(e,n,r){return r=Xr(r),r.tag=3,r.payload={element:null},r.callback=function(){$u(e,n)},r}function Up(e){return e=Xr(e),e.tag=3,e}function Pp(e,n,r,o){var h=r.type.getDerivedStateFromError;if(typeof h=="function"){var f=o.value;e.payload=function(){return h(f)},e.callback=function(){kp(n,r,o)}}var g=r.stateNode;g!==null&&typeof g.componentDidCatch=="function"&&(e.callback=function(){kp(n,r,o),typeof h!="function"&&(ns===null?ns=new Set([this]):ns.add(this));var E=o.stack;this.componentDidCatch(o.value,{componentStack:E!==null?E:""})})}function g1(e,n,r,o,h){if(r.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(n=r.alternate,n!==null&&Pa(n,r,h,!0),r=Bn.current,r!==null){switch(r.tag){case 31:case 13:return ni===null?cc():r.alternate===null&&Le===0&&(Le=3),r.flags&=-257,r.flags|=65536,r.lanes=h,o===zu?r.flags|=16384:(n=r.updateQueue,n===null?r.updateQueue=new Set([o]):n.add(o),ed(e,o,h)),!1;case 22:return r.flags|=65536,o===zu?r.flags|=16384:(n=r.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([o])},r.updateQueue=n):(r=n.retryQueue,r===null?n.retryQueue=new Set([o]):r.add(o)),ed(e,o,h)),!1}throw Error(a(435,r.tag))}return ed(e,o,h),cc(),!1}if(ee)return n=Bn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,o!==Kh&&(e=Error(a(422),{cause:o}),Wo($n(e,r)))):(o!==Kh&&(n=Error(a(423),{cause:o}),Wo($n(n,r))),e=e.current.alternate,e.flags|=65536,h&=-h,e.lanes|=h,o=$n(o,r),h=Df(e.stateNode,o,h),af(e,h),Le!==4&&(Le=2)),!1;var f=Error(a(520),{cause:o});if(f=$n(f,r),_l===null?_l=[f]:_l.push(f),Le!==4&&(Le=2),n===null)return!0;o=$n(o,r),r=n;do{switch(r.tag){case 3:return r.flags|=65536,e=h&-h,r.lanes|=e,e=Df(r.stateNode,o,e),af(r,e),!1;case 1:if(n=r.type,f=r.stateNode,(r.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(ns===null||!ns.has(f))))return r.flags|=65536,h&=-h,r.lanes|=h,h=Up(h),Pp(h,e,r,o),af(r,h),!1}r=r.return}while(r!==null);return!1}var Of=Error(a(461)),Qe=!1;function hn(e,n,r,o){n.child=e===null?qg(n,null,r,o):$s(n,e.child,r,o)}function zp(e,n,r,o,h){r=r.render;var f=n.ref;if("ref"in o){var g={};for(var E in o)E!=="ref"&&(g[E]=o[E])}else g=o;return Ks(n),o=ff(e,n,r,g,f,h),E=df(),e!==null&&!Qe?(mf(e,n,h),mr(e,n,h)):(ee&&E&&Yh(n),n.flags|=1,hn(e,n,o,h),n.child)}function Bp(e,n,r,o,h){if(e===null){var f=r.type;return typeof f=="function"&&!Hh(f)&&f.defaultProps===void 0&&r.compare===null?(n.tag=15,n.type=f,jp(e,n,f,o,h)):(e=Vu(r.type,null,o,n,n.mode,h),e.ref=n.ref,e.return=n,n.child=e)}if(f=e.child,!zf(e,h)){var g=f.memoizedProps;if(r=r.compare,r=r!==null?r:Zo,r(g,o)&&e.ref===n.ref)return mr(e,n,h)}return n.flags|=1,e=lr(f,o),e.ref=n.ref,e.return=n,n.child=e}function jp(e,n,r,o,h){if(e!==null){var f=e.memoizedProps;if(Zo(f,o)&&e.ref===n.ref)if(Qe=!1,n.pendingProps=o=f,zf(e,h))(e.flags&131072)!==0&&(Qe=!0);else return n.lanes=e.lanes,mr(e,n,h)}return Mf(e,n,r,o,h)}function qp(e,n,r,o){var h=o.children,f=e!==null?e.memoizedState:null;if(e===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.mode==="hidden"){if((n.flags&128)!==0){if(f=f!==null?f.baseLanes|r:r,e!==null){for(o=n.child=e.child,h=0;o!==null;)h=h|o.lanes|o.childLanes,o=o.sibling;o=h&~f}else o=0,n.child=null;return Hp(e,n,f,r,o)}if((r&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&Uu(n,f!==null?f.cachePool:null),f!==null?Fg(n,f):lf(),Yg(n);else return o=n.lanes=536870912,Hp(e,n,f!==null?f.baseLanes|r:r,r,o)}else f!==null?(Uu(n,f.cachePool),Fg(n,f),$r(),n.memoizedState=null):(e!==null&&Uu(n,null),lf(),$r());return hn(e,n,h,r),n.child}function hl(e,n){return e!==null&&e.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function Hp(e,n,r,o,h){var f=ef();return f=f===null?null:{parent:Fe._currentValue,pool:f},n.memoizedState={baseLanes:r,cachePool:f},e!==null&&Uu(n,null),lf(),Yg(n),e!==null&&Pa(e,n,o,!0),n.childLanes=h,null}function Wu(e,n){return n=ec({mode:n.mode,children:n.children},e.mode),n.ref=e.ref,e.child=n,n.return=e,n}function Gp(e,n,r){return $s(n,e.child,null,r),e=Wu(n,n.pendingProps),e.flags|=2,jn(n),n.memoizedState=null,e}function p1(e,n,r){var o=n.pendingProps,h=(n.flags&128)!==0;if(n.flags&=-129,e===null){if(ee){if(o.mode==="hidden")return e=Wu(n,o),n.lanes=536870912,hl(null,e);if(cf(n),(e=be)?(e=n_(e,ei),e=e!==null&&e.data==="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:Gr!==null?{id:zi,overflow:Bi}:null,retryLane:536870912,hydrationErrors:null},r=Cg(e),r.return=n,n.child=r,un=n,be=null)):e=null,e===null)throw Yr(n);return n.lanes=536870912,null}return Wu(n,o)}var f=e.memoizedState;if(f!==null){var g=f.dehydrated;if(cf(n),h)if(n.flags&256)n.flags&=-257,n=Gp(e,n,r);else if(n.memoizedState!==null)n.child=e.child,n.flags|=128,n=null;else throw Error(a(558));else if(Qe||Pa(e,n,r,!1),h=(r&e.childLanes)!==0,Qe||h){if(o=Ee,o!==null&&(g=li(o,r),g!==0&&g!==f.retryLane))throw f.retryLane=g,Gs(e,g),Mn(o,e,g),Of;cc(),n=Gp(e,n,r)}else e=f.treeContext,be=ii(g.nextSibling),un=n,ee=!0,Fr=null,ei=!1,e!==null&&Dg(n,e),n=Wu(n,o),n.flags|=4096;return n}return e=lr(e.child,{mode:o.mode,children:o.children}),e.ref=n.ref,n.child=e,e.return=n,e}function tc(e,n){var r=n.ref;if(r===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof r!="function"&&typeof r!="object")throw Error(a(284));(e===null||e.ref!==r)&&(n.flags|=4194816)}}function Mf(e,n,r,o,h){return Ks(n),r=ff(e,n,r,o,void 0,h),o=df(),e!==null&&!Qe?(mf(e,n,h),mr(e,n,h)):(ee&&o&&Yh(n),n.flags|=1,hn(e,n,r,h),n.child)}function Fp(e,n,r,o,h,f){return Ks(n),n.updateQueue=null,r=Kg(n,o,r,h),Qg(e),o=df(),e!==null&&!Qe?(mf(e,n,f),mr(e,n,f)):(ee&&o&&Yh(n),n.flags|=1,hn(e,n,r,f),n.child)}function Yp(e,n,r,o,h){if(Ks(n),n.stateNode===null){var f=La,g=r.contextType;typeof g=="object"&&g!==null&&(f=cn(g)),f=new r(o,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Nf,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=o,f.state=n.memoizedState,f.refs={},rf(n),g=r.contextType,f.context=typeof g=="object"&&g!==null?cn(g):La,f.state=n.memoizedState,g=r.getDerivedStateFromProps,typeof g=="function"&&(If(n,r,g,o),f.state=n.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(g=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),g!==f.state&&Nf.enqueueReplaceState(f,f.state,null),al(n,o,f,h),sl(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!0}else if(e===null){f=n.stateNode;var E=n.memoizedProps,N=ta(r,E);f.props=N;var B=f.context,Q=r.contextType;g=La,typeof Q=="object"&&Q!==null&&(g=cn(Q));var Z=r.getDerivedStateFromProps;Q=typeof Z=="function"||typeof f.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,Q||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E||B!==g)&&Mp(n,f,o,g),Kr=!1;var j=n.memoizedState;f.state=j,al(n,o,f,h),sl(),B=n.memoizedState,E||j!==B||Kr?(typeof Z=="function"&&(If(n,r,Z,o),B=n.memoizedState),(N=Kr||Op(n,r,N,o,j,B,g))?(Q||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=o,n.memoizedState=B),f.props=o,f.state=B,f.context=g,o=N):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!1)}else{f=n.stateNode,sf(e,n),g=n.memoizedProps,Q=ta(r,g),f.props=Q,Z=n.pendingProps,j=f.context,B=r.contextType,N=La,typeof B=="object"&&B!==null&&(N=cn(B)),E=r.getDerivedStateFromProps,(B=typeof E=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(g!==Z||j!==N)&&Mp(n,f,o,N),Kr=!1,j=n.memoizedState,f.state=j,al(n,o,f,h),sl();var H=n.memoizedState;g!==Z||j!==H||Kr||e!==null&&e.dependencies!==null&&xu(e.dependencies)?(typeof E=="function"&&(If(n,r,E,o),H=n.memoizedState),(Q=Kr||Op(n,r,Q,o,j,H,N)||e!==null&&e.dependencies!==null&&xu(e.dependencies))?(B||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(o,H,N),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(o,H,N)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||g===e.memoizedProps&&j===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===e.memoizedProps&&j===e.memoizedState||(n.flags|=1024),n.memoizedProps=o,n.memoizedState=H),f.props=o,f.state=H,f.context=N,o=Q):(typeof f.componentDidUpdate!="function"||g===e.memoizedProps&&j===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===e.memoizedProps&&j===e.memoizedState||(n.flags|=1024),o=!1)}return f=o,tc(e,n),o=(n.flags&128)!==0,f||o?(f=n.stateNode,r=o&&typeof r.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,e!==null&&o?(n.child=$s(n,e.child,null,h),n.child=$s(n,null,r,h)):hn(e,n,r,h),n.memoizedState=f.state,e=n.child):e=mr(e,n,h),e}function Qp(e,n,r,o){return Ys(),n.flags|=256,hn(e,n,r,o),n.child}var Vf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Lf(e){return{baseLanes:e,cachePool:kg()}}function xf(e,n,r){return e=e!==null?e.childLanes&~r:0,n&&(e|=Hn),e}function Kp(e,n,r){var o=n.pendingProps,h=!1,f=(n.flags&128)!==0,g;if((g=f)||(g=e!==null&&e.memoizedState===null?!1:(Pe.current&2)!==0),g&&(h=!0,n.flags&=-129),g=(n.flags&32)!==0,n.flags&=-33,e===null){if(ee){if(h?Jr(n):$r(),(e=be)?(e=n_(e,ei),e=e!==null&&e.data!=="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:Gr!==null?{id:zi,overflow:Bi}:null,retryLane:536870912,hydrationErrors:null},r=Cg(e),r.return=n,n.child=r,un=n,be=null)):e=null,e===null)throw Yr(n);return yd(e)?n.lanes=32:n.lanes=536870912,null}var E=o.children;return o=o.fallback,h?($r(),h=n.mode,E=ec({mode:"hidden",children:E},h),o=Fs(o,h,r,null),E.return=n,o.return=n,E.sibling=o,n.child=E,o=n.child,o.memoizedState=Lf(r),o.childLanes=xf(e,g,r),n.memoizedState=Vf,hl(null,o)):(Jr(n),kf(n,E))}var N=e.memoizedState;if(N!==null&&(E=N.dehydrated,E!==null)){if(f)n.flags&256?(Jr(n),n.flags&=-257,n=Uf(e,n,r)):n.memoizedState!==null?($r(),n.child=e.child,n.flags|=128,n=null):($r(),E=o.fallback,h=n.mode,o=ec({mode:"visible",children:o.children},h),E=Fs(E,h,r,null),E.flags|=2,o.return=n,E.return=n,o.sibling=E,n.child=o,$s(n,e.child,null,r),o=n.child,o.memoizedState=Lf(r),o.childLanes=xf(e,g,r),n.memoizedState=Vf,n=hl(null,o));else if(Jr(n),yd(E)){if(g=E.nextSibling&&E.nextSibling.dataset,g)var B=g.dgst;g=B,o=Error(a(419)),o.stack="",o.digest=g,Wo({value:o,source:null,stack:null}),n=Uf(e,n,r)}else if(Qe||Pa(e,n,r,!1),g=(r&e.childLanes)!==0,Qe||g){if(g=Ee,g!==null&&(o=li(g,r),o!==0&&o!==N.retryLane))throw N.retryLane=o,Gs(e,o),Mn(g,e,o),Of;pd(E)||cc(),n=Uf(e,n,r)}else pd(E)?(n.flags|=192,n.child=e.child,n=null):(e=N.treeContext,be=ii(E.nextSibling),un=n,ee=!0,Fr=null,ei=!1,e!==null&&Dg(n,e),n=kf(n,o.children),n.flags|=4096);return n}return h?($r(),E=o.fallback,h=n.mode,N=e.child,B=N.sibling,o=lr(N,{mode:"hidden",children:o.children}),o.subtreeFlags=N.subtreeFlags&65011712,B!==null?E=lr(B,E):(E=Fs(E,h,r,null),E.flags|=2),E.return=n,o.return=n,o.sibling=E,n.child=o,hl(null,o),o=n.child,E=e.child.memoizedState,E===null?E=Lf(r):(h=E.cachePool,h!==null?(N=Fe._currentValue,h=h.parent!==N?{parent:N,pool:N}:h):h=kg(),E={baseLanes:E.baseLanes|r,cachePool:h}),o.memoizedState=E,o.childLanes=xf(e,g,r),n.memoizedState=Vf,hl(e.child,o)):(Jr(n),r=e.child,e=r.sibling,r=lr(r,{mode:"visible",children:o.children}),r.return=n,r.sibling=null,e!==null&&(g=n.deletions,g===null?(n.deletions=[e],n.flags|=16):g.push(e)),n.child=r,n.memoizedState=null,r)}function kf(e,n){return n=ec({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function ec(e,n){return e=zn(22,e,null,n),e.lanes=0,e}function Uf(e,n,r){return $s(n,e.child,null,r),e=kf(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function Xp(e,n,r){e.lanes|=n;var o=e.alternate;o!==null&&(o.lanes|=n),Jh(e.return,n,r)}function Pf(e,n,r,o,h,f){var g=e.memoizedState;g===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:o,tail:r,tailMode:h,treeForkCount:f}:(g.isBackwards=n,g.rendering=null,g.renderingStartTime=0,g.last=o,g.tail=r,g.tailMode=h,g.treeForkCount=f)}function Zp(e,n,r){var o=n.pendingProps,h=o.revealOrder,f=o.tail;o=o.children;var g=Pe.current,E=(g&2)!==0;if(E?(g=g&1|2,n.flags|=128):g&=1,at(Pe,g),hn(e,n,o,r),o=ee?$o:0,!E&&e!==null&&(e.flags&128)!==0)t:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Xp(e,r,n);else if(e.tag===19)Xp(e,r,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break t;for(;e.sibling===null;){if(e.return===null||e.return===n)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(h){case"forwards":for(r=n.child,h=null;r!==null;)e=r.alternate,e!==null&&Hu(e)===null&&(h=r),r=r.sibling;r=h,r===null?(h=n.child,n.child=null):(h=r.sibling,r.sibling=null),Pf(n,!1,h,r,f,o);break;case"backwards":case"unstable_legacy-backwards":for(r=null,h=n.child,n.child=null;h!==null;){if(e=h.alternate,e!==null&&Hu(e)===null){n.child=h;break}e=h.sibling,h.sibling=r,r=h,h=e}Pf(n,!0,r,null,f,o);break;case"together":Pf(n,!1,null,null,void 0,o);break;default:n.memoizedState=null}return n.child}function mr(e,n,r){if(e!==null&&(n.dependencies=e.dependencies),es|=n.lanes,(r&n.childLanes)===0)if(e!==null){if(Pa(e,n,r,!1),(r&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(a(153));if(n.child!==null){for(e=n.child,r=lr(e,e.pendingProps),n.child=r,r.return=n;e.sibling!==null;)e=e.sibling,r=r.sibling=lr(e,e.pendingProps),r.return=n;r.sibling=null}return n.child}function zf(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&xu(e)))}function y1(e,n,r){switch(n.tag){case 3:xe(n,n.stateNode.containerInfo),Qr(n,Fe,e.memoizedState.cache),Ys();break;case 27:case 5:tr(n);break;case 4:xe(n,n.stateNode.containerInfo);break;case 10:Qr(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,cf(n),null;break;case 13:var o=n.memoizedState;if(o!==null)return o.dehydrated!==null?(Jr(n),n.flags|=128,null):(r&n.child.childLanes)!==0?Kp(e,n,r):(Jr(n),e=mr(e,n,r),e!==null?e.sibling:null);Jr(n);break;case 19:var h=(e.flags&128)!==0;if(o=(r&n.childLanes)!==0,o||(Pa(e,n,r,!1),o=(r&n.childLanes)!==0),h){if(o)return Zp(e,n,r);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),at(Pe,Pe.current),o)break;return null;case 22:return n.lanes=0,qp(e,n,r,n.pendingProps);case 24:Qr(n,Fe,e.memoizedState.cache)}return mr(e,n,r)}function Jp(e,n,r){if(e!==null)if(e.memoizedProps!==n.pendingProps)Qe=!0;else{if(!zf(e,r)&&(n.flags&128)===0)return Qe=!1,y1(e,n,r);Qe=(e.flags&131072)!==0}else Qe=!1,ee&&(n.flags&1048576)!==0&&Ng(n,$o,n.index);switch(n.lanes=0,n.tag){case 16:t:{var o=n.pendingProps;if(e=Zs(n.elementType),n.type=e,typeof e=="function")Hh(e)?(o=ta(e,o),n.tag=1,n=Yp(null,n,e,o,r)):(n.tag=0,n=Mf(null,n,e,o,r));else{if(e!=null){var h=e.$$typeof;if(h===Gt){n.tag=11,n=zp(null,n,e,o,r);break t}else if(h===D){n.tag=14,n=Bp(null,n,e,o,r);break t}}throw n=fe(e)||e,Error(a(306,n,""))}}return n;case 0:return Mf(e,n,n.type,n.pendingProps,r);case 1:return o=n.type,h=ta(o,n.pendingProps),Yp(e,n,o,h,r);case 3:t:{if(xe(n,n.stateNode.containerInfo),e===null)throw Error(a(387));o=n.pendingProps;var f=n.memoizedState;h=f.element,sf(e,n),al(n,o,null,r);var g=n.memoizedState;if(o=g.cache,Qr(n,Fe,o),o!==f.cache&&$h(n,[Fe],r,!0),sl(),o=g.element,f.isDehydrated)if(f={element:o,isDehydrated:!1,cache:g.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=Qp(e,n,o,r);break t}else if(o!==h){h=$n(Error(a(424)),n),Wo(h),n=Qp(e,n,o,r);break t}else{switch(e=n.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(be=ii(e.firstChild),un=n,ee=!0,Fr=null,ei=!0,r=qg(n,null,o,r),n.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling}else{if(Ys(),o===h){n=mr(e,n,r);break t}hn(e,n,o,r)}n=n.child}return n;case 26:return tc(e,n),e===null?(r=l_(n.type,null,n.pendingProps,null))?n.memoizedState=r:ee||(r=n.type,e=n.pendingProps,o=yc(Ot.current).createElement(r),o[qe]=n,o[nn]=e,fn(o,r,e),He(o),n.stateNode=o):n.memoizedState=l_(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return tr(n),e===null&&ee&&(o=n.stateNode=s_(n.type,n.pendingProps,Ot.current),un=n,ei=!0,h=be,as(n.type)?(_d=h,be=ii(o.firstChild)):be=h),hn(e,n,n.pendingProps.children,r),tc(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&ee&&((h=o=be)&&(o=Q1(o,n.type,n.pendingProps,ei),o!==null?(n.stateNode=o,un=n,be=ii(o.firstChild),ei=!1,h=!0):h=!1),h||Yr(n)),tr(n),h=n.type,f=n.pendingProps,g=e!==null?e.memoizedProps:null,o=f.children,dd(h,f)?o=null:g!==null&&dd(h,g)&&(n.flags|=32),n.memoizedState!==null&&(h=ff(e,n,l1,null,null,r),Rl._currentValue=h),tc(e,n),hn(e,n,o,r),n.child;case 6:return e===null&&ee&&((e=r=be)&&(r=K1(r,n.pendingProps,ei),r!==null?(n.stateNode=r,un=n,be=null,e=!0):e=!1),e||Yr(n)),null;case 13:return Kp(e,n,r);case 4:return xe(n,n.stateNode.containerInfo),o=n.pendingProps,e===null?n.child=$s(n,null,o,r):hn(e,n,o,r),n.child;case 11:return zp(e,n,n.type,n.pendingProps,r);case 7:return hn(e,n,n.pendingProps,r),n.child;case 8:return hn(e,n,n.pendingProps.children,r),n.child;case 12:return hn(e,n,n.pendingProps.children,r),n.child;case 10:return o=n.pendingProps,Qr(n,n.type,o.value),hn(e,n,o.children,r),n.child;case 9:return h=n.type._context,o=n.pendingProps.children,Ks(n),h=cn(h),o=o(h),n.flags|=1,hn(e,n,o,r),n.child;case 14:return Bp(e,n,n.type,n.pendingProps,r);case 15:return jp(e,n,n.type,n.pendingProps,r);case 19:return Zp(e,n,r);case 31:return p1(e,n,r);case 22:return qp(e,n,r,n.pendingProps);case 24:return Ks(n),o=cn(Fe),e===null?(h=ef(),h===null&&(h=Ee,f=Wh(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=r),h=f),n.memoizedState={parent:o,cache:h},rf(n),Qr(n,Fe,h)):((e.lanes&r)!==0&&(sf(e,n),al(n,null,null,r),sl()),h=e.memoizedState,f=n.memoizedState,h.parent!==o?(h={parent:o,cache:o},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),Qr(n,Fe,o)):(o=f.cache,Qr(n,Fe,o),o!==h.cache&&$h(n,[Fe],r,!0))),hn(e,n,n.pendingProps.children,r),n.child;case 29:throw n.pendingProps}throw Error(a(156,n.tag))}function gr(e){e.flags|=4}function Bf(e,n,r,o,h){if((n=(e.mode&32)!==0)&&(n=!1),n){if(e.flags|=16777216,(h&335544128)===h)if(e.stateNode.complete)e.flags|=8192;else if(by())e.flags|=8192;else throw Js=zu,nf}else e.flags&=-16777217}function $p(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!d_(n))if(by())e.flags|=8192;else throw Js=zu,nf}function nc(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?De():536870912,e.lanes|=n,Za|=n)}function fl(e,n){if(!ee)switch(e.tailMode){case"hidden":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var o=null;r!==null;)r.alternate!==null&&(o=r),r=r.sibling;o===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:o.sibling=null}}function we(e){var n=e.alternate!==null&&e.alternate.child===e.child,r=0,o=0;if(n)for(var h=e.child;h!==null;)r|=h.lanes|h.childLanes,o|=h.subtreeFlags&65011712,o|=h.flags&65011712,h.return=e,h=h.sibling;else for(h=e.child;h!==null;)r|=h.lanes|h.childLanes,o|=h.subtreeFlags,o|=h.flags,h.return=e,h=h.sibling;return e.subtreeFlags|=o,e.childLanes=r,n}function _1(e,n,r){var o=n.pendingProps;switch(Qh(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return we(n),null;case 1:return we(n),null;case 3:return r=n.stateNode,o=null,e!==null&&(o=e.memoizedState.cache),n.memoizedState.cache!==o&&(n.flags|=2048),hr(Fe),bt(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Ua(n)?gr(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Xh())),we(n),null;case 26:var h=n.type,f=n.memoizedState;return e===null?(gr(n),f!==null?(we(n),$p(n,f)):(we(n),Bf(n,h,null,o,r))):f?f!==e.memoizedState?(gr(n),we(n),$p(n,f)):(we(n),n.flags&=-16777217):(e=e.memoizedProps,e!==o&&gr(n),we(n),Bf(n,h,e,o,r)),null;case 27:if(Or(n),r=Ot.current,h=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==o&&gr(n);else{if(!o){if(n.stateNode===null)throw Error(a(166));return we(n),null}e=ct.current,Ua(n)?Og(n):(e=s_(h,o,r),n.stateNode=e,gr(n))}return we(n),null;case 5:if(Or(n),h=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==o&&gr(n);else{if(!o){if(n.stateNode===null)throw Error(a(166));return we(n),null}if(f=ct.current,Ua(n))Og(n);else{var g=yc(Ot.current);switch(f){case 1:f=g.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:f=g.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":f=g.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":f=g.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":f=g.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof o.is=="string"?g.createElement("select",{is:o.is}):g.createElement("select"),o.multiple?f.multiple=!0:o.size&&(f.size=o.size);break;default:f=typeof o.is=="string"?g.createElement(h,{is:o.is}):g.createElement(h)}}f[qe]=n,f[nn]=o;t:for(g=n.child;g!==null;){if(g.tag===5||g.tag===6)f.appendChild(g.stateNode);else if(g.tag!==4&&g.tag!==27&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===n)break t;for(;g.sibling===null;){if(g.return===null||g.return===n)break t;g=g.return}g.sibling.return=g.return,g=g.sibling}n.stateNode=f;t:switch(fn(f,h,o),h){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break t;case"img":o=!0;break t;default:o=!1}o&&gr(n)}}return we(n),Bf(n,n.type,e===null?null:e.memoizedProps,n.pendingProps,r),null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==o&&gr(n);else{if(typeof o!="string"&&n.stateNode===null)throw Error(a(166));if(e=Ot.current,Ua(n)){if(e=n.stateNode,r=n.memoizedProps,o=null,h=un,h!==null)switch(h.tag){case 27:case 5:o=h.memoizedProps}e[qe]=n,e=!!(e.nodeValue===r||o!==null&&o.suppressHydrationWarning===!0||Ky(e.nodeValue,r)),e||Yr(n,!0)}else e=yc(e).createTextNode(o),e[qe]=n,n.stateNode=e}return we(n),null;case 31:if(r=n.memoizedState,e===null||e.memoizedState!==null){if(o=Ua(n),r!==null){if(e===null){if(!o)throw Error(a(318));if(e=n.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(557));e[qe]=n}else Ys(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;we(n),e=!1}else r=Xh(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=r),e=!0;if(!e)return n.flags&256?(jn(n),n):(jn(n),null);if((n.flags&128)!==0)throw Error(a(558))}return we(n),null;case 13:if(o=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(h=Ua(n),o!==null&&o.dehydrated!==null){if(e===null){if(!h)throw Error(a(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(a(317));h[qe]=n}else Ys(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;we(n),h=!1}else h=Xh(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=h),h=!0;if(!h)return n.flags&256?(jn(n),n):(jn(n),null)}return jn(n),(n.flags&128)!==0?(n.lanes=r,n):(r=o!==null,e=e!==null&&e.memoizedState!==null,r&&(o=n.child,h=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(h=o.alternate.memoizedState.cachePool.pool),f=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),f!==h&&(o.flags|=2048)),r!==e&&r&&(n.child.flags|=8192),nc(n,n.updateQueue),we(n),null);case 4:return bt(),e===null&&ld(n.stateNode.containerInfo),we(n),null;case 10:return hr(n.type),we(n),null;case 19:if(K(Pe),o=n.memoizedState,o===null)return we(n),null;if(h=(n.flags&128)!==0,f=o.rendering,f===null)if(h)fl(o,!1);else{if(Le!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(f=Hu(e),f!==null){for(n.flags|=128,fl(o,!1),e=f.updateQueue,n.updateQueue=e,nc(n,e),n.subtreeFlags=0,e=r,r=n.child;r!==null;)Rg(r,e),r=r.sibling;return at(Pe,Pe.current&1|2),ee&&ur(n,o.treeForkCount),n.child}e=e.sibling}o.tail!==null&&on()>oc&&(n.flags|=128,h=!0,fl(o,!1),n.lanes=4194304)}else{if(!h)if(e=Hu(f),e!==null){if(n.flags|=128,h=!0,e=e.updateQueue,n.updateQueue=e,nc(n,e),fl(o,!0),o.tail===null&&o.tailMode==="hidden"&&!f.alternate&&!ee)return we(n),null}else 2*on()-o.renderingStartTime>oc&&r!==536870912&&(n.flags|=128,h=!0,fl(o,!1),n.lanes=4194304);o.isBackwards?(f.sibling=n.child,n.child=f):(e=o.last,e!==null?e.sibling=f:n.child=f,o.last=f)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=on(),e.sibling=null,r=Pe.current,at(Pe,h?r&1|2:r&1),ee&&ur(n,o.treeForkCount),e):(we(n),null);case 22:case 23:return jn(n),uf(),o=n.memoizedState!==null,e!==null?e.memoizedState!==null!==o&&(n.flags|=8192):o&&(n.flags|=8192),o?(r&536870912)!==0&&(n.flags&128)===0&&(we(n),n.subtreeFlags&6&&(n.flags|=8192)):we(n),r=n.updateQueue,r!==null&&nc(n,r.retryQueue),r=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(r=e.memoizedState.cachePool.pool),o=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),o!==r&&(n.flags|=2048),e!==null&&K(Xs),null;case 24:return r=null,e!==null&&(r=e.memoizedState.cache),n.memoizedState.cache!==r&&(n.flags|=2048),hr(Fe),we(n),null;case 25:return null;case 30:return null}throw Error(a(156,n.tag))}function v1(e,n){switch(Qh(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return hr(Fe),bt(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return Or(n),null;case 31:if(n.memoizedState!==null){if(jn(n),n.alternate===null)throw Error(a(340));Ys()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 13:if(jn(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(a(340));Ys()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return K(Pe),null;case 4:return bt(),null;case 10:return hr(n.type),null;case 22:case 23:return jn(n),uf(),e!==null&&K(Xs),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return hr(Fe),null;case 25:return null;default:return null}}function Wp(e,n){switch(Qh(n),n.tag){case 3:hr(Fe),bt();break;case 26:case 27:case 5:Or(n);break;case 4:bt();break;case 31:n.memoizedState!==null&&jn(n);break;case 13:jn(n);break;case 19:K(Pe);break;case 10:hr(n.type);break;case 22:case 23:jn(n),uf(),e!==null&&K(Xs);break;case 24:hr(Fe)}}function dl(e,n){try{var r=n.updateQueue,o=r!==null?r.lastEffect:null;if(o!==null){var h=o.next;r=h;do{if((r.tag&e)===e){o=void 0;var f=r.create,g=r.inst;o=f(),g.destroy=o}r=r.next}while(r!==h)}}catch(E){pe(n,n.return,E)}}function Wr(e,n,r){try{var o=n.updateQueue,h=o!==null?o.lastEffect:null;if(h!==null){var f=h.next;o=f;do{if((o.tag&e)===e){var g=o.inst,E=g.destroy;if(E!==void 0){g.destroy=void 0,h=n;var N=r,B=E;try{B()}catch(Q){pe(h,N,Q)}}}o=o.next}while(o!==f)}}catch(Q){pe(n,n.return,Q)}}function ty(e){var n=e.updateQueue;if(n!==null){var r=e.stateNode;try{Gg(n,r)}catch(o){pe(e,e.return,o)}}}function ey(e,n,r){r.props=ta(e.type,e.memoizedProps),r.state=e.memoizedState;try{r.componentWillUnmount()}catch(o){pe(e,n,o)}}function ml(e,n){try{var r=e.ref;if(r!==null){switch(e.tag){case 26:case 27:case 5:var o=e.stateNode;break;case 30:o=e.stateNode;break;default:o=e.stateNode}typeof r=="function"?e.refCleanup=r(o):r.current=o}}catch(h){pe(e,n,h)}}function ji(e,n){var r=e.ref,o=e.refCleanup;if(r!==null)if(typeof o=="function")try{o()}catch(h){pe(e,n,h)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof r=="function")try{r(null)}catch(h){pe(e,n,h)}else r.current=null}function ny(e){var n=e.type,r=e.memoizedProps,o=e.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":r.autoFocus&&o.focus();break t;case"img":r.src?o.src=r.src:r.srcSet&&(o.srcset=r.srcSet)}}catch(h){pe(e,e.return,h)}}function jf(e,n,r){try{var o=e.stateNode;j1(o,e.type,r,n),o[nn]=n}catch(h){pe(e,e.return,h)}}function iy(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&as(e.type)||e.tag===4}function qf(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||iy(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&as(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Hf(e,n,r){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r).insertBefore(e,n):(n=r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,n.appendChild(e),r=r._reactRootContainer,r!=null||n.onclick!==null||(n.onclick=fi));else if(o!==4&&(o===27&&as(e.type)&&(r=e.stateNode,n=null),e=e.child,e!==null))for(Hf(e,n,r),e=e.sibling;e!==null;)Hf(e,n,r),e=e.sibling}function ic(e,n,r){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?r.insertBefore(e,n):r.appendChild(e);else if(o!==4&&(o===27&&as(e.type)&&(r=e.stateNode),e=e.child,e!==null))for(ic(e,n,r),e=e.sibling;e!==null;)ic(e,n,r),e=e.sibling}function ry(e){var n=e.stateNode,r=e.memoizedProps;try{for(var o=e.type,h=n.attributes;h.length;)n.removeAttributeNode(h[0]);fn(n,o,r),n[qe]=e,n[nn]=r}catch(f){pe(e,e.return,f)}}var pr=!1,Ke=!1,Gf=!1,sy=typeof WeakSet=="function"?WeakSet:Set,sn=null;function T1(e,n){if(e=e.containerInfo,hd=bc,e=yg(e),kh(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else t:{r=(r=e.ownerDocument)&&r.defaultView||window;var o=r.getSelection&&r.getSelection();if(o&&o.rangeCount!==0){r=o.anchorNode;var h=o.anchorOffset,f=o.focusNode;o=o.focusOffset;try{r.nodeType,f.nodeType}catch{r=null;break t}var g=0,E=-1,N=-1,B=0,Q=0,Z=e,j=null;e:for(;;){for(var H;Z!==r||h!==0&&Z.nodeType!==3||(E=g+h),Z!==f||o!==0&&Z.nodeType!==3||(N=g+o),Z.nodeType===3&&(g+=Z.nodeValue.length),(H=Z.firstChild)!==null;)j=Z,Z=H;for(;;){if(Z===e)break e;if(j===r&&++B===h&&(E=g),j===f&&++Q===o&&(N=g),(H=Z.nextSibling)!==null)break;Z=j,j=Z.parentNode}Z=H}r=E===-1||N===-1?null:{start:E,end:N}}else r=null}r=r||{start:0,end:0}}else r=null;for(fd={focusedElem:e,selectionRange:r},bc=!1,sn=n;sn!==null;)if(n=sn,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,sn=e;else for(;sn!==null;){switch(n=sn,f=n.alternate,e=n.flags,n.tag){case 0:if((e&4)!==0&&(e=n.updateQueue,e=e!==null?e.events:null,e!==null))for(r=0;r<e.length;r++)h=e[r],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&f!==null){e=void 0,r=n,h=f.memoizedProps,f=f.memoizedState,o=r.stateNode;try{var dt=ta(r.type,h);e=o.getSnapshotBeforeUpdate(dt,f),o.__reactInternalSnapshotBeforeUpdate=e}catch(Rt){pe(r,r.return,Rt)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,r=e.nodeType,r===9)gd(e);else if(r===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":gd(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(a(163))}if(e=n.sibling,e!==null){e.return=n.return,sn=e;break}sn=n.return}}function ay(e,n,r){var o=r.flags;switch(r.tag){case 0:case 11:case 15:_r(e,r),o&4&&dl(5,r);break;case 1:if(_r(e,r),o&4)if(e=r.stateNode,n===null)try{e.componentDidMount()}catch(g){pe(r,r.return,g)}else{var h=ta(r.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(h,n,e.__reactInternalSnapshotBeforeUpdate)}catch(g){pe(r,r.return,g)}}o&64&&ty(r),o&512&&ml(r,r.return);break;case 3:if(_r(e,r),o&64&&(e=r.updateQueue,e!==null)){if(n=null,r.child!==null)switch(r.child.tag){case 27:case 5:n=r.child.stateNode;break;case 1:n=r.child.stateNode}try{Gg(e,n)}catch(g){pe(r,r.return,g)}}break;case 27:n===null&&o&4&&ry(r);case 26:case 5:_r(e,r),n===null&&o&4&&ny(r),o&512&&ml(r,r.return);break;case 12:_r(e,r);break;case 31:_r(e,r),o&4&&uy(e,r);break;case 13:_r(e,r),o&4&&cy(e,r),o&64&&(e=r.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(r=N1.bind(null,r),X1(e,r))));break;case 22:if(o=r.memoizedState!==null||pr,!o){n=n!==null&&n.memoizedState!==null||Ke,h=pr;var f=Ke;pr=o,(Ke=n)&&!f?vr(e,r,(r.subtreeFlags&8772)!==0):_r(e,r),pr=h,Ke=f}break;case 30:break;default:_r(e,r)}}function oy(e){var n=e.alternate;n!==null&&(e.alternate=null,oy(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&Ta(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Ne=null,In=!1;function yr(e,n,r){for(r=r.child;r!==null;)ly(e,n,r),r=r.sibling}function ly(e,n,r){if(J&&typeof J.onCommitFiberUnmount=="function")try{J.onCommitFiberUnmount(W,r)}catch{}switch(r.tag){case 26:Ke||ji(r,n),yr(e,n,r),r.memoizedState?r.memoizedState.count--:r.stateNode&&(r=r.stateNode,r.parentNode.removeChild(r));break;case 27:Ke||ji(r,n);var o=Ne,h=In;as(r.type)&&(Ne=r.stateNode,In=!1),yr(e,n,r),Al(r.stateNode),Ne=o,In=h;break;case 5:Ke||ji(r,n);case 6:if(o=Ne,h=In,Ne=null,yr(e,n,r),Ne=o,In=h,Ne!==null)if(In)try{(Ne.nodeType===9?Ne.body:Ne.nodeName==="HTML"?Ne.ownerDocument.body:Ne).removeChild(r.stateNode)}catch(f){pe(r,n,f)}else try{Ne.removeChild(r.stateNode)}catch(f){pe(r,n,f)}break;case 18:Ne!==null&&(In?(e=Ne,t_(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,r.stateNode),ro(e)):t_(Ne,r.stateNode));break;case 4:o=Ne,h=In,Ne=r.stateNode.containerInfo,In=!0,yr(e,n,r),Ne=o,In=h;break;case 0:case 11:case 14:case 15:Wr(2,r,n),Ke||Wr(4,r,n),yr(e,n,r);break;case 1:Ke||(ji(r,n),o=r.stateNode,typeof o.componentWillUnmount=="function"&&ey(r,n,o)),yr(e,n,r);break;case 21:yr(e,n,r);break;case 22:Ke=(o=Ke)||r.memoizedState!==null,yr(e,n,r),Ke=o;break;default:yr(e,n,r)}}function uy(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{ro(e)}catch(r){pe(n,n.return,r)}}}function cy(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{ro(e)}catch(r){pe(n,n.return,r)}}function E1(e){switch(e.tag){case 31:case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new sy),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new sy),n;default:throw Error(a(435,e.tag))}}function rc(e,n){var r=E1(e);n.forEach(function(o){if(!r.has(o)){r.add(o);var h=D1.bind(null,e,o);o.then(h,h)}})}function Nn(e,n){var r=n.deletions;if(r!==null)for(var o=0;o<r.length;o++){var h=r[o],f=e,g=n,E=g;t:for(;E!==null;){switch(E.tag){case 27:if(as(E.type)){Ne=E.stateNode,In=!1;break t}break;case 5:Ne=E.stateNode,In=!1;break t;case 3:case 4:Ne=E.stateNode.containerInfo,In=!0;break t}E=E.return}if(Ne===null)throw Error(a(160));ly(f,g,h),Ne=null,In=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)hy(n,e),n=n.sibling}var _i=null;function hy(e,n){var r=e.alternate,o=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Nn(n,e),Dn(e),o&4&&(Wr(3,e,e.return),dl(3,e),Wr(5,e,e.return));break;case 1:Nn(n,e),Dn(e),o&512&&(Ke||r===null||ji(r,r.return)),o&64&&pr&&(e=e.updateQueue,e!==null&&(o=e.callbacks,o!==null&&(r=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=r===null?o:r.concat(o))));break;case 26:var h=_i;if(Nn(n,e),Dn(e),o&512&&(Ke||r===null||ji(r,r.return)),o&4){var f=r!==null?r.memoizedState:null;if(o=e.memoizedState,r===null)if(o===null)if(e.stateNode===null){t:{o=e.type,r=e.memoizedProps,h=h.ownerDocument||h;e:switch(o){case"title":f=h.getElementsByTagName("title")[0],(!f||f[Ci]||f[qe]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(o),h.head.insertBefore(f,h.querySelector("head > title"))),fn(f,o,r),f[qe]=e,He(f),o=f;break t;case"link":var g=h_("link","href",h).get(o+(r.href||""));if(g){for(var E=0;E<g.length;E++)if(f=g[E],f.getAttribute("href")===(r.href==null||r.href===""?null:r.href)&&f.getAttribute("rel")===(r.rel==null?null:r.rel)&&f.getAttribute("title")===(r.title==null?null:r.title)&&f.getAttribute("crossorigin")===(r.crossOrigin==null?null:r.crossOrigin)){g.splice(E,1);break e}}f=h.createElement(o),fn(f,o,r),h.head.appendChild(f);break;case"meta":if(g=h_("meta","content",h).get(o+(r.content||""))){for(E=0;E<g.length;E++)if(f=g[E],f.getAttribute("content")===(r.content==null?null:""+r.content)&&f.getAttribute("name")===(r.name==null?null:r.name)&&f.getAttribute("property")===(r.property==null?null:r.property)&&f.getAttribute("http-equiv")===(r.httpEquiv==null?null:r.httpEquiv)&&f.getAttribute("charset")===(r.charSet==null?null:r.charSet)){g.splice(E,1);break e}}f=h.createElement(o),fn(f,o,r),h.head.appendChild(f);break;default:throw Error(a(468,o))}f[qe]=e,He(f),o=f}e.stateNode=o}else f_(h,e.type,e.stateNode);else e.stateNode=c_(h,o,e.memoizedProps);else f!==o?(f===null?r.stateNode!==null&&(r=r.stateNode,r.parentNode.removeChild(r)):f.count--,o===null?f_(h,e.type,e.stateNode):c_(h,o,e.memoizedProps)):o===null&&e.stateNode!==null&&jf(e,e.memoizedProps,r.memoizedProps)}break;case 27:Nn(n,e),Dn(e),o&512&&(Ke||r===null||ji(r,r.return)),r!==null&&o&4&&jf(e,e.memoizedProps,r.memoizedProps);break;case 5:if(Nn(n,e),Dn(e),o&512&&(Ke||r===null||ji(r,r.return)),e.flags&32){h=e.stateNode;try{Cn(h,"")}catch(dt){pe(e,e.return,dt)}}o&4&&e.stateNode!=null&&(h=e.memoizedProps,jf(e,h,r!==null?r.memoizedProps:h)),o&1024&&(Gf=!0);break;case 6:if(Nn(n,e),Dn(e),o&4){if(e.stateNode===null)throw Error(a(162));o=e.memoizedProps,r=e.stateNode;try{r.nodeValue=o}catch(dt){pe(e,e.return,dt)}}break;case 3:if(Tc=null,h=_i,_i=_c(n.containerInfo),Nn(n,e),_i=h,Dn(e),o&4&&r!==null&&r.memoizedState.isDehydrated)try{ro(n.containerInfo)}catch(dt){pe(e,e.return,dt)}Gf&&(Gf=!1,fy(e));break;case 4:o=_i,_i=_c(e.stateNode.containerInfo),Nn(n,e),Dn(e),_i=o;break;case 12:Nn(n,e),Dn(e);break;case 31:Nn(n,e),Dn(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,rc(e,o)));break;case 13:Nn(n,e),Dn(e),e.child.flags&8192&&e.memoizedState!==null!=(r!==null&&r.memoizedState!==null)&&(ac=on()),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,rc(e,o)));break;case 22:h=e.memoizedState!==null;var N=r!==null&&r.memoizedState!==null,B=pr,Q=Ke;if(pr=B||h,Ke=Q||N,Nn(n,e),Ke=Q,pr=B,Dn(e),o&8192)t:for(n=e.stateNode,n._visibility=h?n._visibility&-2:n._visibility|1,h&&(r===null||N||pr||Ke||ea(e)),r=null,n=e;;){if(n.tag===5||n.tag===26){if(r===null){N=r=n;try{if(f=N.stateNode,h)g=f.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none";else{E=N.stateNode;var Z=N.memoizedProps.style,j=Z!=null&&Z.hasOwnProperty("display")?Z.display:null;E.style.display=j==null||typeof j=="boolean"?"":(""+j).trim()}}catch(dt){pe(N,N.return,dt)}}}else if(n.tag===6){if(r===null){N=n;try{N.stateNode.nodeValue=h?"":N.memoizedProps}catch(dt){pe(N,N.return,dt)}}}else if(n.tag===18){if(r===null){N=n;try{var H=N.stateNode;h?e_(H,!0):e_(N.stateNode,!1)}catch(dt){pe(N,N.return,dt)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break t;for(;n.sibling===null;){if(n.return===null||n.return===e)break t;r===n&&(r=null),n=n.return}r===n&&(r=null),n.sibling.return=n.return,n=n.sibling}o&4&&(o=e.updateQueue,o!==null&&(r=o.retryQueue,r!==null&&(o.retryQueue=null,rc(e,r))));break;case 19:Nn(n,e),Dn(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,rc(e,o)));break;case 30:break;case 21:break;default:Nn(n,e),Dn(e)}}function Dn(e){var n=e.flags;if(n&2){try{for(var r,o=e.return;o!==null;){if(iy(o)){r=o;break}o=o.return}if(r==null)throw Error(a(160));switch(r.tag){case 27:var h=r.stateNode,f=qf(e);ic(e,f,h);break;case 5:var g=r.stateNode;r.flags&32&&(Cn(g,""),r.flags&=-33);var E=qf(e);ic(e,E,g);break;case 3:case 4:var N=r.stateNode.containerInfo,B=qf(e);Hf(e,B,N);break;default:throw Error(a(161))}}catch(Q){pe(e,e.return,Q)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function fy(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;fy(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function _r(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)ay(e,n.alternate,n),n=n.sibling}function ea(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:Wr(4,n,n.return),ea(n);break;case 1:ji(n,n.return);var r=n.stateNode;typeof r.componentWillUnmount=="function"&&ey(n,n.return,r),ea(n);break;case 27:Al(n.stateNode);case 26:case 5:ji(n,n.return),ea(n);break;case 22:n.memoizedState===null&&ea(n);break;case 30:ea(n);break;default:ea(n)}e=e.sibling}}function vr(e,n,r){for(r=r&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var o=n.alternate,h=e,f=n,g=f.flags;switch(f.tag){case 0:case 11:case 15:vr(h,f,r),dl(4,f);break;case 1:if(vr(h,f,r),o=f,h=o.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(B){pe(o,o.return,B)}if(o=f,h=o.updateQueue,h!==null){var E=o.stateNode;try{var N=h.shared.hiddenCallbacks;if(N!==null)for(h.shared.hiddenCallbacks=null,h=0;h<N.length;h++)Hg(N[h],E)}catch(B){pe(o,o.return,B)}}r&&g&64&&ty(f),ml(f,f.return);break;case 27:ry(f);case 26:case 5:vr(h,f,r),r&&o===null&&g&4&&ny(f),ml(f,f.return);break;case 12:vr(h,f,r);break;case 31:vr(h,f,r),r&&g&4&&uy(h,f);break;case 13:vr(h,f,r),r&&g&4&&cy(h,f);break;case 22:f.memoizedState===null&&vr(h,f,r),ml(f,f.return);break;case 30:break;default:vr(h,f,r)}n=n.sibling}}function Ff(e,n){var r=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(r=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==r&&(e!=null&&e.refCount++,r!=null&&tl(r))}function Yf(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&tl(e))}function vi(e,n,r,o){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)dy(e,n,r,o),n=n.sibling}function dy(e,n,r,o){var h=n.flags;switch(n.tag){case 0:case 11:case 15:vi(e,n,r,o),h&2048&&dl(9,n);break;case 1:vi(e,n,r,o);break;case 3:vi(e,n,r,o),h&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&tl(e)));break;case 12:if(h&2048){vi(e,n,r,o),e=n.stateNode;try{var f=n.memoizedProps,g=f.id,E=f.onPostCommit;typeof E=="function"&&E(g,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(N){pe(n,n.return,N)}}else vi(e,n,r,o);break;case 31:vi(e,n,r,o);break;case 13:vi(e,n,r,o);break;case 23:break;case 22:f=n.stateNode,g=n.alternate,n.memoizedState!==null?f._visibility&2?vi(e,n,r,o):gl(e,n):f._visibility&2?vi(e,n,r,o):(f._visibility|=2,Qa(e,n,r,o,(n.subtreeFlags&10256)!==0||!1)),h&2048&&Ff(g,n);break;case 24:vi(e,n,r,o),h&2048&&Yf(n.alternate,n);break;default:vi(e,n,r,o)}}function Qa(e,n,r,o,h){for(h=h&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var f=e,g=n,E=r,N=o,B=g.flags;switch(g.tag){case 0:case 11:case 15:Qa(f,g,E,N,h),dl(8,g);break;case 23:break;case 22:var Q=g.stateNode;g.memoizedState!==null?Q._visibility&2?Qa(f,g,E,N,h):gl(f,g):(Q._visibility|=2,Qa(f,g,E,N,h)),h&&B&2048&&Ff(g.alternate,g);break;case 24:Qa(f,g,E,N,h),h&&B&2048&&Yf(g.alternate,g);break;default:Qa(f,g,E,N,h)}n=n.sibling}}function gl(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var r=e,o=n,h=o.flags;switch(o.tag){case 22:gl(r,o),h&2048&&Ff(o.alternate,o);break;case 24:gl(r,o),h&2048&&Yf(o.alternate,o);break;default:gl(r,o)}n=n.sibling}}var pl=8192;function Ka(e,n,r){if(e.subtreeFlags&pl)for(e=e.child;e!==null;)my(e,n,r),e=e.sibling}function my(e,n,r){switch(e.tag){case 26:Ka(e,n,r),e.flags&pl&&e.memoizedState!==null&&oS(r,_i,e.memoizedState,e.memoizedProps);break;case 5:Ka(e,n,r);break;case 3:case 4:var o=_i;_i=_c(e.stateNode.containerInfo),Ka(e,n,r),_i=o;break;case 22:e.memoizedState===null&&(o=e.alternate,o!==null&&o.memoizedState!==null?(o=pl,pl=16777216,Ka(e,n,r),pl=o):Ka(e,n,r));break;default:Ka(e,n,r)}}function gy(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function yl(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var o=n[r];sn=o,yy(o,e)}gy(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)py(e),e=e.sibling}function py(e){switch(e.tag){case 0:case 11:case 15:yl(e),e.flags&2048&&Wr(9,e,e.return);break;case 3:yl(e);break;case 12:yl(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,sc(e)):yl(e);break;default:yl(e)}}function sc(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var o=n[r];sn=o,yy(o,e)}gy(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:Wr(8,n,n.return),sc(n);break;case 22:r=n.stateNode,r._visibility&2&&(r._visibility&=-3,sc(n));break;default:sc(n)}e=e.sibling}}function yy(e,n){for(;sn!==null;){var r=sn;switch(r.tag){case 0:case 11:case 15:Wr(8,r,n);break;case 23:case 22:if(r.memoizedState!==null&&r.memoizedState.cachePool!==null){var o=r.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:tl(r.memoizedState.cache)}if(o=r.child,o!==null)o.return=r,sn=o;else t:for(r=e;sn!==null;){o=sn;var h=o.sibling,f=o.return;if(oy(o),o===r){sn=null;break t}if(h!==null){h.return=f,sn=h;break t}sn=f}}}var S1={getCacheForType:function(e){var n=cn(Fe),r=n.data.get(e);return r===void 0&&(r=e(),n.data.set(e,r)),r},cacheSignal:function(){return cn(Fe).controller.signal}},A1=typeof WeakMap=="function"?WeakMap:Map,ce=0,Ee=null,Yt=null,Xt=0,ge=0,qn=null,ts=!1,Xa=!1,Qf=!1,Tr=0,Le=0,es=0,na=0,Kf=0,Hn=0,Za=0,_l=null,On=null,Xf=!1,ac=0,_y=0,oc=1/0,lc=null,ns=null,$e=0,is=null,Ja=null,Er=0,Zf=0,Jf=null,vy=null,vl=0,$f=null;function Gn(){return(ce&2)!==0&&Xt!==0?Xt&-Xt:Y.T!==null?rd():_a()}function Ty(){if(Hn===0)if((Xt&536870912)===0||ee){var e=se;se<<=1,(se&3932160)===0&&(se=262144),Hn=e}else Hn=536870912;return e=Bn.current,e!==null&&(e.flags|=32),Hn}function Mn(e,n,r){(e===Ee&&(ge===2||ge===9)||e.cancelPendingCommit!==null)&&($a(e,0),rs(e,Xt,Hn,!1)),le(e,r),((ce&2)===0||e!==Ee)&&(e===Ee&&((ce&2)===0&&(na|=r),Le===4&&rs(e,Xt,Hn,!1)),qi(e))}function Ey(e,n,r){if((ce&6)!==0)throw Error(a(327));var o=!r&&(n&127)===0&&(n&e.expiredLanes)===0||it(e,n),h=o?R1(e,n):td(e,n,!0),f=o;do{if(h===0){Xa&&!o&&rs(e,n,0,!1);break}else{if(r=e.current.alternate,f&&!b1(r)){h=td(e,n,!1),f=!1;continue}if(h===2){if(f=n,e.errorRecoveryDisabledLanes&f)var g=0;else g=e.pendingLanes&-536870913,g=g!==0?g:g&536870912?536870912:0;if(g!==0){n=g;t:{var E=e;h=_l;var N=E.current.memoizedState.isDehydrated;if(N&&($a(E,g).flags|=256),g=td(E,g,!1),g!==2){if(Qf&&!N){E.errorRecoveryDisabledLanes|=f,na|=f,h=4;break t}f=On,On=h,f!==null&&(On===null?On=f:On.push.apply(On,f))}h=g}if(f=!1,h!==2)continue}}if(h===1){$a(e,0),rs(e,n,0,!0);break}t:{switch(o=e,f=h,f){case 0:case 1:throw Error(a(345));case 4:if((n&4194048)!==n)break;case 6:rs(o,n,Hn,!ts);break t;case 2:On=null;break;case 3:case 5:break;default:throw Error(a(329))}if((n&62914560)===n&&(h=ac+300-on(),10<h)){if(rs(o,n,Hn,!ts),Ae(o,0,!0)!==0)break t;Er=n,o.timeoutHandle=$y(Sy.bind(null,o,r,On,lc,Xf,n,Hn,na,Za,ts,f,"Throttled",-0,0),h);break t}Sy(o,r,On,lc,Xf,n,Hn,na,Za,ts,f,null,-0,0)}}break}while(!0);qi(e)}function Sy(e,n,r,o,h,f,g,E,N,B,Q,Z,j,H){if(e.timeoutHandle=-1,Z=n.subtreeFlags,Z&8192||(Z&16785408)===16785408){Z={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:fi},my(n,f,Z);var dt=(f&62914560)===f?ac-on():(f&4194048)===f?_y-on():0;if(dt=lS(Z,dt),dt!==null){Er=f,e.cancelPendingCommit=dt(Dy.bind(null,e,n,f,r,o,h,g,E,N,Q,Z,null,j,H)),rs(e,f,g,!B);return}}Dy(e,n,f,r,o,h,g,E,N)}function b1(e){for(var n=e;;){var r=n.tag;if((r===0||r===11||r===15)&&n.flags&16384&&(r=n.updateQueue,r!==null&&(r=r.stores,r!==null)))for(var o=0;o<r.length;o++){var h=r[o],f=h.getSnapshot;h=h.value;try{if(!Pn(f(),h))return!1}catch{return!1}}if(r=n.child,n.subtreeFlags&16384&&r!==null)r.return=n,n=r;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function rs(e,n,r,o){n&=~Kf,n&=~na,e.suspendedLanes|=n,e.pingedLanes&=~n,o&&(e.warmLanes|=n),o=e.expirationTimes;for(var h=n;0<h;){var f=31-ft(h),g=1<<f;o[f]=-1,h&=~g}r!==0&&te(e,r,n)}function uc(){return(ce&6)===0?(Tl(0),!1):!0}function Wf(){if(Yt!==null){if(ge===0)var e=Yt.return;else e=Yt,cr=Qs=null,gf(e),qa=null,nl=0,e=Yt;for(;e!==null;)Wp(e.alternate,e),e=e.return;Yt=null}}function $a(e,n){var r=e.timeoutHandle;r!==-1&&(e.timeoutHandle=-1,G1(r)),r=e.cancelPendingCommit,r!==null&&(e.cancelPendingCommit=null,r()),Er=0,Wf(),Ee=e,Yt=r=lr(e.current,null),Xt=n,ge=0,qn=null,ts=!1,Xa=it(e,n),Qf=!1,Za=Hn=Kf=na=es=Le=0,On=_l=null,Xf=!1,(n&8)!==0&&(n|=n&32);var o=e.entangledLanes;if(o!==0)for(e=e.entanglements,o&=n;0<o;){var h=31-ft(o),f=1<<h;n|=e[h],o&=~f}return Tr=n,Du(),r}function Ay(e,n){zt=null,Y.H=cl,n===ja||n===Pu?(n=zg(),ge=3):n===nf?(n=zg(),ge=4):ge=n===Of?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,qn=n,Yt===null&&(Le=1,$u(e,$n(n,e.current)))}function by(){var e=Bn.current;return e===null?!0:(Xt&4194048)===Xt?ni===null:(Xt&62914560)===Xt||(Xt&536870912)!==0?e===ni:!1}function wy(){var e=Y.H;return Y.H=cl,e===null?cl:e}function Ry(){var e=Y.A;return Y.A=S1,e}function cc(){Le=4,ts||(Xt&4194048)!==Xt&&Bn.current!==null||(Xa=!0),(es&134217727)===0&&(na&134217727)===0||Ee===null||rs(Ee,Xt,Hn,!1)}function td(e,n,r){var o=ce;ce|=2;var h=wy(),f=Ry();(Ee!==e||Xt!==n)&&(lc=null,$a(e,n)),n=!1;var g=Le;t:do try{if(ge!==0&&Yt!==null){var E=Yt,N=qn;switch(ge){case 8:Wf(),g=6;break t;case 3:case 2:case 9:case 6:Bn.current===null&&(n=!0);var B=ge;if(ge=0,qn=null,Wa(e,E,N,B),r&&Xa){g=0;break t}break;default:B=ge,ge=0,qn=null,Wa(e,E,N,B)}}w1(),g=Le;break}catch(Q){Ay(e,Q)}while(!0);return n&&e.shellSuspendCounter++,cr=Qs=null,ce=o,Y.H=h,Y.A=f,Yt===null&&(Ee=null,Xt=0,Du()),g}function w1(){for(;Yt!==null;)Cy(Yt)}function R1(e,n){var r=ce;ce|=2;var o=wy(),h=Ry();Ee!==e||Xt!==n?(lc=null,oc=on()+500,$a(e,n)):Xa=it(e,n);t:do try{if(ge!==0&&Yt!==null){n=Yt;var f=qn;e:switch(ge){case 1:ge=0,qn=null,Wa(e,n,f,1);break;case 2:case 9:if(Ug(f)){ge=0,qn=null,Iy(n);break}n=function(){ge!==2&&ge!==9||Ee!==e||(ge=7),qi(e)},f.then(n,n);break t;case 3:ge=7;break t;case 4:ge=5;break t;case 7:Ug(f)?(ge=0,qn=null,Iy(n)):(ge=0,qn=null,Wa(e,n,f,7));break;case 5:var g=null;switch(Yt.tag){case 26:g=Yt.memoizedState;case 5:case 27:var E=Yt;if(g?d_(g):E.stateNode.complete){ge=0,qn=null;var N=E.sibling;if(N!==null)Yt=N;else{var B=E.return;B!==null?(Yt=B,hc(B)):Yt=null}break e}}ge=0,qn=null,Wa(e,n,f,5);break;case 6:ge=0,qn=null,Wa(e,n,f,6);break;case 8:Wf(),Le=6;break t;default:throw Error(a(462))}}C1();break}catch(Q){Ay(e,Q)}while(!0);return cr=Qs=null,Y.H=o,Y.A=h,ce=r,Yt!==null?0:(Ee=null,Xt=0,Du(),Le)}function C1(){for(;Yt!==null&&!Lr();)Cy(Yt)}function Cy(e){var n=Jp(e.alternate,e,Tr);e.memoizedProps=e.pendingProps,n===null?hc(e):Yt=n}function Iy(e){var n=e,r=n.alternate;switch(n.tag){case 15:case 0:n=Fp(r,n,n.pendingProps,n.type,void 0,Xt);break;case 11:n=Fp(r,n,n.pendingProps,n.type.render,n.ref,Xt);break;case 5:gf(n);default:Wp(r,n),n=Yt=Rg(n,Tr),n=Jp(r,n,Tr)}e.memoizedProps=e.pendingProps,n===null?hc(e):Yt=n}function Wa(e,n,r,o){cr=Qs=null,gf(n),qa=null,nl=0;var h=n.return;try{if(g1(e,h,n,r,Xt)){Le=1,$u(e,$n(r,e.current)),Yt=null;return}}catch(f){if(h!==null)throw Yt=h,f;Le=1,$u(e,$n(r,e.current)),Yt=null;return}n.flags&32768?(ee||o===1?e=!0:Xa||(Xt&536870912)!==0?e=!1:(ts=e=!0,(o===2||o===9||o===3||o===6)&&(o=Bn.current,o!==null&&o.tag===13&&(o.flags|=16384))),Ny(n,e)):hc(n)}function hc(e){var n=e;do{if((n.flags&32768)!==0){Ny(n,ts);return}e=n.return;var r=_1(n.alternate,n,Tr);if(r!==null){Yt=r;return}if(n=n.sibling,n!==null){Yt=n;return}Yt=n=e}while(n!==null);Le===0&&(Le=5)}function Ny(e,n){do{var r=v1(e.alternate,e);if(r!==null){r.flags&=32767,Yt=r;return}if(r=e.return,r!==null&&(r.flags|=32768,r.subtreeFlags=0,r.deletions=null),!n&&(e=e.sibling,e!==null)){Yt=e;return}Yt=e=r}while(e!==null);Le=6,Yt=null}function Dy(e,n,r,o,h,f,g,E,N){e.cancelPendingCommit=null;do fc();while($e!==0);if((ce&6)!==0)throw Error(a(327));if(n!==null){if(n===e.current)throw Error(a(177));if(f=n.lanes|n.childLanes,f|=jh,Ut(e,r,f,g,E,N),e===Ee&&(Yt=Ee=null,Xt=0),Ja=n,is=e,Er=r,Zf=f,Jf=h,vy=o,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,O1(Yn,function(){return xy(),null})):(e.callbackNode=null,e.callbackPriority=0),o=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||o){o=Y.T,Y.T=null,h=ot.p,ot.p=2,g=ce,ce|=4;try{T1(e,n,r)}finally{ce=g,ot.p=h,Y.T=o}}$e=1,Oy(),My(),Vy()}}function Oy(){if($e===1){$e=0;var e=is,n=Ja,r=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||r){r=Y.T,Y.T=null;var o=ot.p;ot.p=2;var h=ce;ce|=4;try{hy(n,e);var f=fd,g=yg(e.containerInfo),E=f.focusedElem,N=f.selectionRange;if(g!==E&&E&&E.ownerDocument&&pg(E.ownerDocument.documentElement,E)){if(N!==null&&kh(E)){var B=N.start,Q=N.end;if(Q===void 0&&(Q=B),"selectionStart"in E)E.selectionStart=B,E.selectionEnd=Math.min(Q,E.value.length);else{var Z=E.ownerDocument||document,j=Z&&Z.defaultView||window;if(j.getSelection){var H=j.getSelection(),dt=E.textContent.length,Rt=Math.min(N.start,dt),Te=N.end===void 0?Rt:Math.min(N.end,dt);!H.extend&&Rt>Te&&(g=Te,Te=Rt,Rt=g);var U=gg(E,Rt),M=gg(E,Te);if(U&&M&&(H.rangeCount!==1||H.anchorNode!==U.node||H.anchorOffset!==U.offset||H.focusNode!==M.node||H.focusOffset!==M.offset)){var z=Z.createRange();z.setStart(U.node,U.offset),H.removeAllRanges(),Rt>Te?(H.addRange(z),H.extend(M.node,M.offset)):(z.setEnd(M.node,M.offset),H.addRange(z))}}}}for(Z=[],H=E;H=H.parentNode;)H.nodeType===1&&Z.push({element:H,left:H.scrollLeft,top:H.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<Z.length;E++){var X=Z[E];X.element.scrollLeft=X.left,X.element.scrollTop=X.top}}bc=!!hd,fd=hd=null}finally{ce=h,ot.p=o,Y.T=r}}e.current=n,$e=2}}function My(){if($e===2){$e=0;var e=is,n=Ja,r=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||r){r=Y.T,Y.T=null;var o=ot.p;ot.p=2;var h=ce;ce|=4;try{ay(e,n.alternate,n)}finally{ce=h,ot.p=o,Y.T=r}}$e=3}}function Vy(){if($e===4||$e===3){$e=0,Os();var e=is,n=Ja,r=Er,o=vy;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?$e=5:($e=0,Ja=is=null,Ly(e,e.pendingLanes));var h=e.pendingLanes;if(h===0&&(ns=null),xn(r),n=n.stateNode,J&&typeof J.onCommitFiberRoot=="function")try{J.onCommitFiberRoot(W,n,void 0,(n.current.flags&128)===128)}catch{}if(o!==null){n=Y.T,h=ot.p,ot.p=2,Y.T=null;try{for(var f=e.onRecoverableError,g=0;g<o.length;g++){var E=o[g];f(E.value,{componentStack:E.stack})}}finally{Y.T=n,ot.p=h}}(Er&3)!==0&&fc(),qi(e),h=e.pendingLanes,(r&261930)!==0&&(h&42)!==0?e===$f?vl++:(vl=0,$f=e):vl=0,Tl(0)}}function Ly(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,tl(n)))}function fc(){return Oy(),My(),Vy(),xy()}function xy(){if($e!==5)return!1;var e=is,n=Zf;Zf=0;var r=xn(Er),o=Y.T,h=ot.p;try{ot.p=32>r?32:r,Y.T=null,r=Jf,Jf=null;var f=is,g=Er;if($e=0,Ja=is=null,Er=0,(ce&6)!==0)throw Error(a(331));var E=ce;if(ce|=4,py(f.current),dy(f,f.current,g,r),ce=E,Tl(0,!1),J&&typeof J.onPostCommitFiberRoot=="function")try{J.onPostCommitFiberRoot(W,f)}catch{}return!0}finally{ot.p=h,Y.T=o,Ly(e,n)}}function ky(e,n,r){n=$n(r,n),n=Df(e.stateNode,n,2),e=Zr(e,n,2),e!==null&&(le(e,2),qi(e))}function pe(e,n,r){if(e.tag===3)ky(e,e,r);else for(;n!==null;){if(n.tag===3){ky(n,e,r);break}else if(n.tag===1){var o=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(ns===null||!ns.has(o))){e=$n(r,e),r=Up(2),o=Zr(n,r,2),o!==null&&(Pp(r,o,n,e),le(o,2),qi(o));break}}n=n.return}}function ed(e,n,r){var o=e.pingCache;if(o===null){o=e.pingCache=new A1;var h=new Set;o.set(n,h)}else h=o.get(n),h===void 0&&(h=new Set,o.set(n,h));h.has(r)||(Qf=!0,h.add(r),e=I1.bind(null,e,n,r),n.then(e,e))}function I1(e,n,r){var o=e.pingCache;o!==null&&o.delete(n),e.pingedLanes|=e.suspendedLanes&r,e.warmLanes&=~r,Ee===e&&(Xt&r)===r&&(Le===4||Le===3&&(Xt&62914560)===Xt&&300>on()-ac?(ce&2)===0&&$a(e,0):Kf|=r,Za===Xt&&(Za=0)),qi(e)}function Uy(e,n){n===0&&(n=De()),e=Gs(e,n),e!==null&&(le(e,n),qi(e))}function N1(e){var n=e.memoizedState,r=0;n!==null&&(r=n.retryLane),Uy(e,r)}function D1(e,n){var r=0;switch(e.tag){case 31:case 13:var o=e.stateNode,h=e.memoizedState;h!==null&&(r=h.retryLane);break;case 19:o=e.stateNode;break;case 22:o=e.stateNode._retryCache;break;default:throw Error(a(314))}o!==null&&o.delete(n),Uy(e,r)}function O1(e,n){return ke(e,n)}var dc=null,to=null,nd=!1,mc=!1,id=!1,ss=0;function qi(e){e!==to&&e.next===null&&(to===null?dc=to=e:to=to.next=e),mc=!0,nd||(nd=!0,V1())}function Tl(e,n){if(!id&&mc){id=!0;do for(var r=!1,o=dc;o!==null;){if(e!==0){var h=o.pendingLanes;if(h===0)var f=0;else{var g=o.suspendedLanes,E=o.pingedLanes;f=(1<<31-ft(42|e)+1)-1,f&=h&~(g&~E),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(r=!0,jy(o,f))}else f=Xt,f=Ae(o,o===Ee?f:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(f&3)===0||it(o,f)||(r=!0,jy(o,f));o=o.next}while(r);id=!1}}function M1(){Py()}function Py(){mc=nd=!1;var e=0;ss!==0&&H1()&&(e=ss);for(var n=on(),r=null,o=dc;o!==null;){var h=o.next,f=zy(o,n);f===0?(o.next=null,r===null?dc=h:r.next=h,h===null&&(to=r)):(r=o,(e!==0||(f&3)!==0)&&(mc=!0)),o=h}$e!==0&&$e!==5||Tl(e),ss!==0&&(ss=0)}function zy(e,n){for(var r=e.suspendedLanes,o=e.pingedLanes,h=e.expirationTimes,f=e.pendingLanes&-62914561;0<f;){var g=31-ft(f),E=1<<g,N=h[g];N===-1?((E&r)===0||(E&o)!==0)&&(h[g]=Bt(E,n)):N<=n&&(e.expiredLanes|=E),f&=~E}if(n=Ee,r=Xt,r=Ae(e,e===n?r:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o=e.callbackNode,r===0||e===n&&(ge===2||ge===9)||e.cancelPendingCommit!==null)return o!==null&&o!==null&&wi(o),e.callbackNode=null,e.callbackPriority=0;if((r&3)===0||it(e,r)){if(n=r&-r,n===e.callbackPriority)return n;switch(o!==null&&wi(o),xn(r)){case 2:case 8:r=rr;break;case 32:r=Yn;break;case 268435456:r=T;break;default:r=Yn}return o=By.bind(null,e),r=ke(r,o),e.callbackPriority=n,e.callbackNode=r,n}return o!==null&&o!==null&&wi(o),e.callbackPriority=2,e.callbackNode=null,2}function By(e,n){if($e!==0&&$e!==5)return e.callbackNode=null,e.callbackPriority=0,null;var r=e.callbackNode;if(fc()&&e.callbackNode!==r)return null;var o=Xt;return o=Ae(e,e===Ee?o:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o===0?null:(Ey(e,o,n),zy(e,on()),e.callbackNode!=null&&e.callbackNode===r?By.bind(null,e):null)}function jy(e,n){if(fc())return null;Ey(e,n,!0)}function V1(){F1(function(){(ce&6)!==0?ke(ir,M1):Py()})}function rd(){if(ss===0){var e=za;e===0&&(e=vt,vt<<=1,(vt&261888)===0&&(vt=256)),ss=e}return ss}function qy(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:ba(""+e)}function Hy(e,n){var r=n.ownerDocument.createElement("input");return r.name=n.name,r.value=n.value,e.id&&r.setAttribute("form",e.id),n.parentNode.insertBefore(r,n),e=new FormData(e),r.parentNode.removeChild(r),e}function L1(e,n,r,o,h){if(n==="submit"&&r&&r.stateNode===h){var f=qy((h[nn]||null).action),g=o.submitter;g&&(n=(n=g[nn]||null)?qy(n.formAction):g.getAttribute("formAction"),n!==null&&(f=n,g=null));var E=new xi("action","action",null,o,h);e.push({event:E,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(ss!==0){var N=g?Hy(h,g):new FormData(h);bf(r,{pending:!0,data:N,method:h.method,action:f},null,N)}}else typeof f=="function"&&(E.preventDefault(),N=g?Hy(h,g):new FormData(h),bf(r,{pending:!0,data:N,method:h.method,action:f},f,N))},currentTarget:h}]})}}for(var sd=0;sd<Bh.length;sd++){var ad=Bh[sd],x1=ad.toLowerCase(),k1=ad[0].toUpperCase()+ad.slice(1);yi(x1,"on"+k1)}yi(Tg,"onAnimationEnd"),yi(Eg,"onAnimationIteration"),yi(Sg,"onAnimationStart"),yi("dblclick","onDoubleClick"),yi("focusin","onFocus"),yi("focusout","onBlur"),yi($E,"onTransitionRun"),yi(WE,"onTransitionStart"),yi(t1,"onTransitionCancel"),yi(Ag,"onTransitionEnd"),Oi("onMouseEnter",["mouseout","mouseover"]),Oi("onMouseLeave",["mouseout","mouseover"]),Oi("onPointerEnter",["pointerout","pointerover"]),Oi("onPointerLeave",["pointerout","pointerover"]),Di("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Di("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Di("onBeforeInput",["compositionend","keypress","textInput","paste"]),Di("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Di("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Di("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var El="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),U1=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(El));function Gy(e,n){n=(n&4)!==0;for(var r=0;r<e.length;r++){var o=e[r],h=o.event;o=o.listeners;t:{var f=void 0;if(n)for(var g=o.length-1;0<=g;g--){var E=o[g],N=E.instance,B=E.currentTarget;if(E=E.listener,N!==f&&h.isPropagationStopped())break t;f=E,h.currentTarget=B;try{f(h)}catch(Q){Nu(Q)}h.currentTarget=null,f=N}else for(g=0;g<o.length;g++){if(E=o[g],N=E.instance,B=E.currentTarget,E=E.listener,N!==f&&h.isPropagationStopped())break t;f=E,h.currentTarget=B;try{f(h)}catch(Q){Nu(Q)}h.currentTarget=null,f=N}}}}function Qt(e,n){var r=n[va];r===void 0&&(r=n[va]=new Set);var o=e+"__bubble";r.has(o)||(Fy(n,e,2,!1),r.add(o))}function od(e,n,r){var o=0;n&&(o|=4),Fy(r,e,o,n)}var gc="_reactListening"+Math.random().toString(36).slice(2);function ld(e){if(!e[gc]){e[gc]=!0,Vo.forEach(function(r){r!=="selectionchange"&&(U1.has(r)||od(r,!1,e),od(r,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[gc]||(n[gc]=!0,od("selectionchange",!1,n))}}function Fy(e,n,r,o){switch(T_(n)){case 2:var h=hS;break;case 8:h=fS;break;default:h=Ad}r=h.bind(null,n,r,e),h=void 0,!ks||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),o?h!==void 0?e.addEventListener(n,r,{capture:!0,passive:h}):e.addEventListener(n,r,!0):h!==void 0?e.addEventListener(n,r,{passive:h}):e.addEventListener(n,r,!1)}function ud(e,n,r,o,h){var f=o;if((n&1)===0&&(n&2)===0&&o!==null)t:for(;;){if(o===null)return;var g=o.tag;if(g===3||g===4){var E=o.stateNode.containerInfo;if(E===h)break;if(g===4)for(g=o.return;g!==null;){var N=g.tag;if((N===3||N===4)&&g.stateNode.containerInfo===h)return;g=g.return}for(;E!==null;){if(g=Ii(E),g===null)return;if(N=g.tag,N===5||N===6||N===26||N===27){o=f=g;continue t}E=E.parentNode}}o=o.return}Br(function(){var B=f,Q=Kn(r),Z=[];t:{var j=bg.get(e);if(j!==void 0){var H=xi,dt=e;switch(e){case"keypress":if(Ps(r)===0)break t;case"keydown":case"keyup":H=Ru;break;case"focusin":dt="focus",H=Bs;break;case"focusout":dt="blur",H=Bs;break;case"beforeblur":case"afterblur":H=Bs;break;case"click":if(r.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":H=Yo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":H=yu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":H=m;break;case Tg:case Eg:case Sg:H=vu;break;case Ag:H=S;break;case"scroll":case"scrollend":H=Fo;break;case"wheel":H=q;break;case"copy":case"cut":case"paste":H=Tu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":H=or;break;case"toggle":case"beforetoggle":H=Pt}var Rt=(n&4)!==0,Te=!Rt&&(e==="scroll"||e==="scrollend"),U=Rt?j!==null?j+"Capture":null:j;Rt=[];for(var M=B,z;M!==null;){var X=M;if(z=X.stateNode,X=X.tag,X!==5&&X!==26&&X!==27||z===null||U===null||(X=di(M,U),X!=null&&Rt.push(Sl(M,X,z))),Te)break;M=M.return}0<Rt.length&&(j=new H(j,dt,null,r,Q),Z.push({event:j,listeners:Rt}))}}if((n&7)===0){t:{if(j=e==="mouseover"||e==="pointerover",H=e==="mouseout"||e==="pointerout",j&&r!==qo&&(dt=r.relatedTarget||r.fromElement)&&(Ii(dt)||dt[Ri]))break t;if((H||j)&&(j=Q.window===Q?Q:(j=Q.ownerDocument)?j.defaultView||j.parentWindow:window,H?(dt=r.relatedTarget||r.toElement,H=B,dt=dt?Ii(dt):null,dt!==null&&(Te=c(dt),Rt=dt.tag,dt!==Te||Rt!==5&&Rt!==27&&Rt!==6)&&(dt=null)):(H=null,dt=B),H!==dt)){if(Rt=Yo,X="onMouseLeave",U="onMouseEnter",M="mouse",(e==="pointerout"||e==="pointerover")&&(Rt=or,X="onPointerLeave",U="onPointerEnter",M="pointer"),Te=H==null?j:kn(H),z=dt==null?j:kn(dt),j=new Rt(X,M+"leave",H,r,Q),j.target=Te,j.relatedTarget=z,X=null,Ii(Q)===B&&(Rt=new Rt(U,M+"enter",dt,r,Q),Rt.target=z,Rt.relatedTarget=Te,X=Rt),Te=X,H&&dt)e:{for(Rt=P1,U=H,M=dt,z=0,X=U;X;X=Rt(X))z++;X=0;for(var Et=M;Et;Et=Rt(Et))X++;for(;0<z-X;)U=Rt(U),z--;for(;0<X-z;)M=Rt(M),X--;for(;z--;){if(U===M||M!==null&&U===M.alternate){Rt=U;break e}U=Rt(U),M=Rt(M)}Rt=null}else Rt=null;H!==null&&Yy(Z,j,H,Rt,!1),dt!==null&&Te!==null&&Yy(Z,Te,dt,Rt,!0)}}t:{if(j=B?kn(B):window,H=j.nodeName&&j.nodeName.toLowerCase(),H==="select"||H==="input"&&j.type==="file")var ae=ug;else if(og(j))if(cg)ae=XE;else{ae=QE;var mt=YE}else H=j.nodeName,!H||H.toLowerCase()!=="input"||j.type!=="checkbox"&&j.type!=="radio"?B&&Aa(B.elementType)&&(ae=ug):ae=KE;if(ae&&(ae=ae(e,B))){lg(Z,ae,r,Q);break t}mt&&mt(e,j,B),e==="focusout"&&B&&j.type==="number"&&B.memoizedProps.value!=null&&zo(j,"number",j.value)}switch(mt=B?kn(B):window,e){case"focusin":(og(mt)||mt.contentEditable==="true")&&(Oa=mt,Uh=B,Jo=null);break;case"focusout":Jo=Uh=Oa=null;break;case"mousedown":Ph=!0;break;case"contextmenu":case"mouseup":case"dragend":Ph=!1,_g(Z,r,Q);break;case"selectionchange":if(JE)break;case"keydown":case"keyup":_g(Z,r,Q)}var jt;if(ue)t:{switch(e){case"compositionstart":var Zt="onCompositionStart";break t;case"compositionend":Zt="onCompositionEnd";break t;case"compositionupdate":Zt="onCompositionUpdate";break t}Zt=void 0}else Da?js(e,r)&&(Zt="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(Zt="onCompositionStart");Zt&&(Pi&&r.locale!=="ko"&&(Da||Zt!=="onCompositionStart"?Zt==="onCompositionEnd"&&Da&&(jt=Go()):(Li=Q,Ho="value"in Li?Li.value:Li.textContent,Da=!0)),mt=pc(B,Zt),0<mt.length&&(Zt=new Ui(Zt,e,null,r,Q),Z.push({event:Zt,listeners:mt}),jt?Zt.data=jt:(jt=Na(r),jt!==null&&(Zt.data=jt)))),(jt=Zn?qE(e,r):HE(e,r))&&(Zt=pc(B,"onBeforeInput"),0<Zt.length&&(mt=new Ui("onBeforeInput","beforeinput",null,r,Q),Z.push({event:mt,listeners:Zt}),mt.data=jt)),L1(Z,e,B,r,Q)}Gy(Z,n)})}function Sl(e,n,r){return{instance:e,listener:n,currentTarget:r}}function pc(e,n){for(var r=n+"Capture",o=[];e!==null;){var h=e,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=di(e,r),h!=null&&o.unshift(Sl(e,h,f)),h=di(e,n),h!=null&&o.push(Sl(e,h,f))),e.tag===3)return o;e=e.return}return[]}function P1(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Yy(e,n,r,o,h){for(var f=n._reactName,g=[];r!==null&&r!==o;){var E=r,N=E.alternate,B=E.stateNode;if(E=E.tag,N!==null&&N===o)break;E!==5&&E!==26&&E!==27||B===null||(N=B,h?(B=di(r,f),B!=null&&g.unshift(Sl(r,B,N))):h||(B=di(r,f),B!=null&&g.push(Sl(r,B,N)))),r=r.return}g.length!==0&&e.push({event:n,listeners:g})}var z1=/\r\n?/g,B1=/\u0000|\uFFFD/g;function Qy(e){return(typeof e=="string"?e:""+e).replace(z1,`
`).replace(B1,"")}function Ky(e,n){return n=Qy(n),Qy(e)===n}function ve(e,n,r,o,h,f){switch(r){case"children":typeof o=="string"?n==="body"||n==="textarea"&&o===""||Cn(e,o):(typeof o=="number"||typeof o=="bigint")&&n!=="body"&&Cn(e,""+o);break;case"className":Un(e,"class",o);break;case"tabIndex":Un(e,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":Un(e,r,o);break;case"style":jo(e,o,f);break;case"data":if(n!=="object"){Un(e,"data",o);break}case"src":case"href":if(o===""&&(n!=="a"||r!=="href")){e.removeAttribute(r);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(r);break}o=ba(""+o),e.setAttribute(r,o);break;case"action":case"formAction":if(typeof o=="function"){e.setAttribute(r,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(r==="formAction"?(n!=="input"&&ve(e,n,"name",h.name,h,null),ve(e,n,"formEncType",h.formEncType,h,null),ve(e,n,"formMethod",h.formMethod,h,null),ve(e,n,"formTarget",h.formTarget,h,null)):(ve(e,n,"encType",h.encType,h,null),ve(e,n,"method",h.method,h,null),ve(e,n,"target",h.target,h,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(r);break}o=ba(""+o),e.setAttribute(r,o);break;case"onClick":o!=null&&(e.onclick=fi);break;case"onScroll":o!=null&&Qt("scroll",e);break;case"onScrollEnd":o!=null&&Qt("scrollend",e);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(a(61));if(r=o.__html,r!=null){if(h.children!=null)throw Error(a(60));e.innerHTML=r}}break;case"multiple":e.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":e.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){e.removeAttribute("xlink:href");break}r=ba(""+o),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",r);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(r,""+o):e.removeAttribute(r);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(r,""):e.removeAttribute(r);break;case"capture":case"download":o===!0?e.setAttribute(r,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(r,o):e.removeAttribute(r);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?e.setAttribute(r,o):e.removeAttribute(r);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?e.removeAttribute(r):e.setAttribute(r,o);break;case"popover":Qt("beforetoggle",e),Qt("toggle",e),Ea(e,"popover",o);break;case"xlinkActuate":Ge(e,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":Ge(e,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":Ge(e,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":Ge(e,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":Ge(e,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":Ge(e,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":Ge(e,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":Ge(e,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":Ge(e,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":Ea(e,"is",o);break;case"innerText":case"textContent":break;default:(!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(r=pu.get(r)||r,Ea(e,r,o))}}function cd(e,n,r,o,h,f){switch(r){case"style":jo(e,o,f);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(a(61));if(r=o.__html,r!=null){if(h.children!=null)throw Error(a(60));e.innerHTML=r}}break;case"children":typeof o=="string"?Cn(e,o):(typeof o=="number"||typeof o=="bigint")&&Cn(e,""+o);break;case"onScroll":o!=null&&Qt("scroll",e);break;case"onScrollEnd":o!=null&&Qt("scrollend",e);break;case"onClick":o!=null&&(e.onclick=fi);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Lo.hasOwnProperty(r))t:{if(r[0]==="o"&&r[1]==="n"&&(h=r.endsWith("Capture"),n=r.slice(2,h?r.length-7:void 0),f=e[nn]||null,f=f!=null?f[r]:null,typeof f=="function"&&e.removeEventListener(n,f,h),typeof o=="function")){typeof f!="function"&&f!==null&&(r in e?e[r]=null:e.hasAttribute(r)&&e.removeAttribute(r)),e.addEventListener(n,o,h);break t}r in e?e[r]=o:o===!0?e.setAttribute(r,""):Ea(e,r,o)}}}function fn(e,n,r){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Qt("error",e),Qt("load",e);var o=!1,h=!1,f;for(f in r)if(r.hasOwnProperty(f)){var g=r[f];if(g!=null)switch(f){case"src":o=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:ve(e,n,f,g,r,null)}}h&&ve(e,n,"srcSet",r.srcSet,r,null),o&&ve(e,n,"src",r.src,r,null);return;case"input":Qt("invalid",e);var E=f=g=h=null,N=null,B=null;for(o in r)if(r.hasOwnProperty(o)){var Q=r[o];if(Q!=null)switch(o){case"name":h=Q;break;case"type":g=Q;break;case"checked":N=Q;break;case"defaultChecked":B=Q;break;case"value":f=Q;break;case"defaultValue":E=Q;break;case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(a(137,n));break;default:ve(e,n,o,Q,r,null)}}du(e,f,E,N,B,g,h,!1);return;case"select":Qt("invalid",e),o=g=f=null;for(h in r)if(r.hasOwnProperty(h)&&(E=r[h],E!=null))switch(h){case"value":f=E;break;case"defaultValue":g=E;break;case"multiple":o=E;default:ve(e,n,h,E,r,null)}n=f,r=g,e.multiple=!!o,n!=null?kr(e,!!o,n,!1):r!=null&&kr(e,!!o,r,!0);return;case"textarea":Qt("invalid",e),f=h=o=null;for(g in r)if(r.hasOwnProperty(g)&&(E=r[g],E!=null))switch(g){case"value":o=E;break;case"defaultValue":h=E;break;case"children":f=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(a(91));break;default:ve(e,n,g,E,r,null)}Ur(e,o,h,f);return;case"option":for(N in r)if(r.hasOwnProperty(N)&&(o=r[N],o!=null))switch(N){case"selected":e.selected=o&&typeof o!="function"&&typeof o!="symbol";break;default:ve(e,n,N,o,r,null)}return;case"dialog":Qt("beforetoggle",e),Qt("toggle",e),Qt("cancel",e),Qt("close",e);break;case"iframe":case"object":Qt("load",e);break;case"video":case"audio":for(o=0;o<El.length;o++)Qt(El[o],e);break;case"image":Qt("error",e),Qt("load",e);break;case"details":Qt("toggle",e);break;case"embed":case"source":case"link":Qt("error",e),Qt("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(B in r)if(r.hasOwnProperty(B)&&(o=r[B],o!=null))switch(B){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:ve(e,n,B,o,r,null)}return;default:if(Aa(n)){for(Q in r)r.hasOwnProperty(Q)&&(o=r[Q],o!==void 0&&cd(e,n,Q,o,r,void 0));return}}for(E in r)r.hasOwnProperty(E)&&(o=r[E],o!=null&&ve(e,n,E,o,r,null))}function j1(e,n,r,o){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,g=null,E=null,N=null,B=null,Q=null;for(H in r){var Z=r[H];if(r.hasOwnProperty(H)&&Z!=null)switch(H){case"checked":break;case"value":break;case"defaultValue":N=Z;default:o.hasOwnProperty(H)||ve(e,n,H,null,o,Z)}}for(var j in o){var H=o[j];if(Z=r[j],o.hasOwnProperty(j)&&(H!=null||Z!=null))switch(j){case"type":f=H;break;case"name":h=H;break;case"checked":B=H;break;case"defaultChecked":Q=H;break;case"value":g=H;break;case"defaultValue":E=H;break;case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(a(137,n));break;default:H!==Z&&ve(e,n,j,H,o,Z)}}Sa(e,g,E,N,B,Q,f,h);return;case"select":H=g=E=j=null;for(f in r)if(N=r[f],r.hasOwnProperty(f)&&N!=null)switch(f){case"value":break;case"multiple":H=N;default:o.hasOwnProperty(f)||ve(e,n,f,null,o,N)}for(h in o)if(f=o[h],N=r[h],o.hasOwnProperty(h)&&(f!=null||N!=null))switch(h){case"value":j=f;break;case"defaultValue":E=f;break;case"multiple":g=f;default:f!==N&&ve(e,n,h,f,o,N)}n=E,r=g,o=H,j!=null?kr(e,!!r,j,!1):!!o!=!!r&&(n!=null?kr(e,!!r,n,!0):kr(e,!!r,r?[]:"",!1));return;case"textarea":H=j=null;for(E in r)if(h=r[E],r.hasOwnProperty(E)&&h!=null&&!o.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:ve(e,n,E,null,o,h)}for(g in o)if(h=o[g],f=r[g],o.hasOwnProperty(g)&&(h!=null||f!=null))switch(g){case"value":j=h;break;case"defaultValue":H=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(a(91));break;default:h!==f&&ve(e,n,g,h,o,f)}mu(e,j,H);return;case"option":for(var dt in r)if(j=r[dt],r.hasOwnProperty(dt)&&j!=null&&!o.hasOwnProperty(dt))switch(dt){case"selected":e.selected=!1;break;default:ve(e,n,dt,null,o,j)}for(N in o)if(j=o[N],H=r[N],o.hasOwnProperty(N)&&j!==H&&(j!=null||H!=null))switch(N){case"selected":e.selected=j&&typeof j!="function"&&typeof j!="symbol";break;default:ve(e,n,N,j,o,H)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Rt in r)j=r[Rt],r.hasOwnProperty(Rt)&&j!=null&&!o.hasOwnProperty(Rt)&&ve(e,n,Rt,null,o,j);for(B in o)if(j=o[B],H=r[B],o.hasOwnProperty(B)&&j!==H&&(j!=null||H!=null))switch(B){case"children":case"dangerouslySetInnerHTML":if(j!=null)throw Error(a(137,n));break;default:ve(e,n,B,j,o,H)}return;default:if(Aa(n)){for(var Te in r)j=r[Te],r.hasOwnProperty(Te)&&j!==void 0&&!o.hasOwnProperty(Te)&&cd(e,n,Te,void 0,o,j);for(Q in o)j=o[Q],H=r[Q],!o.hasOwnProperty(Q)||j===H||j===void 0&&H===void 0||cd(e,n,Q,j,o,H);return}}for(var U in r)j=r[U],r.hasOwnProperty(U)&&j!=null&&!o.hasOwnProperty(U)&&ve(e,n,U,null,o,j);for(Z in o)j=o[Z],H=r[Z],!o.hasOwnProperty(Z)||j===H||j==null&&H==null||ve(e,n,Z,j,o,H)}function Xy(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function q1(){if(typeof performance.getEntriesByType=="function"){for(var e=0,n=0,r=performance.getEntriesByType("resource"),o=0;o<r.length;o++){var h=r[o],f=h.transferSize,g=h.initiatorType,E=h.duration;if(f&&E&&Xy(g)){for(g=0,E=h.responseEnd,o+=1;o<r.length;o++){var N=r[o],B=N.startTime;if(B>E)break;var Q=N.transferSize,Z=N.initiatorType;Q&&Xy(Z)&&(N=N.responseEnd,g+=Q*(N<E?1:(E-B)/(N-B)))}if(--o,n+=8*(f+g)/(h.duration/1e3),e++,10<e)break}}if(0<e)return n/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var hd=null,fd=null;function yc(e){return e.nodeType===9?e:e.ownerDocument}function Zy(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Jy(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function dd(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var md=null;function H1(){var e=window.event;return e&&e.type==="popstate"?e===md?!1:(md=e,!0):(md=null,!1)}var $y=typeof setTimeout=="function"?setTimeout:void 0,G1=typeof clearTimeout=="function"?clearTimeout:void 0,Wy=typeof Promise=="function"?Promise:void 0,F1=typeof queueMicrotask=="function"?queueMicrotask:typeof Wy<"u"?function(e){return Wy.resolve(null).then(e).catch(Y1)}:$y;function Y1(e){setTimeout(function(){throw e})}function as(e){return e==="head"}function t_(e,n){var r=n,o=0;do{var h=r.nextSibling;if(e.removeChild(r),h&&h.nodeType===8)if(r=h.data,r==="/$"||r==="/&"){if(o===0){e.removeChild(h),ro(n);return}o--}else if(r==="$"||r==="$?"||r==="$~"||r==="$!"||r==="&")o++;else if(r==="html")Al(e.ownerDocument.documentElement);else if(r==="head"){r=e.ownerDocument.head,Al(r);for(var f=r.firstChild;f;){var g=f.nextSibling,E=f.nodeName;f[Ci]||E==="SCRIPT"||E==="STYLE"||E==="LINK"&&f.rel.toLowerCase()==="stylesheet"||r.removeChild(f),f=g}}else r==="body"&&Al(e.ownerDocument.body);r=h}while(r);ro(n)}function e_(e,n){var r=e;e=0;do{var o=r.nextSibling;if(r.nodeType===1?n?(r._stashedDisplay=r.style.display,r.style.display="none"):(r.style.display=r._stashedDisplay||"",r.getAttribute("style")===""&&r.removeAttribute("style")):r.nodeType===3&&(n?(r._stashedText=r.nodeValue,r.nodeValue=""):r.nodeValue=r._stashedText||""),o&&o.nodeType===8)if(r=o.data,r==="/$"){if(e===0)break;e--}else r!=="$"&&r!=="$?"&&r!=="$~"&&r!=="$!"||e++;r=o}while(r)}function gd(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var r=n;switch(n=n.nextSibling,r.nodeName){case"HTML":case"HEAD":case"BODY":gd(r),Ta(r);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(r.rel.toLowerCase()==="stylesheet")continue}e.removeChild(r)}}function Q1(e,n,r,o){for(;e.nodeType===1;){var h=r;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!o&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(o){if(!e[Ci])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(f=e.getAttribute("rel"),f==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(f!==h.rel||e.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||e.getAttribute("title")!==(h.title==null?null:h.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(f=e.getAttribute("src"),(f!==(h.src==null?null:h.src)||e.getAttribute("type")!==(h.type==null?null:h.type)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&e.getAttribute("name")===f)return e}else return e;if(e=ii(e.nextSibling),e===null)break}return null}function K1(e,n,r){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!r||(e=ii(e.nextSibling),e===null))return null;return e}function n_(e,n){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=ii(e.nextSibling),e===null))return null;return e}function pd(e){return e.data==="$?"||e.data==="$~"}function yd(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function X1(e,n){var r=e.ownerDocument;if(e.data==="$~")e._reactRetry=n;else if(e.data!=="$?"||r.readyState!=="loading")n();else{var o=function(){n(),r.removeEventListener("DOMContentLoaded",o)};r.addEventListener("DOMContentLoaded",o),e._reactRetry=o}}function ii(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return e}var _d=null;function i_(e){e=e.nextSibling;for(var n=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"||r==="/&"){if(n===0)return ii(e.nextSibling);n--}else r!=="$"&&r!=="$!"&&r!=="$?"&&r!=="$~"&&r!=="&"||n++}e=e.nextSibling}return null}function r_(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"){if(n===0)return e;n--}else r!=="/$"&&r!=="/&"||n++}e=e.previousSibling}return null}function s_(e,n,r){switch(n=yc(r),e){case"html":if(e=n.documentElement,!e)throw Error(a(452));return e;case"head":if(e=n.head,!e)throw Error(a(453));return e;case"body":if(e=n.body,!e)throw Error(a(454));return e;default:throw Error(a(451))}}function Al(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);Ta(e)}var ri=new Map,a_=new Set;function _c(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Sr=ot.d;ot.d={f:Z1,r:J1,D:$1,C:W1,L:tS,m:eS,X:iS,S:nS,M:rS};function Z1(){var e=Sr.f(),n=uc();return e||n}function J1(e){var n=Qn(e);n!==null&&n.tag===5&&n.type==="form"?Ap(n):Sr.r(e)}var eo=typeof document>"u"?null:document;function o_(e,n,r){var o=eo;if(o&&typeof n=="string"&&n){var h=Rn(n);h='link[rel="'+e+'"][href="'+h+'"]',typeof r=="string"&&(h+='[crossorigin="'+r+'"]'),a_.has(h)||(a_.add(h),e={rel:e,crossOrigin:r,href:n},o.querySelector(h)===null&&(n=o.createElement("link"),fn(n,"link",e),He(n),o.head.appendChild(n)))}}function $1(e){Sr.D(e),o_("dns-prefetch",e,null)}function W1(e,n){Sr.C(e,n),o_("preconnect",e,n)}function tS(e,n,r){Sr.L(e,n,r);var o=eo;if(o&&e&&n){var h='link[rel="preload"][as="'+Rn(n)+'"]';n==="image"&&r&&r.imageSrcSet?(h+='[imagesrcset="'+Rn(r.imageSrcSet)+'"]',typeof r.imageSizes=="string"&&(h+='[imagesizes="'+Rn(r.imageSizes)+'"]')):h+='[href="'+Rn(e)+'"]';var f=h;switch(n){case"style":f=no(e);break;case"script":f=io(e)}ri.has(f)||(e=w({rel:"preload",href:n==="image"&&r&&r.imageSrcSet?void 0:e,as:n},r),ri.set(f,e),o.querySelector(h)!==null||n==="style"&&o.querySelector(bl(f))||n==="script"&&o.querySelector(wl(f))||(n=o.createElement("link"),fn(n,"link",e),He(n),o.head.appendChild(n)))}}function eS(e,n){Sr.m(e,n);var r=eo;if(r&&e){var o=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+Rn(o)+'"][href="'+Rn(e)+'"]',f=h;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=io(e)}if(!ri.has(f)&&(e=w({rel:"modulepreload",href:e},n),ri.set(f,e),r.querySelector(h)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(r.querySelector(wl(f)))return}o=r.createElement("link"),fn(o,"link",e),He(o),r.head.appendChild(o)}}}function nS(e,n,r){Sr.S(e,n,r);var o=eo;if(o&&e){var h=Ni(o).hoistableStyles,f=no(e);n=n||"default";var g=h.get(f);if(!g){var E={loading:0,preload:null};if(g=o.querySelector(bl(f)))E.loading=5;else{e=w({rel:"stylesheet",href:e,"data-precedence":n},r),(r=ri.get(f))&&vd(e,r);var N=g=o.createElement("link");He(N),fn(N,"link",e),N._p=new Promise(function(B,Q){N.onload=B,N.onerror=Q}),N.addEventListener("load",function(){E.loading|=1}),N.addEventListener("error",function(){E.loading|=2}),E.loading|=4,vc(g,n,o)}g={type:"stylesheet",instance:g,count:1,state:E},h.set(f,g)}}}function iS(e,n){Sr.X(e,n);var r=eo;if(r&&e){var o=Ni(r).hoistableScripts,h=io(e),f=o.get(h);f||(f=r.querySelector(wl(h)),f||(e=w({src:e,async:!0},n),(n=ri.get(h))&&Td(e,n),f=r.createElement("script"),He(f),fn(f,"link",e),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function rS(e,n){Sr.M(e,n);var r=eo;if(r&&e){var o=Ni(r).hoistableScripts,h=io(e),f=o.get(h);f||(f=r.querySelector(wl(h)),f||(e=w({src:e,async:!0,type:"module"},n),(n=ri.get(h))&&Td(e,n),f=r.createElement("script"),He(f),fn(f,"link",e),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function l_(e,n,r,o){var h=(h=Ot.current)?_c(h):null;if(!h)throw Error(a(446));switch(e){case"meta":case"title":return null;case"style":return typeof r.precedence=="string"&&typeof r.href=="string"?(n=no(r.href),r=Ni(h).hoistableStyles,o=r.get(n),o||(o={type:"style",instance:null,count:0,state:null},r.set(n,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(r.rel==="stylesheet"&&typeof r.href=="string"&&typeof r.precedence=="string"){e=no(r.href);var f=Ni(h).hoistableStyles,g=f.get(e);if(g||(h=h.ownerDocument||h,g={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(e,g),(f=h.querySelector(bl(e)))&&!f._p&&(g.instance=f,g.state.loading=5),ri.has(e)||(r={rel:"preload",as:"style",href:r.href,crossOrigin:r.crossOrigin,integrity:r.integrity,media:r.media,hrefLang:r.hrefLang,referrerPolicy:r.referrerPolicy},ri.set(e,r),f||sS(h,e,r,g.state))),n&&o===null)throw Error(a(528,""));return g}if(n&&o!==null)throw Error(a(529,""));return null;case"script":return n=r.async,r=r.src,typeof r=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=io(r),r=Ni(h).hoistableScripts,o=r.get(n),o||(o={type:"script",instance:null,count:0,state:null},r.set(n,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,e))}}function no(e){return'href="'+Rn(e)+'"'}function bl(e){return'link[rel="stylesheet"]['+e+"]"}function u_(e){return w({},e,{"data-precedence":e.precedence,precedence:null})}function sS(e,n,r,o){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?o.loading=1:(n=e.createElement("link"),o.preload=n,n.addEventListener("load",function(){return o.loading|=1}),n.addEventListener("error",function(){return o.loading|=2}),fn(n,"link",r),He(n),e.head.appendChild(n))}function io(e){return'[src="'+Rn(e)+'"]'}function wl(e){return"script[async]"+e}function c_(e,n,r){if(n.count++,n.instance===null)switch(n.type){case"style":var o=e.querySelector('style[data-href~="'+Rn(r.href)+'"]');if(o)return n.instance=o,He(o),o;var h=w({},r,{"data-href":r.href,"data-precedence":r.precedence,href:null,precedence:null});return o=(e.ownerDocument||e).createElement("style"),He(o),fn(o,"style",h),vc(o,r.precedence,e),n.instance=o;case"stylesheet":h=no(r.href);var f=e.querySelector(bl(h));if(f)return n.state.loading|=4,n.instance=f,He(f),f;o=u_(r),(h=ri.get(h))&&vd(o,h),f=(e.ownerDocument||e).createElement("link"),He(f);var g=f;return g._p=new Promise(function(E,N){g.onload=E,g.onerror=N}),fn(f,"link",o),n.state.loading|=4,vc(f,r.precedence,e),n.instance=f;case"script":return f=io(r.src),(h=e.querySelector(wl(f)))?(n.instance=h,He(h),h):(o=r,(h=ri.get(f))&&(o=w({},r),Td(o,h)),e=e.ownerDocument||e,h=e.createElement("script"),He(h),fn(h,"link",o),e.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(a(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(o=n.instance,n.state.loading|=4,vc(o,r.precedence,e));return n.instance}function vc(e,n,r){for(var o=r.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=o.length?o[o.length-1]:null,f=h,g=0;g<o.length;g++){var E=o[g];if(E.dataset.precedence===n)f=E;else if(f!==h)break}f?f.parentNode.insertBefore(e,f.nextSibling):(n=r.nodeType===9?r.head:r,n.insertBefore(e,n.firstChild))}function vd(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function Td(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var Tc=null;function h_(e,n,r){if(Tc===null){var o=new Map,h=Tc=new Map;h.set(r,o)}else h=Tc,o=h.get(r),o||(o=new Map,h.set(r,o));if(o.has(e))return o;for(o.set(e,null),r=r.getElementsByTagName(e),h=0;h<r.length;h++){var f=r[h];if(!(f[Ci]||f[qe]||e==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var g=f.getAttribute(n)||"";g=e+g;var E=o.get(g);E?E.push(f):o.set(g,[f])}}return o}function f_(e,n,r){e=e.ownerDocument||e,e.head.insertBefore(r,n==="title"?e.querySelector("head > title"):null)}function aS(e,n,r){if(r===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return e=n.disabled,typeof n.precedence=="string"&&e==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function d_(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function oS(e,n,r,o){if(r.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var h=no(o.href),f=n.querySelector(bl(h));if(f){n=f._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(e.count++,e=Ec.bind(e),n.then(e,e)),r.state.loading|=4,r.instance=f,He(f);return}f=n.ownerDocument||n,o=u_(o),(h=ri.get(h))&&vd(o,h),f=f.createElement("link"),He(f);var g=f;g._p=new Promise(function(E,N){g.onload=E,g.onerror=N}),fn(f,"link",o),r.instance=f}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(r,n),(n=r.state.preload)&&(r.state.loading&3)===0&&(e.count++,r=Ec.bind(e),n.addEventListener("load",r),n.addEventListener("error",r))}}var Ed=0;function lS(e,n){return e.stylesheets&&e.count===0&&Ac(e,e.stylesheets),0<e.count||0<e.imgCount?function(r){var o=setTimeout(function(){if(e.stylesheets&&Ac(e,e.stylesheets),e.unsuspend){var f=e.unsuspend;e.unsuspend=null,f()}},6e4+n);0<e.imgBytes&&Ed===0&&(Ed=62500*q1());var h=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&Ac(e,e.stylesheets),e.unsuspend)){var f=e.unsuspend;e.unsuspend=null,f()}},(e.imgBytes>Ed?50:800)+n);return e.unsuspend=r,function(){e.unsuspend=null,clearTimeout(o),clearTimeout(h)}}:null}function Ec(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Ac(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Sc=null;function Ac(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Sc=new Map,n.forEach(uS,e),Sc=null,Ec.call(e))}function uS(e,n){if(!(n.state.loading&4)){var r=Sc.get(e);if(r)var o=r.get(null);else{r=new Map,Sc.set(e,r);for(var h=e.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var g=h[f];(g.nodeName==="LINK"||g.getAttribute("media")!=="not all")&&(r.set(g.dataset.precedence,g),o=g)}o&&r.set(null,o)}h=n.instance,g=h.getAttribute("data-precedence"),f=r.get(g)||o,f===o&&r.set(null,h),r.set(g,h),this.count++,o=Ec.bind(this),h.addEventListener("load",o),h.addEventListener("error",o),f?f.parentNode.insertBefore(h,f.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(h,e.firstChild)),n.state.loading|=4}}var Rl={$$typeof:pt,Provider:null,Consumer:null,_currentValue:yt,_currentValue2:yt,_threadCount:0};function cS(e,n,r,o,h,f,g,E,N){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Nt(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Nt(0),this.hiddenUpdates=Nt(null),this.identifierPrefix=o,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=g,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=N,this.incompleteTransitions=new Map}function m_(e,n,r,o,h,f,g,E,N,B,Q,Z){return e=new cS(e,n,r,g,N,B,Q,Z,E),n=1,f===!0&&(n|=24),f=zn(3,null,null,n),e.current=f,f.stateNode=e,n=Wh(),n.refCount++,e.pooledCache=n,n.refCount++,f.memoizedState={element:o,isDehydrated:r,cache:n},rf(f),e}function g_(e){return e?(e=La,e):La}function p_(e,n,r,o,h,f){h=g_(h),o.context===null?o.context=h:o.pendingContext=h,o=Xr(n),o.payload={element:r},f=f===void 0?null:f,f!==null&&(o.callback=f),r=Zr(e,o,n),r!==null&&(Mn(r,e,n),rl(r,e,n))}function y_(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<n?r:n}}function Sd(e,n){y_(e,n),(e=e.alternate)&&y_(e,n)}function __(e){if(e.tag===13||e.tag===31){var n=Gs(e,67108864);n!==null&&Mn(n,e,67108864),Sd(e,67108864)}}function v_(e){if(e.tag===13||e.tag===31){var n=Gn();n=ui(n);var r=Gs(e,n);r!==null&&Mn(r,e,n),Sd(e,n)}}var bc=!0;function hS(e,n,r,o){var h=Y.T;Y.T=null;var f=ot.p;try{ot.p=2,Ad(e,n,r,o)}finally{ot.p=f,Y.T=h}}function fS(e,n,r,o){var h=Y.T;Y.T=null;var f=ot.p;try{ot.p=8,Ad(e,n,r,o)}finally{ot.p=f,Y.T=h}}function Ad(e,n,r,o){if(bc){var h=bd(o);if(h===null)ud(e,n,o,wc,r),E_(e,o);else if(mS(h,e,n,r,o))o.stopPropagation();else if(E_(e,o),n&4&&-1<dS.indexOf(e)){for(;h!==null;){var f=Qn(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var g=de(f.pendingLanes);if(g!==0){var E=f;for(E.pendingLanes|=2,E.entangledLanes|=2;g;){var N=1<<31-ft(g);E.entanglements[1]|=N,g&=~N}qi(f),(ce&6)===0&&(oc=on()+500,Tl(0))}}break;case 31:case 13:E=Gs(f,2),E!==null&&Mn(E,f,2),uc(),Sd(f,2)}if(f=bd(o),f===null&&ud(e,n,o,wc,r),f===h)break;h=f}h!==null&&o.stopPropagation()}else ud(e,n,o,null,r)}}function bd(e){return e=Kn(e),wd(e)}var wc=null;function wd(e){if(wc=null,e=Ii(e),e!==null){var n=c(e);if(n===null)e=null;else{var r=n.tag;if(r===13){if(e=d(n),e!==null)return e;e=null}else if(r===31){if(e=p(n),e!==null)return e;e=null}else if(r===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return wc=e,null}function T_(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(nr()){case ir:return 2;case rr:return 8;case Yn:case Ms:return 32;case T:return 268435456;default:return 32}default:return 32}}var Rd=!1,os=null,ls=null,us=null,Cl=new Map,Il=new Map,cs=[],dS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function E_(e,n){switch(e){case"focusin":case"focusout":os=null;break;case"dragenter":case"dragleave":ls=null;break;case"mouseover":case"mouseout":us=null;break;case"pointerover":case"pointerout":Cl.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Il.delete(n.pointerId)}}function Nl(e,n,r,o,h,f){return e===null||e.nativeEvent!==f?(e={blockedOn:n,domEventName:r,eventSystemFlags:o,nativeEvent:f,targetContainers:[h]},n!==null&&(n=Qn(n),n!==null&&__(n)),e):(e.eventSystemFlags|=o,n=e.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),e)}function mS(e,n,r,o,h){switch(n){case"focusin":return os=Nl(os,e,n,r,o,h),!0;case"dragenter":return ls=Nl(ls,e,n,r,o,h),!0;case"mouseover":return us=Nl(us,e,n,r,o,h),!0;case"pointerover":var f=h.pointerId;return Cl.set(f,Nl(Cl.get(f)||null,e,n,r,o,h)),!0;case"gotpointercapture":return f=h.pointerId,Il.set(f,Nl(Il.get(f)||null,e,n,r,o,h)),!0}return!1}function S_(e){var n=Ii(e.target);if(n!==null){var r=c(n);if(r!==null){if(n=r.tag,n===13){if(n=d(r),n!==null){e.blockedOn=n,ci(e.priority,function(){v_(r)});return}}else if(n===31){if(n=p(r),n!==null){e.blockedOn=n,ci(e.priority,function(){v_(r)});return}}else if(n===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Rc(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var r=bd(e.nativeEvent);if(r===null){r=e.nativeEvent;var o=new r.constructor(r.type,r);qo=o,r.target.dispatchEvent(o),qo=null}else return n=Qn(r),n!==null&&__(n),e.blockedOn=r,!1;n.shift()}return!0}function A_(e,n,r){Rc(e)&&r.delete(n)}function gS(){Rd=!1,os!==null&&Rc(os)&&(os=null),ls!==null&&Rc(ls)&&(ls=null),us!==null&&Rc(us)&&(us=null),Cl.forEach(A_),Il.forEach(A_)}function Cc(e,n){e.blockedOn===n&&(e.blockedOn=null,Rd||(Rd=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,gS)))}var Ic=null;function b_(e){Ic!==e&&(Ic=e,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){Ic===e&&(Ic=null);for(var n=0;n<e.length;n+=3){var r=e[n],o=e[n+1],h=e[n+2];if(typeof o!="function"){if(wd(o||r)===null)continue;break}var f=Qn(r);f!==null&&(e.splice(n,3),n-=3,bf(f,{pending:!0,data:h,method:r.method,action:o},o,h))}}))}function ro(e){function n(N){return Cc(N,e)}os!==null&&Cc(os,e),ls!==null&&Cc(ls,e),us!==null&&Cc(us,e),Cl.forEach(n),Il.forEach(n);for(var r=0;r<cs.length;r++){var o=cs[r];o.blockedOn===e&&(o.blockedOn=null)}for(;0<cs.length&&(r=cs[0],r.blockedOn===null);)S_(r),r.blockedOn===null&&cs.shift();if(r=(e.ownerDocument||e).$$reactFormReplay,r!=null)for(o=0;o<r.length;o+=3){var h=r[o],f=r[o+1],g=h[nn]||null;if(typeof f=="function")g||b_(r);else if(g){var E=null;if(f&&f.hasAttribute("formAction")){if(h=f,g=f[nn]||null)E=g.formAction;else if(wd(h)!==null)continue}else E=g.action;typeof E=="function"?r[o+1]=E:(r.splice(o,3),o-=3),b_(r)}}}function w_(){function e(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(g){return h=g})},focusReset:"manual",scroll:"manual"})}function n(){h!==null&&(h(),h=null),o||setTimeout(r,20)}function r(){if(!o&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var o=!1,h=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(r,100),function(){o=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),h!==null&&(h(),h=null)}}}function Cd(e){this._internalRoot=e}Nc.prototype.render=Cd.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(a(409));var r=n.current,o=Gn();p_(r,o,e,n,null,null)},Nc.prototype.unmount=Cd.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;p_(e.current,2,null,e,null,null),uc(),n[Ri]=null}};function Nc(e){this._internalRoot=e}Nc.prototype.unstable_scheduleHydration=function(e){if(e){var n=_a();e={blockedOn:null,target:e,priority:n};for(var r=0;r<cs.length&&n!==0&&n<cs[r].priority;r++);cs.splice(r,0,e),r===0&&S_(e)}};var R_=t.version;if(R_!=="19.2.0")throw Error(a(527,R_,"19.2.0"));ot.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(a(188)):(e=Object.keys(e).join(","),Error(a(268,e)));return e=_(n),e=e!==null?A(e):null,e=e===null?null:e.stateNode,e};var pS={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:Y,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Dc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Dc.isDisabled&&Dc.supportsFiber)try{W=Dc.inject(pS),J=Dc}catch{}}return Ol.createRoot=function(e,n){if(!l(e))throw Error(a(299));var r=!1,o="",h=Vp,f=Lp,g=xp;return n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(g=n.onRecoverableError)),n=m_(e,1,!1,null,null,r,o,null,h,f,g,w_),e[Ri]=n.current,ld(e),new Cd(n)},Ol.hydrateRoot=function(e,n,r){if(!l(e))throw Error(a(299));var o=!1,h="",f=Vp,g=Lp,E=xp,N=null;return r!=null&&(r.unstable_strictMode===!0&&(o=!0),r.identifierPrefix!==void 0&&(h=r.identifierPrefix),r.onUncaughtError!==void 0&&(f=r.onUncaughtError),r.onCaughtError!==void 0&&(g=r.onCaughtError),r.onRecoverableError!==void 0&&(E=r.onRecoverableError),r.formState!==void 0&&(N=r.formState)),n=m_(e,1,!0,n,r??null,o,h,N,f,g,E,w_),n.context=g_(null),r=n.current,o=Gn(),o=ui(o),h=Xr(o),h.callback=null,Zr(r,h,o),r=o,n.current.lanes=r,le(n,r),qi(n),e[Ri]=n.current,ld(e),new Nc(n)},Ol.version="19.2.0",Ol}var k_;function CS(){if(k_)return Dd.exports;k_=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(t){console.error(t)}}return s(),Dd.exports=RS(),Dd.exports}var IS=CS();const NS=gv(IS),DS=()=>{};var U_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pv=function(s){const t=[];let i=0;for(let a=0;a<s.length;a++){let l=s.charCodeAt(a);l<128?t[i++]=l:l<2048?(t[i++]=l>>6|192,t[i++]=l&63|128):(l&64512)===55296&&a+1<s.length&&(s.charCodeAt(a+1)&64512)===56320?(l=65536+((l&1023)<<10)+(s.charCodeAt(++a)&1023),t[i++]=l>>18|240,t[i++]=l>>12&63|128,t[i++]=l>>6&63|128,t[i++]=l&63|128):(t[i++]=l>>12|224,t[i++]=l>>6&63|128,t[i++]=l&63|128)}return t},OS=function(s){const t=[];let i=0,a=0;for(;i<s.length;){const l=s[i++];if(l<128)t[a++]=String.fromCharCode(l);else if(l>191&&l<224){const c=s[i++];t[a++]=String.fromCharCode((l&31)<<6|c&63)}else if(l>239&&l<365){const c=s[i++],d=s[i++],p=s[i++],y=((l&7)<<18|(c&63)<<12|(d&63)<<6|p&63)-65536;t[a++]=String.fromCharCode(55296+(y>>10)),t[a++]=String.fromCharCode(56320+(y&1023))}else{const c=s[i++],d=s[i++];t[a++]=String.fromCharCode((l&15)<<12|(c&63)<<6|d&63)}}return t.join("")},yv={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,t){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let l=0;l<s.length;l+=3){const c=s[l],d=l+1<s.length,p=d?s[l+1]:0,y=l+2<s.length,_=y?s[l+2]:0,A=c>>2,w=(c&3)<<4|p>>4;let x=(p&15)<<2|_>>6,G=_&63;y||(G=64,d||(x=64)),a.push(i[A],i[w],i[x],i[G])}return a.join("")},encodeString(s,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(s):this.encodeByteArray(pv(s),t)},decodeString(s,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(s):OS(this.decodeStringToByteArray(s,t))},decodeStringToByteArray(s,t){this.init_();const i=t?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let l=0;l<s.length;){const c=i[s.charAt(l++)],p=l<s.length?i[s.charAt(l)]:0;++l;const _=l<s.length?i[s.charAt(l)]:64;++l;const w=l<s.length?i[s.charAt(l)]:64;if(++l,c==null||p==null||_==null||w==null)throw new MS;const x=c<<2|p>>4;if(a.push(x),_!==64){const G=p<<4&240|_>>2;if(a.push(G),w!==64){const rt=_<<6&192|w;a.push(rt)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class MS extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const VS=function(s){const t=pv(s);return yv.encodeByteArray(t,!0)},Xc=function(s){return VS(s).replace(/\./g,"")},_v=function(s){try{return yv.decodeString(s,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LS(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xS=()=>LS().__FIREBASE_DEFAULTS__,kS=()=>{if(typeof process>"u"||typeof U_>"u")return;const s=U_.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},US=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=s&&_v(s[1]);return t&&JSON.parse(t)},gh=()=>{try{return DS()||xS()||kS()||US()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},vv=s=>{var t,i;return(i=(t=gh())==null?void 0:t.emulatorHosts)==null?void 0:i[s]},PS=s=>{const t=vv(s);if(!t)return;const i=t.lastIndexOf(":");if(i<=0||i+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const a=parseInt(t.substring(i+1),10);return t[0]==="["?[t.substring(1,i-1),a]:[t.substring(0,i),a]},Tv=()=>{var s;return(s=gh())==null?void 0:s.config},Ev=s=>{var t;return(t=gh())==null?void 0:t[`_${s}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zS{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,i)=>{this.resolve=t,this.reject=i})}wrapCallback(t){return(i,a)=>{i?this.reject(i):this.resolve(a),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(i):t(i,a))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ro(s){try{return(s.startsWith("http://")||s.startsWith("https://")?new URL(s).hostname:s).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Sv(s){return(await fetch(s,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BS(s,t){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},a=t||"demo-project",l=s.iat||0,c=s.sub||s.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${a}`,aud:a,iat:l,exp:l+3600,auth_time:l,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...s};return[Xc(JSON.stringify(i)),Xc(JSON.stringify(d)),""].join(".")}const Ul={};function jS(){const s={prod:[],emulator:[]};for(const t of Object.keys(Ul))Ul[t]?s.emulator.push(t):s.prod.push(t);return s}function qS(s){let t=document.getElementById(s),i=!1;return t||(t=document.createElement("div"),t.setAttribute("id",s),i=!0),{created:i,element:t}}let P_=!1;function Av(s,t){if(typeof window>"u"||typeof document>"u"||!Ro(window.location.host)||Ul[s]===t||Ul[s]||P_)return;Ul[s]=t;function i(x){return`__firebase__banner__${x}`}const a="__firebase__banner",c=jS().prod.length>0;function d(){const x=document.getElementById(a);x&&x.remove()}function p(x){x.style.display="flex",x.style.background="#7faaf0",x.style.position="fixed",x.style.bottom="5px",x.style.left="5px",x.style.padding=".5em",x.style.borderRadius="5px",x.style.alignItems="center"}function y(x,G){x.setAttribute("width","24"),x.setAttribute("id",G),x.setAttribute("height","24"),x.setAttribute("viewBox","0 0 24 24"),x.setAttribute("fill","none"),x.style.marginLeft="-6px"}function _(){const x=document.createElement("span");return x.style.cursor="pointer",x.style.marginLeft="16px",x.style.fontSize="24px",x.innerHTML=" &times;",x.onclick=()=>{P_=!0,d()},x}function A(x,G){x.setAttribute("id",G),x.innerText="Learn more",x.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",x.setAttribute("target","__blank"),x.style.paddingLeft="5px",x.style.textDecoration="underline"}function w(){const x=qS(a),G=i("text"),rt=document.getElementById(G)||document.createElement("span"),st=i("learnmore"),nt=document.getElementById(st)||document.createElement("a"),St=i("preprendIcon"),Tt=document.getElementById(St)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(x.created){const pt=x.element;p(pt),A(nt,st);const Gt=_();y(Tt,St),pt.append(Tt,rt,nt,Gt),document.body.appendChild(pt)}c?(rt.innerText="Preview backend disconnected.",Tt.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(Tt.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,rt.innerText="Preview backend running in this workspace."),rt.setAttribute("id",G)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",w):w()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function HS(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Tn())}function GS(){var t;const s=(t=gh())==null?void 0:t.forceEnvironment;if(s==="node")return!0;if(s==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function FS(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function YS(){const s=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof s=="object"&&s.id!==void 0}function QS(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function KS(){const s=Tn();return s.indexOf("MSIE ")>=0||s.indexOf("Trident/")>=0}function XS(){return!GS()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function ZS(){try{return typeof indexedDB=="object"}catch{return!1}}function JS(){return new Promise((s,t)=>{try{let i=!0;const a="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(a);l.onsuccess=()=>{l.result.close(),i||self.indexedDB.deleteDatabase(a),s(!0)},l.onupgradeneeded=()=>{i=!1},l.onerror=()=>{var c;t(((c=l.error)==null?void 0:c.message)||"")}}catch(i){t(i)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $S="FirebaseError";class Dr extends Error{constructor(t,i,a){super(i),this.code=t,this.customData=a,this.name=$S,Object.setPrototypeOf(this,Dr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,tu.prototype.create)}}class tu{constructor(t,i,a){this.service=t,this.serviceName=i,this.errors=a}create(t,...i){const a=i[0]||{},l=`${this.service}/${t}`,c=this.errors[t],d=c?WS(c,a):"Error",p=`${this.serviceName}: ${d} (${l}).`;return new Dr(l,p,a)}}function WS(s,t){return s.replace(tA,(i,a)=>{const l=t[a];return l!=null?String(l):`<${a}?>`})}const tA=/\{\$([^}]+)}/g;function eA(s){for(const t in s)if(Object.prototype.hasOwnProperty.call(s,t))return!1;return!0}function ua(s,t){if(s===t)return!0;const i=Object.keys(s),a=Object.keys(t);for(const l of i){if(!a.includes(l))return!1;const c=s[l],d=t[l];if(z_(c)&&z_(d)){if(!ua(c,d))return!1}else if(c!==d)return!1}for(const l of a)if(!i.includes(l))return!1;return!0}function z_(s){return s!==null&&typeof s=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eu(s){const t=[];for(const[i,a]of Object.entries(s))Array.isArray(a)?a.forEach(l=>{t.push(encodeURIComponent(i)+"="+encodeURIComponent(l))}):t.push(encodeURIComponent(i)+"="+encodeURIComponent(a));return t.length?"&"+t.join("&"):""}function nA(s,t){const i=new iA(s,t);return i.subscribe.bind(i)}class iA{constructor(t,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{t(this)}).catch(a=>{this.error(a)})}next(t){this.forEachObserver(i=>{i.next(t)})}error(t){this.forEachObserver(i=>{i.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,i,a){let l;if(t===void 0&&i===void 0&&a===void 0)throw new Error("Missing Observer.");rA(t,["next","error","complete"])?l=t:l={next:t,error:i,complete:a},l.next===void 0&&(l.next=Ld),l.error===void 0&&(l.error=Ld),l.complete===void 0&&(l.complete=Ld);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),c}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,t)}sendOne(t,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{i(this.observers[t])}catch(a){typeof console<"u"&&console.error&&console.error(a)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function rA(s,t){if(typeof s!="object"||s===null)return!1;for(const i of t)if(i in s&&typeof s[i]=="function")return!0;return!1}function Ld(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fn(s){return s&&s._delegate?s._delegate:s}class ca{constructor(t,i,a){this.name=t,this.instanceFactory=i,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ra="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sA{constructor(t,i){this.name=t,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const i=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(i)){const a=new zS;if(this.instancesDeferred.set(i,a),this.isInitialized(i)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:i});l&&a.resolve(l)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(t){const i=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),a=(t==null?void 0:t.optional)??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(l){if(a)return null;throw l}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(oA(t))try{this.getOrInitializeService({instanceIdentifier:ra})}catch{}for(const[i,a]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(i);try{const c=this.getOrInitializeService({instanceIdentifier:l});a.resolve(c)}catch{}}}}clearInstance(t=ra){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...t.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=ra){return this.instances.has(t)}getOptions(t=ra){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:i={}}=t,a=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:a,options:i});for(const[c,d]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(c);a===p&&d.resolve(l)}return l}onInit(t,i){const a=this.normalizeInstanceIdentifier(i),l=this.onInitCallbacks.get(a)??new Set;l.add(t),this.onInitCallbacks.set(a,l);const c=this.instances.get(a);return c&&t(c,a),()=>{l.delete(t)}}invokeOnInitCallbacks(t,i){const a=this.onInitCallbacks.get(i);if(a)for(const l of a)try{l(t,i)}catch{}}getOrInitializeService({instanceIdentifier:t,options:i={}}){let a=this.instances.get(t);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:aA(t),options:i}),this.instances.set(t,a),this.instancesOptions.set(t,i),this.invokeOnInitCallbacks(a,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,a)}catch{}return a||null}normalizeInstanceIdentifier(t=ra){return this.component?this.component.multipleInstances?t:ra:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function aA(s){return s===ra?void 0:s}function oA(s){return s.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lA{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const i=this.getProvider(t.name);if(i.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);i.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const i=new sA(t,this);return this.providers.set(t,i),i}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Jt;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(Jt||(Jt={}));const uA={debug:Jt.DEBUG,verbose:Jt.VERBOSE,info:Jt.INFO,warn:Jt.WARN,error:Jt.ERROR,silent:Jt.SILENT},cA=Jt.INFO,hA={[Jt.DEBUG]:"log",[Jt.VERBOSE]:"log",[Jt.INFO]:"info",[Jt.WARN]:"warn",[Jt.ERROR]:"error"},fA=(s,t,...i)=>{if(t<s.logLevel)return;const a=new Date().toISOString(),l=hA[t];if(l)console[l](`[${a}]  ${s.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class _m{constructor(t){this.name=t,this._logLevel=cA,this._logHandler=fA,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Jt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?uA[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Jt.DEBUG,...t),this._logHandler(this,Jt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Jt.VERBOSE,...t),this._logHandler(this,Jt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Jt.INFO,...t),this._logHandler(this,Jt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Jt.WARN,...t),this._logHandler(this,Jt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Jt.ERROR,...t),this._logHandler(this,Jt.ERROR,...t)}}const dA=(s,t)=>t.some(i=>s instanceof i);let B_,j_;function mA(){return B_||(B_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function gA(){return j_||(j_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const bv=new WeakMap,Qd=new WeakMap,wv=new WeakMap,xd=new WeakMap,vm=new WeakMap;function pA(s){const t=new Promise((i,a)=>{const l=()=>{s.removeEventListener("success",c),s.removeEventListener("error",d)},c=()=>{i(ys(s.result)),l()},d=()=>{a(s.error),l()};s.addEventListener("success",c),s.addEventListener("error",d)});return t.then(i=>{i instanceof IDBCursor&&bv.set(i,s)}).catch(()=>{}),vm.set(t,s),t}function yA(s){if(Qd.has(s))return;const t=new Promise((i,a)=>{const l=()=>{s.removeEventListener("complete",c),s.removeEventListener("error",d),s.removeEventListener("abort",d)},c=()=>{i(),l()},d=()=>{a(s.error||new DOMException("AbortError","AbortError")),l()};s.addEventListener("complete",c),s.addEventListener("error",d),s.addEventListener("abort",d)});Qd.set(s,t)}let Kd={get(s,t,i){if(s instanceof IDBTransaction){if(t==="done")return Qd.get(s);if(t==="objectStoreNames")return s.objectStoreNames||wv.get(s);if(t==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return ys(s[t])},set(s,t,i){return s[t]=i,!0},has(s,t){return s instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in s}};function _A(s){Kd=s(Kd)}function vA(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...i){const a=s.call(kd(this),t,...i);return wv.set(a,t.sort?t.sort():[t]),ys(a)}:gA().includes(s)?function(...t){return s.apply(kd(this),t),ys(bv.get(this))}:function(...t){return ys(s.apply(kd(this),t))}}function TA(s){return typeof s=="function"?vA(s):(s instanceof IDBTransaction&&yA(s),dA(s,mA())?new Proxy(s,Kd):s)}function ys(s){if(s instanceof IDBRequest)return pA(s);if(xd.has(s))return xd.get(s);const t=TA(s);return t!==s&&(xd.set(s,t),vm.set(t,s)),t}const kd=s=>vm.get(s);function EA(s,t,{blocked:i,upgrade:a,blocking:l,terminated:c}={}){const d=indexedDB.open(s,t),p=ys(d);return a&&d.addEventListener("upgradeneeded",y=>{a(ys(d.result),y.oldVersion,y.newVersion,ys(d.transaction),y)}),i&&d.addEventListener("blocked",y=>i(y.oldVersion,y.newVersion,y)),p.then(y=>{c&&y.addEventListener("close",()=>c()),l&&y.addEventListener("versionchange",_=>l(_.oldVersion,_.newVersion,_))}).catch(()=>{}),p}const SA=["get","getKey","getAll","getAllKeys","count"],AA=["put","add","delete","clear"],Ud=new Map;function q_(s,t){if(!(s instanceof IDBDatabase&&!(t in s)&&typeof t=="string"))return;if(Ud.get(t))return Ud.get(t);const i=t.replace(/FromIndex$/,""),a=t!==i,l=AA.includes(i);if(!(i in(a?IDBIndex:IDBObjectStore).prototype)||!(l||SA.includes(i)))return;const c=async function(d,...p){const y=this.transaction(d,l?"readwrite":"readonly");let _=y.store;return a&&(_=_.index(p.shift())),(await Promise.all([_[i](...p),l&&y.done]))[0]};return Ud.set(t,c),c}_A(s=>({...s,get:(t,i,a)=>q_(t,i)||s.get(t,i,a),has:(t,i)=>!!q_(t,i)||s.has(t,i)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bA{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(wA(i)){const a=i.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(i=>i).join(" ")}}function wA(s){const t=s.getComponent();return(t==null?void 0:t.type)==="VERSION"}const Xd="@firebase/app",H_="0.14.6";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rr=new _m("@firebase/app"),RA="@firebase/app-compat",CA="@firebase/analytics-compat",IA="@firebase/analytics",NA="@firebase/app-check-compat",DA="@firebase/app-check",OA="@firebase/auth",MA="@firebase/auth-compat",VA="@firebase/database",LA="@firebase/data-connect",xA="@firebase/database-compat",kA="@firebase/functions",UA="@firebase/functions-compat",PA="@firebase/installations",zA="@firebase/installations-compat",BA="@firebase/messaging",jA="@firebase/messaging-compat",qA="@firebase/performance",HA="@firebase/performance-compat",GA="@firebase/remote-config",FA="@firebase/remote-config-compat",YA="@firebase/storage",QA="@firebase/storage-compat",KA="@firebase/firestore",XA="@firebase/ai",ZA="@firebase/firestore-compat",JA="firebase",$A="12.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zd="[DEFAULT]",WA={[Xd]:"fire-core",[RA]:"fire-core-compat",[IA]:"fire-analytics",[CA]:"fire-analytics-compat",[DA]:"fire-app-check",[NA]:"fire-app-check-compat",[OA]:"fire-auth",[MA]:"fire-auth-compat",[VA]:"fire-rtdb",[LA]:"fire-data-connect",[xA]:"fire-rtdb-compat",[kA]:"fire-fn",[UA]:"fire-fn-compat",[PA]:"fire-iid",[zA]:"fire-iid-compat",[BA]:"fire-fcm",[jA]:"fire-fcm-compat",[qA]:"fire-perf",[HA]:"fire-perf-compat",[GA]:"fire-rc",[FA]:"fire-rc-compat",[YA]:"fire-gcs",[QA]:"fire-gcs-compat",[KA]:"fire-fst",[ZA]:"fire-fst-compat",[XA]:"fire-vertex","fire-js":"fire-js",[JA]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zc=new Map,tb=new Map,Jd=new Map;function G_(s,t){try{s.container.addComponent(t)}catch(i){Rr.debug(`Component ${t.name} failed to register with FirebaseApp ${s.name}`,i)}}function yo(s){const t=s.name;if(Jd.has(t))return Rr.debug(`There were multiple attempts to register component ${t}.`),!1;Jd.set(t,s);for(const i of Zc.values())G_(i,s);for(const i of tb.values())G_(i,s);return!0}function Tm(s,t){const i=s.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),s.container.getProvider(t)}function Ei(s){return s==null?!1:s.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eb={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},_s=new tu("app","Firebase",eb);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nb{constructor(t,i,a){this._isDeleted=!1,this._options={...t},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new ca("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw _s.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Co=$A;function Rv(s,t={}){let i=s;typeof t!="object"&&(t={name:t});const a={name:Zd,automaticDataCollectionEnabled:!0,...t},l=a.name;if(typeof l!="string"||!l)throw _s.create("bad-app-name",{appName:String(l)});if(i||(i=Tv()),!i)throw _s.create("no-options");const c=Zc.get(l);if(c){if(ua(i,c.options)&&ua(a,c.config))return c;throw _s.create("duplicate-app",{appName:l})}const d=new lA(l);for(const y of Jd.values())d.addComponent(y);const p=new nb(i,a,d);return Zc.set(l,p),p}function Cv(s=Zd){const t=Zc.get(s);if(!t&&s===Zd&&Tv())return Rv();if(!t)throw _s.create("no-app",{appName:s});return t}function vs(s,t,i){let a=WA[s]??s;i&&(a+=`-${i}`);const l=a.match(/\s|\//),c=t.match(/\s|\//);if(l||c){const d=[`Unable to register library "${a}" with version "${t}":`];l&&d.push(`library name "${a}" contains illegal characters (whitespace or "/")`),l&&c&&d.push("and"),c&&d.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Rr.warn(d.join(" "));return}yo(new ca(`${a}-version`,()=>({library:a,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ib="firebase-heartbeat-database",rb=1,Fl="firebase-heartbeat-store";let Pd=null;function Iv(){return Pd||(Pd=EA(ib,rb,{upgrade:(s,t)=>{switch(t){case 0:try{s.createObjectStore(Fl)}catch(i){console.warn(i)}}}}).catch(s=>{throw _s.create("idb-open",{originalErrorMessage:s.message})})),Pd}async function sb(s){try{const i=(await Iv()).transaction(Fl),a=await i.objectStore(Fl).get(Nv(s));return await i.done,a}catch(t){if(t instanceof Dr)Rr.warn(t.message);else{const i=_s.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});Rr.warn(i.message)}}}async function F_(s,t){try{const a=(await Iv()).transaction(Fl,"readwrite");await a.objectStore(Fl).put(t,Nv(s)),await a.done}catch(i){if(i instanceof Dr)Rr.warn(i.message);else{const a=_s.create("idb-set",{originalErrorMessage:i==null?void 0:i.message});Rr.warn(a.message)}}}function Nv(s){return`${s.name}!${s.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ab=1024,ob=30;class lb{constructor(t){this.container=t,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new cb(i),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){var t,i;try{const l=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),c=Y_();if(((t=this._heartbeatsCache)==null?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((i=this._heartbeatsCache)==null?void 0:i.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===c||this._heartbeatsCache.heartbeats.some(d=>d.date===c))return;if(this._heartbeatsCache.heartbeats.push({date:c,agent:l}),this._heartbeatsCache.heartbeats.length>ob){const d=hb(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(d,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(a){Rr.warn(a)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)==null?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const i=Y_(),{heartbeatsToSend:a,unsentEntries:l}=ub(this._heartbeatsCache.heartbeats),c=Xc(JSON.stringify({version:2,heartbeats:a}));return this._heartbeatsCache.lastSentHeartbeatDate=i,l.length>0?(this._heartbeatsCache.heartbeats=l,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),c}catch(i){return Rr.warn(i),""}}}function Y_(){return new Date().toISOString().substring(0,10)}function ub(s,t=ab){const i=[];let a=s.slice();for(const l of s){const c=i.find(d=>d.agent===l.agent);if(c){if(c.dates.push(l.date),Q_(i)>t){c.dates.pop();break}}else if(i.push({agent:l.agent,dates:[l.date]}),Q_(i)>t){i.pop();break}a=a.slice(1)}return{heartbeatsToSend:i,unsentEntries:a}}class cb{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return ZS()?JS().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await sb(this.app);return i!=null&&i.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const a=await this.read();return F_(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const a=await this.read();return F_(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...t.heartbeats]})}else return}}function Q_(s){return Xc(JSON.stringify({version:2,heartbeats:s})).length}function hb(s){if(s.length===0)return-1;let t=0,i=s[0].date;for(let a=1;a<s.length;a++)s[a].date<i&&(i=s[a].date,t=a);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fb(s){yo(new ca("platform-logger",t=>new bA(t),"PRIVATE")),yo(new ca("heartbeat",t=>new lb(t),"PRIVATE")),vs(Xd,H_,s),vs(Xd,H_,"esm2020"),vs("fire-js","")}fb("");function Dv(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const db=Dv,Ov=new tu("auth","Firebase",Dv());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jc=new _m("@firebase/auth");function mb(s,...t){Jc.logLevel<=Jt.WARN&&Jc.warn(`Auth (${Co}): ${s}`,...t)}function zc(s,...t){Jc.logLevel<=Jt.ERROR&&Jc.error(`Auth (${Co}): ${s}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ji(s,...t){throw Sm(s,...t)}function bi(s,...t){return Sm(s,...t)}function Em(s,t,i){const a={...db(),[t]:i};return new tu("auth","Firebase",a).create(t,{appName:s.name})}function oa(s){return Em(s,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function gb(s,t,i){const a=i;if(!(t instanceof a))throw a.name!==t.constructor.name&&Ji(s,"argument-error"),Em(s,"argument-error",`Type of ${t.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Sm(s,...t){if(typeof s!="string"){const i=t[0],a=[...t.slice(1)];return a[0]&&(a[0].appName=s.name),s._errorFactory.create(i,...a)}return Ov.create(s,...t)}function Dt(s,t,...i){if(!s)throw Sm(t,...i)}function Ar(s){const t="INTERNAL ASSERTION FAILED: "+s;throw zc(t),new Error(t)}function Cr(s,t){s||Ar(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $d(){var s;return typeof self<"u"&&((s=self.location)==null?void 0:s.href)||""}function pb(){return K_()==="http:"||K_()==="https:"}function K_(){var s;return typeof self<"u"&&((s=self.location)==null?void 0:s.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yb(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(pb()||YS()||"connection"in navigator)?navigator.onLine:!0}function _b(){if(typeof navigator>"u")return null;const s=navigator;return s.languages&&s.languages[0]||s.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nu{constructor(t,i){this.shortDelay=t,this.longDelay=i,Cr(i>t,"Short delay should be less than long delay!"),this.isMobile=HS()||QS()}get(){return yb()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Am(s,t){Cr(s.emulator,"Emulator should always be set here");const{url:i}=s.emulator;return t?`${i}${t.startsWith("/")?t.slice(1):t}`:i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mv{static initialize(t,i,a){this.fetchImpl=t,i&&(this.headersImpl=i),a&&(this.responseImpl=a)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ar("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ar("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ar("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vb={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tb=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],Eb=new nu(3e4,6e4);function bm(s,t){return s.tenantId&&!t.tenantId?{...t,tenantId:s.tenantId}:t}async function Io(s,t,i,a,l={}){return Vv(s,l,async()=>{let c={},d={};a&&(t==="GET"?d=a:c={body:JSON.stringify(a)});const p=eu({key:s.config.apiKey,...d}).slice(1),y=await s._getAdditionalHeaders();y["Content-Type"]="application/json",s.languageCode&&(y["X-Firebase-Locale"]=s.languageCode);const _={method:t,headers:y,...c};return FS()||(_.referrerPolicy="no-referrer"),s.emulatorConfig&&Ro(s.emulatorConfig.host)&&(_.credentials="include"),Mv.fetch()(await Lv(s,s.config.apiHost,i,p),_)})}async function Vv(s,t,i){s._canInitEmulator=!1;const a={...vb,...t};try{const l=new Ab(s),c=await Promise.race([i(),l.promise]);l.clearNetworkTimeout();const d=await c.json();if("needConfirmation"in d)throw Oc(s,"account-exists-with-different-credential",d);if(c.ok&&!("errorMessage"in d))return d;{const p=c.ok?d.errorMessage:d.error.message,[y,_]=p.split(" : ");if(y==="FEDERATED_USER_ID_ALREADY_LINKED")throw Oc(s,"credential-already-in-use",d);if(y==="EMAIL_EXISTS")throw Oc(s,"email-already-in-use",d);if(y==="USER_DISABLED")throw Oc(s,"user-disabled",d);const A=a[y]||y.toLowerCase().replace(/[_\s]+/g,"-");if(_)throw Em(s,A,_);Ji(s,A)}}catch(l){if(l instanceof Dr)throw l;Ji(s,"network-request-failed",{message:String(l)})}}async function Sb(s,t,i,a,l={}){const c=await Io(s,t,i,a,l);return"mfaPendingCredential"in c&&Ji(s,"multi-factor-auth-required",{_serverResponse:c}),c}async function Lv(s,t,i,a){const l=`${t}${i}?${a}`,c=s,d=c.config.emulator?Am(s.config,l):`${s.config.apiScheme}://${l}`;return Tb.includes(i)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(d).toString():d}class Ab{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((i,a)=>{this.timer=setTimeout(()=>a(bi(this.auth,"network-request-failed")),Eb.get())})}}function Oc(s,t,i){const a={appName:s.name};i.email&&(a.email=i.email),i.phoneNumber&&(a.phoneNumber=i.phoneNumber);const l=bi(s,t,a);return l.customData._tokenResponse=i,l}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bb(s,t){return Io(s,"POST","/v1/accounts:delete",t)}async function $c(s,t){return Io(s,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pl(s){if(s)try{const t=new Date(Number(s));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function wb(s,t=!1){const i=Fn(s),a=await i.getIdToken(t),l=wm(a);Dt(l&&l.exp&&l.auth_time&&l.iat,i.auth,"internal-error");const c=typeof l.firebase=="object"?l.firebase:void 0,d=c==null?void 0:c.sign_in_provider;return{claims:l,token:a,authTime:Pl(zd(l.auth_time)),issuedAtTime:Pl(zd(l.iat)),expirationTime:Pl(zd(l.exp)),signInProvider:d||null,signInSecondFactor:(c==null?void 0:c.sign_in_second_factor)||null}}function zd(s){return Number(s)*1e3}function wm(s){const[t,i,a]=s.split(".");if(t===void 0||i===void 0||a===void 0)return zc("JWT malformed, contained fewer than 3 sections"),null;try{const l=_v(i);return l?JSON.parse(l):(zc("Failed to decode base64 JWT payload"),null)}catch(l){return zc("Caught error parsing JWT payload as JSON",l==null?void 0:l.toString()),null}}function X_(s){const t=wm(s);return Dt(t,"internal-error"),Dt(typeof t.exp<"u","internal-error"),Dt(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Yl(s,t,i=!1){if(i)return t;try{return await t}catch(a){throw a instanceof Dr&&Rb(a)&&s.auth.currentUser===s&&await s.auth.signOut(),a}}function Rb({code:s}){return s==="auth/user-disabled"||s==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cb{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const a=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,a)}}schedule(t=!1){if(!this.isRunning)return;const i=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){(t==null?void 0:t.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wd{constructor(t,i){this.createdAt=t,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=Pl(this.lastLoginAt),this.creationTime=Pl(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Wc(s){var w;const t=s.auth,i=await s.getIdToken(),a=await Yl(s,$c(t,{idToken:i}));Dt(a==null?void 0:a.users.length,t,"internal-error");const l=a.users[0];s._notifyReloadListener(l);const c=(w=l.providerUserInfo)!=null&&w.length?xv(l.providerUserInfo):[],d=Nb(s.providerData,c),p=s.isAnonymous,y=!(s.email&&l.passwordHash)&&!(d!=null&&d.length),_=p?y:!1,A={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:d,metadata:new Wd(l.createdAt,l.lastLoginAt),isAnonymous:_};Object.assign(s,A)}async function Ib(s){const t=Fn(s);await Wc(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function Nb(s,t){return[...s.filter(a=>!t.some(l=>l.providerId===a.providerId)),...t]}function xv(s){return s.map(({providerId:t,...i})=>({providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Db(s,t){const i=await Vv(s,{},async()=>{const a=eu({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:l,apiKey:c}=s.config,d=await Lv(s,l,"/v1/token",`key=${c}`),p=await s._getAdditionalHeaders();p["Content-Type"]="application/x-www-form-urlencoded";const y={method:"POST",headers:p,body:a};return s.emulatorConfig&&Ro(s.emulatorConfig.host)&&(y.credentials="include"),Mv.fetch()(d,y)});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function Ob(s,t){return Io(s,"POST","/v2/accounts:revokeToken",bm(s,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){Dt(t.idToken,"internal-error"),Dt(typeof t.idToken<"u","internal-error"),Dt(typeof t.refreshToken<"u","internal-error");const i="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):X_(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,i)}updateFromIdToken(t){Dt(t.length!==0,"internal-error");const i=X_(t);this.updateTokensAndExpiration(t,null,i)}async getToken(t,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(Dt(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,i){const{accessToken:a,refreshToken:l,expiresIn:c}=await Db(t,i);this.updateTokensAndExpiration(a,l,Number(c))}updateTokensAndExpiration(t,i,a){this.refreshToken=i||null,this.accessToken=t||null,this.expirationTime=Date.now()+a*1e3}static fromJSON(t,i){const{refreshToken:a,accessToken:l,expirationTime:c}=i,d=new fo;return a&&(Dt(typeof a=="string","internal-error",{appName:t}),d.refreshToken=a),l&&(Dt(typeof l=="string","internal-error",{appName:t}),d.accessToken=l),c&&(Dt(typeof c=="number","internal-error",{appName:t}),d.expirationTime=c),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new fo,this.toJSON())}_performRefresh(){return Ar("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fs(s,t){Dt(typeof s=="string"||typeof s>"u","internal-error",{appName:t})}class Si{constructor({uid:t,auth:i,stsTokenManager:a,...l}){this.providerId="firebase",this.proactiveRefresh=new Cb(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new Wd(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(t){const i=await Yl(this,this.stsTokenManager.getToken(this.auth,t));return Dt(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(t){return wb(this,t)}reload(){return Ib(this)}_assign(t){this!==t&&(Dt(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(i=>({...i})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const i=new Si({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return i.metadata._copy(this.metadata),i}_onReload(t){Dt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,i=!1){let a=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),a=!0),i&&await Wc(this),await this.auth._persistUserIfCurrent(this),a&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Ei(this.auth.app))return Promise.reject(oa(this.auth));const t=await this.getIdToken();return await Yl(this,bb(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,i){const a=i.displayName??void 0,l=i.email??void 0,c=i.phoneNumber??void 0,d=i.photoURL??void 0,p=i.tenantId??void 0,y=i._redirectEventId??void 0,_=i.createdAt??void 0,A=i.lastLoginAt??void 0,{uid:w,emailVerified:x,isAnonymous:G,providerData:rt,stsTokenManager:st}=i;Dt(w&&st,t,"internal-error");const nt=fo.fromJSON(this.name,st);Dt(typeof w=="string",t,"internal-error"),fs(a,t.name),fs(l,t.name),Dt(typeof x=="boolean",t,"internal-error"),Dt(typeof G=="boolean",t,"internal-error"),fs(c,t.name),fs(d,t.name),fs(p,t.name),fs(y,t.name),fs(_,t.name),fs(A,t.name);const St=new Si({uid:w,auth:t,email:l,emailVerified:x,displayName:a,isAnonymous:G,photoURL:d,phoneNumber:c,tenantId:p,stsTokenManager:nt,createdAt:_,lastLoginAt:A});return rt&&Array.isArray(rt)&&(St.providerData=rt.map(Tt=>({...Tt}))),y&&(St._redirectEventId=y),St}static async _fromIdTokenResponse(t,i,a=!1){const l=new fo;l.updateFromServerResponse(i);const c=new Si({uid:i.localId,auth:t,stsTokenManager:l,isAnonymous:a});return await Wc(c),c}static async _fromGetAccountInfoResponse(t,i,a){const l=i.users[0];Dt(l.localId!==void 0,"internal-error");const c=l.providerUserInfo!==void 0?xv(l.providerUserInfo):[],d=!(l.email&&l.passwordHash)&&!(c!=null&&c.length),p=new fo;p.updateFromIdToken(a);const y=new Si({uid:l.localId,auth:t,stsTokenManager:p,isAnonymous:d}),_={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:c,metadata:new Wd(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!(c!=null&&c.length)};return Object.assign(y,_),y}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z_=new Map;function br(s){Cr(s instanceof Function,"Expected a class definition");let t=Z_.get(s);return t?(Cr(t instanceof s,"Instance stored in cache mismatched with class"),t):(t=new s,Z_.set(s,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kv{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,i){this.storage[t]=i}async _get(t){const i=this.storage[t];return i===void 0?null:i}async _remove(t){delete this.storage[t]}_addListener(t,i){}_removeListener(t,i){}}kv.type="NONE";const J_=kv;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bc(s,t,i){return`firebase:${s}:${t}:${i}`}class mo{constructor(t,i,a){this.persistence=t,this.auth=i,this.userKey=a;const{config:l,name:c}=this.auth;this.fullUserKey=Bc(this.userKey,l.apiKey,c),this.fullPersistenceKey=Bc("persistence",l.apiKey,c),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const i=await $c(this.auth,{idToken:t}).catch(()=>{});return i?Si._fromGetAccountInfoResponse(this.auth,i,t):null}return Si._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,i,a="authUser"){if(!i.length)return new mo(br(J_),t,a);const l=(await Promise.all(i.map(async _=>{if(await _._isAvailable())return _}))).filter(_=>_);let c=l[0]||br(J_);const d=Bc(a,t.config.apiKey,t.name);let p=null;for(const _ of i)try{const A=await _._get(d);if(A){let w;if(typeof A=="string"){const x=await $c(t,{idToken:A}).catch(()=>{});if(!x)break;w=await Si._fromGetAccountInfoResponse(t,x,A)}else w=Si._fromJSON(t,A);_!==c&&(p=w),c=_;break}}catch{}const y=l.filter(_=>_._shouldAllowMigration);return!c._shouldAllowMigration||!y.length?new mo(c,t,a):(c=y[0],p&&await c._set(d,p.toJSON()),await Promise.all(i.map(async _=>{if(_!==c)try{await _._remove(d)}catch{}})),new mo(c,t,a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $_(s){const t=s.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(Bv(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(Uv(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(qv(t))return"Blackberry";if(Hv(t))return"Webos";if(Pv(t))return"Safari";if((t.includes("chrome/")||zv(t))&&!t.includes("edge/"))return"Chrome";if(jv(t))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,a=s.match(i);if((a==null?void 0:a.length)===2)return a[1]}return"Other"}function Uv(s=Tn()){return/firefox\//i.test(s)}function Pv(s=Tn()){const t=s.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function zv(s=Tn()){return/crios\//i.test(s)}function Bv(s=Tn()){return/iemobile/i.test(s)}function jv(s=Tn()){return/android/i.test(s)}function qv(s=Tn()){return/blackberry/i.test(s)}function Hv(s=Tn()){return/webos/i.test(s)}function Rm(s=Tn()){return/iphone|ipad|ipod/i.test(s)||/macintosh/i.test(s)&&/mobile/i.test(s)}function Mb(s=Tn()){var t;return Rm(s)&&!!((t=window.navigator)!=null&&t.standalone)}function Vb(){return KS()&&document.documentMode===10}function Gv(s=Tn()){return Rm(s)||jv(s)||Hv(s)||qv(s)||/windows phone/i.test(s)||Bv(s)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fv(s,t=[]){let i;switch(s){case"Browser":i=$_(Tn());break;case"Worker":i=`${$_(Tn())}-${s}`;break;default:i=s}const a=t.length?t.join(","):"FirebaseCore-web";return`${i}/JsCore/${Co}/${a}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lb{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,i){const a=c=>new Promise((d,p)=>{try{const y=t(c);d(y)}catch(y){p(y)}});a.onAbort=i,this.queue.push(a);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const i=[];try{for(const a of this.queue)await a(t),a.onAbort&&i.push(a.onAbort)}catch(a){i.reverse();for(const l of i)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:a==null?void 0:a.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xb(s,t={}){return Io(s,"GET","/v2/passwordPolicy",bm(s,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kb=6;class Ub{constructor(t){var a;const i=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=i.minPasswordLength??kb,i.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=i.maxPasswordLength),i.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=i.containsLowercaseCharacter),i.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=i.containsUppercaseCharacter),i.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=i.containsNumericCharacter),i.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=i.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((a=t.allowedNonAlphanumericCharacters)==null?void 0:a.join(""))??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const i={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,i),this.validatePasswordCharacterOptions(t,i),i.isValid&&(i.isValid=i.meetsMinPasswordLength??!0),i.isValid&&(i.isValid=i.meetsMaxPasswordLength??!0),i.isValid&&(i.isValid=i.containsLowercaseLetter??!0),i.isValid&&(i.isValid=i.containsUppercaseLetter??!0),i.isValid&&(i.isValid=i.containsNumericCharacter??!0),i.isValid&&(i.isValid=i.containsNonAlphanumericCharacter??!0),i}validatePasswordLengthOptions(t,i){const a=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;a&&(i.meetsMinPasswordLength=t.length>=a),l&&(i.meetsMaxPasswordLength=t.length<=l)}validatePasswordCharacterOptions(t,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let a;for(let l=0;l<t.length;l++)a=t.charAt(l),this.updatePasswordCharacterOptionsStatuses(i,a>="a"&&a<="z",a>="A"&&a<="Z",a>="0"&&a<="9",this.allowedNonAlphanumericCharacters.includes(a))}updatePasswordCharacterOptionsStatuses(t,i,a,l,c){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=a)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pb{constructor(t,i,a,l){this.app=t,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=a,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new W_(this),this.idTokenSubscription=new W_(this),this.beforeStateQueue=new Lb(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Ov,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=l.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(t,i){return i&&(this._popupRedirectResolver=br(i)),this._initializationPromise=this.queue(async()=>{var a,l,c;if(!this._deleted&&(this.persistenceManager=await mo.create(this,t),(a=this._resolvePersistenceManagerAvailable)==null||a.call(this),!this._deleted)){if((l=this._popupRedirectResolver)!=null&&l._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=((c=this.currentUser)==null?void 0:c.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const i=await $c(this,{idToken:t}),a=await Si._fromGetAccountInfoResponse(this,i,t);await this.directlySetCurrentUser(a)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){var c;if(Ei(this.app)){const d=this.app.settings.authIdToken;return d?new Promise(p=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(d).then(p,p))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let a=i,l=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const d=(c=this.redirectUser)==null?void 0:c._redirectEventId,p=a==null?void 0:a._redirectEventId,y=await this.tryRedirectSignIn(t);(!d||d===p)&&(y!=null&&y.user)&&(a=y.user,l=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(a)}catch(d){a=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(d))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return Dt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(t){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(t){try{await Wc(t)}catch(i){if((i==null?void 0:i.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=_b()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(Ei(this.app))return Promise.reject(oa(this));const i=t?Fn(t):null;return i&&Dt(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(t,i=!1){if(!this._deleted)return t&&Dt(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return Ei(this.app)?Promise.reject(oa(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return Ei(this.app)?Promise.reject(oa(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(br(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await xb(this),i=new Ub(t);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new tu("auth","Firebase",t())}onAuthStateChanged(t,i,a){return this.registerStateListener(this.authStateSubscription,t,i,a)}beforeAuthStateChanged(t,i){return this.beforeStateQueue.pushCallback(t,i)}onIdTokenChanged(t,i,a){return this.registerStateListener(this.idTokenSubscription,t,i,a)}authStateReady(){return new Promise((t,i)=>{if(this.currentUser)t();else{const a=this.onAuthStateChanged(()=>{a(),t()},i)}})}async revokeAccessToken(t){if(this.currentUser){const i=await this.currentUser.getIdToken(),a={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:i};this.tenantId!=null&&(a.tenantId=this.tenantId),await Ob(this,a)}}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(t=this._currentUser)==null?void 0:t.toJSON()}}async _setRedirectUser(t,i){const a=await this.getOrInitRedirectPersistenceManager(i);return t===null?a.removeCurrentUser():a.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const i=t&&br(t)||this._popupRedirectResolver;Dt(i,this,"argument-error"),this.redirectPersistenceManager=await mo.create(this,[br(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){var i,a;return this._isInitialized&&await this.queue(async()=>{}),((i=this._currentUser)==null?void 0:i._redirectEventId)===t?this._currentUser:((a=this.redirectUser)==null?void 0:a._redirectEventId)===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var i;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=((i=this.currentUser)==null?void 0:i.uid)??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,i,a,l){if(this._deleted)return()=>{};const c=typeof i=="function"?i:i.next.bind(i);let d=!1;const p=this._isInitialized?Promise.resolve():this._initializationPromise;if(Dt(p,this,"internal-error"),p.then(()=>{d||c(this.currentUser)}),typeof i=="function"){const y=t.addObserver(i,a,l);return()=>{d=!0,y()}}else{const y=t.addObserver(i);return()=>{d=!0,y()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return Dt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=Fv(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var l;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const i=await((l=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:l.getHeartbeatsHeader());i&&(t["X-Firebase-Client"]=i);const a=await this._getAppCheckToken();return a&&(t["X-Firebase-AppCheck"]=a),t}async _getAppCheckToken(){var i;if(Ei(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((i=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:i.getToken());return t!=null&&t.error&&mb(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function ph(s){return Fn(s)}class W_{constructor(t){this.auth=t,this.observer=null,this.addObserver=nA(i=>this.observer=i)}get next(){return Dt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Cm={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function zb(s){Cm=s}function Bb(s){return Cm.loadJS(s)}function jb(){return Cm.gapiScript}function qb(s){return`__${s}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hb(s,t){const i=Tm(s,"auth");if(i.isInitialized()){const l=i.getImmediate(),c=i.getOptions();if(ua(c,t??{}))return l;Ji(l,"already-initialized")}return i.initialize({options:t})}function Gb(s,t){const i=(t==null?void 0:t.persistence)||[],a=(Array.isArray(i)?i:[i]).map(br);t!=null&&t.errorMap&&s._updateErrorMap(t.errorMap),s._initializeWithPersistence(a,t==null?void 0:t.popupRedirectResolver)}function Fb(s,t,i){const a=ph(s);Dt(/^https?:\/\//.test(t),a,"invalid-emulator-scheme");const l=!1,c=Yv(t),{host:d,port:p}=Yb(t),y=p===null?"":`:${p}`,_={url:`${c}//${d}${y}/`},A=Object.freeze({host:d,port:p,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:l})});if(!a._canInitEmulator){Dt(a.config.emulator&&a.emulatorConfig,a,"emulator-config-failed"),Dt(ua(_,a.config.emulator)&&ua(A,a.emulatorConfig),a,"emulator-config-failed");return}a.config.emulator=_,a.emulatorConfig=A,a.settings.appVerificationDisabledForTesting=!0,Ro(d)?(Sv(`${c}//${d}${y}`),Av("Auth",!0)):Qb()}function Yv(s){const t=s.indexOf(":");return t<0?"":s.substr(0,t+1)}function Yb(s){const t=Yv(s),i=/(\/\/)?([^?#/]+)/.exec(s.substr(t.length));if(!i)return{host:"",port:null};const a=i[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(a);if(l){const c=l[1];return{host:c,port:t0(a.substr(c.length+1))}}else{const[c,d]=a.split(":");return{host:c,port:t0(d)}}}function t0(s){if(!s)return null;const t=Number(s);return isNaN(t)?null:t}function Qb(){function s(){const t=document.createElement("p"),i=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",s):s())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qv{constructor(t,i){this.providerId=t,this.signInMethod=i}toJSON(){return Ar("not implemented")}_getIdTokenResponse(t){return Ar("not implemented")}_linkToIdToken(t,i){return Ar("not implemented")}_getReauthenticationResolver(t){return Ar("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function go(s,t){return Sb(s,"POST","/v1/accounts:signInWithIdp",bm(s,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kb="http://localhost";class ha extends Qv{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const i=new ha(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(i.idToken=t.idToken),t.accessToken&&(i.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(i.nonce=t.nonce),t.pendingToken&&(i.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(i.accessToken=t.oauthToken,i.secret=t.oauthTokenSecret):Ji("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const i=typeof t=="string"?JSON.parse(t):t,{providerId:a,signInMethod:l,...c}=i;if(!a||!l)return null;const d=new ha(a,l);return d.idToken=c.idToken||void 0,d.accessToken=c.accessToken||void 0,d.secret=c.secret,d.nonce=c.nonce,d.pendingToken=c.pendingToken||null,d}_getIdTokenResponse(t){const i=this.buildRequest();return go(t,i)}_linkToIdToken(t,i){const a=this.buildRequest();return a.idToken=i,go(t,a)}_getReauthenticationResolver(t){const i=this.buildRequest();return i.autoCreate=!1,go(t,i)}buildRequest(){const t={requestUri:Kb,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),t.postBody=eu(i)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Im{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iu extends Im{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ds extends iu{constructor(){super("facebook.com")}static credential(t){return ha._fromParams({providerId:ds.PROVIDER_ID,signInMethod:ds.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return ds.credentialFromTaggedObject(t)}static credentialFromError(t){return ds.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return ds.credential(t.oauthAccessToken)}catch{return null}}}ds.FACEBOOK_SIGN_IN_METHOD="facebook.com";ds.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ms extends iu{constructor(){super("google.com"),this.addScope("profile")}static credential(t,i){return ha._fromParams({providerId:ms.PROVIDER_ID,signInMethod:ms.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:i})}static credentialFromResult(t){return ms.credentialFromTaggedObject(t)}static credentialFromError(t){return ms.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:i,oauthAccessToken:a}=t;if(!i&&!a)return null;try{return ms.credential(i,a)}catch{return null}}}ms.GOOGLE_SIGN_IN_METHOD="google.com";ms.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gs extends iu{constructor(){super("github.com")}static credential(t){return ha._fromParams({providerId:gs.PROVIDER_ID,signInMethod:gs.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return gs.credentialFromTaggedObject(t)}static credentialFromError(t){return gs.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return gs.credential(t.oauthAccessToken)}catch{return null}}}gs.GITHUB_SIGN_IN_METHOD="github.com";gs.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fi extends iu{constructor(){super("twitter.com")}static credential(t,i){return ha._fromParams({providerId:Fi.PROVIDER_ID,signInMethod:Fi.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:i})}static credentialFromResult(t){return Fi.credentialFromTaggedObject(t)}static credentialFromError(t){return Fi.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:i,oauthTokenSecret:a}=t;if(!i||!a)return null;try{return Fi.credential(i,a)}catch{return null}}}Fi.TWITTER_SIGN_IN_METHOD="twitter.com";Fi.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _o{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,i,a,l=!1){const c=await Si._fromIdTokenResponse(t,a,l),d=e0(a);return new _o({user:c,providerId:d,_tokenResponse:a,operationType:i})}static async _forOperation(t,i,a){await t._updateTokensIfNecessary(a,!0);const l=e0(a);return new _o({user:t,providerId:l,_tokenResponse:a,operationType:i})}}function e0(s){return s.providerId?s.providerId:"phoneNumber"in s?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class th extends Dr{constructor(t,i,a,l){super(i.code,i.message),this.operationType=a,this.user=l,Object.setPrototypeOf(this,th.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:i.customData._serverResponse,operationType:a}}static _fromErrorAndOperation(t,i,a,l){return new th(t,i,a,l)}}function Kv(s,t,i,a){return(t==="reauthenticate"?i._getReauthenticationResolver(s):i._getIdTokenResponse(s)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?th._fromErrorAndOperation(s,c,t,a):c})}async function Xb(s,t,i=!1){const a=await Yl(s,t._linkToIdToken(s.auth,await s.getIdToken()),i);return _o._forOperation(s,"link",a)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Zb(s,t,i=!1){const{auth:a}=s;if(Ei(a.app))return Promise.reject(oa(a));const l="reauthenticate";try{const c=await Yl(s,Kv(a,l,t,s),i);Dt(c.idToken,a,"internal-error");const d=wm(c.idToken);Dt(d,a,"internal-error");const{sub:p}=d;return Dt(s.uid===p,a,"user-mismatch"),_o._forOperation(s,l,c)}catch(c){throw(c==null?void 0:c.code)==="auth/user-not-found"&&Ji(a,"user-mismatch"),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Jb(s,t,i=!1){if(Ei(s.app))return Promise.reject(oa(s));const a="signIn",l=await Kv(s,a,t),c=await _o._fromIdTokenResponse(s,a,l);return i||await s._updateCurrentUser(c.user),c}function $b(s,t,i,a){return Fn(s).onIdTokenChanged(t,i,a)}function Wb(s,t,i){return Fn(s).beforeAuthStateChanged(t,i)}function tw(s,t,i,a){return Fn(s).onAuthStateChanged(t,i,a)}function Xv(s){return Fn(s).signOut()}const eh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zv{constructor(t,i){this.storageRetriever=t,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem(eh,"1"),this.storage.removeItem(eh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,i){return this.storage.setItem(t,JSON.stringify(i)),Promise.resolve()}_get(t){const i=this.storage.getItem(t);return Promise.resolve(i?JSON.parse(i):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ew=1e3,nw=10;class Jv extends Zv{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,i)=>this.onStorageEvent(t,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Gv(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const i of Object.keys(this.listeners)){const a=this.storage.getItem(i),l=this.localCache[i];a!==l&&t(i,l,a)}}onStorageEvent(t,i=!1){if(!t.key){this.forAllChangedKeys((d,p,y)=>{this.notifyListeners(d,y)});return}const a=t.key;i?this.detachListener():this.stopPolling();const l=()=>{const d=this.storage.getItem(a);!i&&this.localCache[a]===d||this.notifyListeners(a,d)},c=this.storage.getItem(a);Vb()&&c!==t.newValue&&t.newValue!==t.oldValue?setTimeout(l,nw):l()}notifyListeners(t,i){this.localCache[t]=i;const a=this.listeners[t];if(a)for(const l of Array.from(a))l(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,i,a)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:i,newValue:a}),!0)})},ew)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,i){await super._set(t,i),this.localCache[t]=JSON.stringify(i)}async _get(t){const i=await super._get(t);return this.localCache[t]=JSON.stringify(i),i}async _remove(t){await super._remove(t),delete this.localCache[t]}}Jv.type="LOCAL";const iw=Jv;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $v extends Zv{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,i){}_removeListener(t,i){}}$v.type="SESSION";const Wv=$v;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rw(s){return Promise.all(s.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(i){return{fulfilled:!1,reason:i}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yh{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const i=this.receivers.find(l=>l.isListeningto(t));if(i)return i;const a=new yh(t);return this.receivers.push(a),a}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const i=t,{eventId:a,eventType:l,data:c}=i.data,d=this.handlersMap[l];if(!(d!=null&&d.size))return;i.ports[0].postMessage({status:"ack",eventId:a,eventType:l});const p=Array.from(d).map(async _=>_(i.origin,c)),y=await rw(p);i.ports[0].postMessage({status:"done",eventId:a,eventType:l,response:y})}_subscribe(t,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(i)}_unsubscribe(t,i){this.handlersMap[t]&&i&&this.handlersMap[t].delete(i),(!i||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}yh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nm(s="",t=10){let i="";for(let a=0;a<t;a++)i+=Math.floor(Math.random()*10);return s+i}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sw{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,i,a=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let c,d;return new Promise((p,y)=>{const _=Nm("",20);l.port1.start();const A=setTimeout(()=>{y(new Error("unsupported_event"))},a);d={messageChannel:l,onMessage(w){const x=w;if(x.data.eventId===_)switch(x.data.status){case"ack":clearTimeout(A),c=setTimeout(()=>{y(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),p(x.data.response);break;default:clearTimeout(A),clearTimeout(c),y(new Error("invalid_response"));break}}},this.handlers.add(d),l.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:t,eventId:_,data:i},[l.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yi(){return window}function aw(s){Yi().location.href=s}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tT(){return typeof Yi().WorkerGlobalScope<"u"&&typeof Yi().importScripts=="function"}async function ow(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function lw(){var s;return((s=navigator==null?void 0:navigator.serviceWorker)==null?void 0:s.controller)||null}function uw(){return tT()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eT="firebaseLocalStorageDb",cw=1,nh="firebaseLocalStorage",nT="fbase_key";class ru{constructor(t){this.request=t}toPromise(){return new Promise((t,i)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function _h(s,t){return s.transaction([nh],t?"readwrite":"readonly").objectStore(nh)}function hw(){const s=indexedDB.deleteDatabase(eT);return new ru(s).toPromise()}function tm(){const s=indexedDB.open(eT,cw);return new Promise((t,i)=>{s.addEventListener("error",()=>{i(s.error)}),s.addEventListener("upgradeneeded",()=>{const a=s.result;try{a.createObjectStore(nh,{keyPath:nT})}catch(l){i(l)}}),s.addEventListener("success",async()=>{const a=s.result;a.objectStoreNames.contains(nh)?t(a):(a.close(),await hw(),t(await tm()))})})}async function n0(s,t,i){const a=_h(s,!0).put({[nT]:t,value:i});return new ru(a).toPromise()}async function fw(s,t){const i=_h(s,!1).get(t),a=await new ru(i).toPromise();return a===void 0?null:a.value}function i0(s,t){const i=_h(s,!0).delete(t);return new ru(i).toPromise()}const dw=800,mw=3;class iT{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await tm(),this.db)}async _withRetries(t){let i=0;for(;;)try{const a=await this._openDb();return await t(a)}catch(a){if(i++>mw)throw a;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return tT()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=yh._getInstance(uw()),this.receiver._subscribe("keyChanged",async(t,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(t,i)=>["keyChanged"])}async initializeSender(){var i,a;if(this.activeServiceWorker=await ow(),!this.activeServiceWorker)return;this.sender=new sw(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&(i=t[0])!=null&&i.fulfilled&&(a=t[0])!=null&&a.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||lw()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await tm();return await n0(t,eh,"1"),await i0(t,eh),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,i){return this._withPendingWrite(async()=>(await this._withRetries(a=>n0(a,t,i)),this.localCache[t]=i,this.notifyServiceWorker(t)))}async _get(t){const i=await this._withRetries(a=>fw(a,t));return this.localCache[t]=i,i}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(i=>i0(i,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(l=>{const c=_h(l,!1).getAll();return new ru(c).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const i=[],a=new Set;if(t.length!==0)for(const{fbase_key:l,value:c}of t)a.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(c)&&(this.notifyListeners(l,c),i.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!a.has(l)&&(this.notifyListeners(l,null),i.push(l));return i}notifyListeners(t,i){this.localCache[t]=i;const a=this.listeners[t];if(a)for(const l of Array.from(a))l(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),dw)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}iT.type="LOCAL";const gw=iT;new nu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rT(s,t){return t?br(t):(Dt(s._popupRedirectResolver,s,"argument-error"),s._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dm extends Qv{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return go(t,this._buildIdpRequest())}_linkToIdToken(t,i){return go(t,this._buildIdpRequest(i))}_getReauthenticationResolver(t){return go(t,this._buildIdpRequest())}_buildIdpRequest(t){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(i.idToken=t),i}}function pw(s){return Jb(s.auth,new Dm(s),s.bypassAuthState)}function yw(s){const{auth:t,user:i}=s;return Dt(i,t,"internal-error"),Zb(i,new Dm(s),s.bypassAuthState)}async function _w(s){const{auth:t,user:i}=s;return Dt(i,t,"internal-error"),Xb(i,new Dm(s),s.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sT{constructor(t,i,a,l,c=!1){this.auth=t,this.resolver=a,this.user=l,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(t,i)=>{this.pendingPromise={resolve:t,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(a){this.reject(a)}})}async onAuthEvent(t){const{urlResponse:i,sessionId:a,postBody:l,tenantId:c,error:d,type:p}=t;if(d){this.reject(d);return}const y={auth:this.auth,requestUri:i,sessionId:a,tenantId:c||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(p)(y))}catch(_){this.reject(_)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return pw;case"linkViaPopup":case"linkViaRedirect":return _w;case"reauthViaPopup":case"reauthViaRedirect":return yw;default:Ji(this.auth,"internal-error")}}resolve(t){Cr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){Cr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vw=new nu(2e3,1e4);async function Tw(s,t,i){if(Ei(s.app))return Promise.reject(bi(s,"operation-not-supported-in-this-environment"));const a=ph(s);gb(s,t,Im);const l=rT(a,i);return new sa(a,"signInViaPopup",t,l).executeNotNull()}class sa extends sT{constructor(t,i,a,l,c){super(t,i,l,c),this.provider=a,this.authWindow=null,this.pollId=null,sa.currentPopupAction&&sa.currentPopupAction.cancel(),sa.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return Dt(t,this.auth,"internal-error"),t}async onExecution(){Cr(this.filter.length===1,"Popup operations only handle one event");const t=Nm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(bi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var t;return((t=this.authWindow)==null?void 0:t.associatedEvent)||null}cancel(){this.reject(bi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,sa.currentPopupAction=null}pollUserCancellation(){const t=()=>{var i,a;if((a=(i=this.authWindow)==null?void 0:i.window)!=null&&a.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(bi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,vw.get())};t()}}sa.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ew="pendingRedirect",jc=new Map;class Sw extends sT{constructor(t,i,a=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,a),this.eventId=null}async execute(){let t=jc.get(this.auth._key());if(!t){try{const a=await Aw(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(a)}catch(i){t=()=>Promise.reject(i)}jc.set(this.auth._key(),t)}return this.bypassAuthState||jc.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const i=await this.auth._redirectUserForId(t.eventId);if(i)return this.user=i,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Aw(s,t){const i=Rw(t),a=ww(s);if(!await a._isAvailable())return!1;const l=await a._get(i)==="true";return await a._remove(i),l}function bw(s,t){jc.set(s._key(),t)}function ww(s){return br(s._redirectPersistence)}function Rw(s){return Bc(Ew,s.config.apiKey,s.name)}async function Cw(s,t,i=!1){if(Ei(s.app))return Promise.reject(oa(s));const a=ph(s),l=rT(a,t),d=await new Sw(a,l,i).execute();return d&&!i&&(delete d.user._redirectEventId,await a._persistUserIfCurrent(d.user),await a._setRedirectUser(null,t)),d}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Iw=600*1e3;class Nw{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let i=!1;return this.consumers.forEach(a=>{this.isEventForConsumer(t,a)&&(i=!0,this.sendToConsumer(t,a),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!Dw(t)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=t,i=!0)),i}sendToConsumer(t,i){var a;if(t.error&&!aT(t)){const l=((a=t.error.code)==null?void 0:a.split("auth/")[1])||"internal-error";i.onError(bi(this.auth,l))}else i.onAuthEvent(t)}isEventForConsumer(t,i){const a=i.eventId===null||!!t.eventId&&t.eventId===i.eventId;return i.filter.includes(t.type)&&a}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=Iw&&this.cachedEventUids.clear(),this.cachedEventUids.has(r0(t))}saveEventToCache(t){this.cachedEventUids.add(r0(t)),this.lastProcessedEventTime=Date.now()}}function r0(s){return[s.type,s.eventId,s.sessionId,s.tenantId].filter(t=>t).join("-")}function aT({type:s,error:t}){return s==="unknown"&&(t==null?void 0:t.code)==="auth/no-auth-event"}function Dw(s){switch(s.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return aT(s);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ow(s,t={}){return Io(s,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mw=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Vw=/^https?/;async function Lw(s){if(s.config.emulator)return;const{authorizedDomains:t}=await Ow(s);for(const i of t)try{if(xw(i))return}catch{}Ji(s,"unauthorized-domain")}function xw(s){const t=$d(),{protocol:i,hostname:a}=new URL(t);if(s.startsWith("chrome-extension://")){const d=new URL(s);return d.hostname===""&&a===""?i==="chrome-extension:"&&s.replace("chrome-extension://","")===t.replace("chrome-extension://",""):i==="chrome-extension:"&&d.hostname===a}if(!Vw.test(i))return!1;if(Mw.test(s))return a===s;const l=s.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(a)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kw=new nu(3e4,6e4);function s0(){const s=Yi().___jsl;if(s!=null&&s.H){for(const t of Object.keys(s.H))if(s.H[t].r=s.H[t].r||[],s.H[t].L=s.H[t].L||[],s.H[t].r=[...s.H[t].L],s.CP)for(let i=0;i<s.CP.length;i++)s.CP[i]=null}}function Uw(s){return new Promise((t,i)=>{var l,c,d;function a(){s0(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{s0(),i(bi(s,"network-request-failed"))},timeout:kw.get()})}if((c=(l=Yi().gapi)==null?void 0:l.iframes)!=null&&c.Iframe)t(gapi.iframes.getContext());else if((d=Yi().gapi)!=null&&d.load)a();else{const p=qb("iframefcb");return Yi()[p]=()=>{gapi.load?a():i(bi(s,"network-request-failed"))},Bb(`${jb()}?onload=${p}`).catch(y=>i(y))}}).catch(t=>{throw qc=null,t})}let qc=null;function Pw(s){return qc=qc||Uw(s),qc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zw=new nu(5e3,15e3),Bw="__/auth/iframe",jw="emulator/auth/iframe",qw={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Hw=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Gw(s){const t=s.config;Dt(t.authDomain,s,"auth-domain-config-required");const i=t.emulator?Am(t,jw):`https://${s.config.authDomain}/${Bw}`,a={apiKey:t.apiKey,appName:s.name,v:Co},l=Hw.get(s.config.apiHost);l&&(a.eid=l);const c=s._getFrameworks();return c.length&&(a.fw=c.join(",")),`${i}?${eu(a).slice(1)}`}async function Fw(s){const t=await Pw(s),i=Yi().gapi;return Dt(i,s,"internal-error"),t.open({where:document.body,url:Gw(s),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:qw,dontclear:!0},a=>new Promise(async(l,c)=>{await a.restyle({setHideOnLeave:!1});const d=bi(s,"network-request-failed"),p=Yi().setTimeout(()=>{c(d)},zw.get());function y(){Yi().clearTimeout(p),l(a)}a.ping(y).then(y,()=>{c(d)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yw={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Qw=500,Kw=600,Xw="_blank",Zw="http://localhost";class a0{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Jw(s,t,i,a=Qw,l=Kw){const c=Math.max((window.screen.availHeight-l)/2,0).toString(),d=Math.max((window.screen.availWidth-a)/2,0).toString();let p="";const y={...Yw,width:a.toString(),height:l.toString(),top:c,left:d},_=Tn().toLowerCase();i&&(p=zv(_)?Xw:i),Uv(_)&&(t=t||Zw,y.scrollbars="yes");const A=Object.entries(y).reduce((x,[G,rt])=>`${x}${G}=${rt},`,"");if(Mb(_)&&p!=="_self")return $w(t||"",p),new a0(null);const w=window.open(t||"",p,A);Dt(w,s,"popup-blocked");try{w.focus()}catch{}return new a0(w)}function $w(s,t){const i=document.createElement("a");i.href=s,i.target=t;const a=document.createEvent("MouseEvent");a.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(a)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ww="__/auth/handler",t2="emulator/auth/handler",e2=encodeURIComponent("fac");async function o0(s,t,i,a,l,c){Dt(s.config.authDomain,s,"auth-domain-config-required"),Dt(s.config.apiKey,s,"invalid-api-key");const d={apiKey:s.config.apiKey,appName:s.name,authType:i,redirectUrl:a,v:Co,eventId:l};if(t instanceof Im){t.setDefaultLanguage(s.languageCode),d.providerId=t.providerId||"",eA(t.getCustomParameters())||(d.customParameters=JSON.stringify(t.getCustomParameters()));for(const[A,w]of Object.entries({}))d[A]=w}if(t instanceof iu){const A=t.getScopes().filter(w=>w!=="");A.length>0&&(d.scopes=A.join(","))}s.tenantId&&(d.tid=s.tenantId);const p=d;for(const A of Object.keys(p))p[A]===void 0&&delete p[A];const y=await s._getAppCheckToken(),_=y?`#${e2}=${encodeURIComponent(y)}`:"";return`${n2(s)}?${eu(p).slice(1)}${_}`}function n2({config:s}){return s.emulator?Am(s,t2):`https://${s.authDomain}/${Ww}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bd="webStorageSupport";class i2{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Wv,this._completeRedirectFn=Cw,this._overrideRedirectResult=bw}async _openPopup(t,i,a,l){var d;Cr((d=this.eventManagers[t._key()])==null?void 0:d.manager,"_initialize() not called before _openPopup()");const c=await o0(t,i,a,$d(),l);return Jw(t,c,Nm())}async _openRedirect(t,i,a,l){await this._originValidation(t);const c=await o0(t,i,a,$d(),l);return aw(c),new Promise(()=>{})}_initialize(t){const i=t._key();if(this.eventManagers[i]){const{manager:l,promise:c}=this.eventManagers[i];return l?Promise.resolve(l):(Cr(c,"If manager is not set, promise should be"),c)}const a=this.initAndGetManager(t);return this.eventManagers[i]={promise:a},a.catch(()=>{delete this.eventManagers[i]}),a}async initAndGetManager(t){const i=await Fw(t),a=new Nw(t);return i.register("authEvent",l=>(Dt(l==null?void 0:l.authEvent,t,"invalid-auth-event"),{status:a.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:a},this.iframes[t._key()]=i,a}_isIframeWebStorageSupported(t,i){this.iframes[t._key()].send(Bd,{type:Bd},l=>{var d;const c=(d=l==null?void 0:l[0])==null?void 0:d[Bd];c!==void 0&&i(!!c),Ji(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const i=t._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=Lw(t)),this.originValidationPromises[i]}get _shouldInitProactively(){return Gv()||Pv()||Rm()}}const r2=i2;var l0="@firebase/auth",u0="1.11.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s2{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),((t=this.auth.currentUser)==null?void 0:t.uid)||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const i=this.auth.onIdTokenChanged(a=>{t((a==null?void 0:a.stsTokenManager.accessToken)||null)});this.internalListeners.set(t,i),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const i=this.internalListeners.get(t);i&&(this.internalListeners.delete(t),i(),this.updateProactiveRefresh())}assertAuthConfigured(){Dt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a2(s){switch(s){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function o2(s){yo(new ca("auth",(t,{options:i})=>{const a=t.getProvider("app").getImmediate(),l=t.getProvider("heartbeat"),c=t.getProvider("app-check-internal"),{apiKey:d,authDomain:p}=a.options;Dt(d&&!d.includes(":"),"invalid-api-key",{appName:a.name});const y={apiKey:d,authDomain:p,clientPlatform:s,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Fv(s)},_=new Pb(a,l,c,y);return Gb(_,i),_},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,i,a)=>{t.getProvider("auth-internal").initialize()})),yo(new ca("auth-internal",t=>{const i=ph(t.getProvider("auth").getImmediate());return(a=>new s2(a))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),vs(l0,u0,a2(s)),vs(l0,u0,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l2=300,u2=Ev("authIdTokenMaxAge")||l2;let c0=null;const c2=s=>async t=>{const i=t&&await t.getIdTokenResult(),a=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(a&&a>u2)return;const l=i==null?void 0:i.token;c0!==l&&(c0=l,await fetch(s,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function h2(s=Cv()){const t=Tm(s,"auth");if(t.isInitialized())return t.getImmediate();const i=Hb(s,{popupRedirectResolver:r2,persistence:[gw,iw,Wv]}),a=Ev("authTokenSyncURL");if(a&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(a,location.origin);if(location.origin===c.origin){const d=c2(c.toString());Wb(i,d,()=>d(i.currentUser)),$b(i,p=>d(p))}}const l=vv("auth");return l&&Fb(i,`http://${l}`),i}function f2(){var s;return((s=document.getElementsByTagName("head"))==null?void 0:s[0])??document}zb({loadJS(s){return new Promise((t,i)=>{const a=document.createElement("script");a.setAttribute("src",s),a.onload=t,a.onerror=l=>{const c=bi("internal-error");c.customData=l,i(c)},a.type="text/javascript",a.charset="UTF-8",f2().appendChild(a)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});o2("Browser");var d2="firebase",m2="12.6.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */vs(d2,m2,"app");var h0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ts,oT;(function(){var s;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(D,b){function I(){}I.prototype=b.prototype,D.F=b.prototype,D.prototype=new I,D.prototype.constructor=D,D.D=function(V,O,k){for(var C=Array(arguments.length-2),fe=2;fe<arguments.length;fe++)C[fe-2]=arguments[fe];return b.prototype[O].apply(V,C)}}function i(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(a,i),a.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(D,b,I){I||(I=0);const V=Array(16);if(typeof b=="string")for(var O=0;O<16;++O)V[O]=b.charCodeAt(I++)|b.charCodeAt(I++)<<8|b.charCodeAt(I++)<<16|b.charCodeAt(I++)<<24;else for(O=0;O<16;++O)V[O]=b[I++]|b[I++]<<8|b[I++]<<16|b[I++]<<24;b=D.g[0],I=D.g[1],O=D.g[2];let k=D.g[3],C;C=b+(k^I&(O^k))+V[0]+3614090360&4294967295,b=I+(C<<7&4294967295|C>>>25),C=k+(O^b&(I^O))+V[1]+3905402710&4294967295,k=b+(C<<12&4294967295|C>>>20),C=O+(I^k&(b^I))+V[2]+606105819&4294967295,O=k+(C<<17&4294967295|C>>>15),C=I+(b^O&(k^b))+V[3]+3250441966&4294967295,I=O+(C<<22&4294967295|C>>>10),C=b+(k^I&(O^k))+V[4]+4118548399&4294967295,b=I+(C<<7&4294967295|C>>>25),C=k+(O^b&(I^O))+V[5]+1200080426&4294967295,k=b+(C<<12&4294967295|C>>>20),C=O+(I^k&(b^I))+V[6]+2821735955&4294967295,O=k+(C<<17&4294967295|C>>>15),C=I+(b^O&(k^b))+V[7]+4249261313&4294967295,I=O+(C<<22&4294967295|C>>>10),C=b+(k^I&(O^k))+V[8]+1770035416&4294967295,b=I+(C<<7&4294967295|C>>>25),C=k+(O^b&(I^O))+V[9]+2336552879&4294967295,k=b+(C<<12&4294967295|C>>>20),C=O+(I^k&(b^I))+V[10]+4294925233&4294967295,O=k+(C<<17&4294967295|C>>>15),C=I+(b^O&(k^b))+V[11]+2304563134&4294967295,I=O+(C<<22&4294967295|C>>>10),C=b+(k^I&(O^k))+V[12]+1804603682&4294967295,b=I+(C<<7&4294967295|C>>>25),C=k+(O^b&(I^O))+V[13]+4254626195&4294967295,k=b+(C<<12&4294967295|C>>>20),C=O+(I^k&(b^I))+V[14]+2792965006&4294967295,O=k+(C<<17&4294967295|C>>>15),C=I+(b^O&(k^b))+V[15]+1236535329&4294967295,I=O+(C<<22&4294967295|C>>>10),C=b+(O^k&(I^O))+V[1]+4129170786&4294967295,b=I+(C<<5&4294967295|C>>>27),C=k+(I^O&(b^I))+V[6]+3225465664&4294967295,k=b+(C<<9&4294967295|C>>>23),C=O+(b^I&(k^b))+V[11]+643717713&4294967295,O=k+(C<<14&4294967295|C>>>18),C=I+(k^b&(O^k))+V[0]+3921069994&4294967295,I=O+(C<<20&4294967295|C>>>12),C=b+(O^k&(I^O))+V[5]+3593408605&4294967295,b=I+(C<<5&4294967295|C>>>27),C=k+(I^O&(b^I))+V[10]+38016083&4294967295,k=b+(C<<9&4294967295|C>>>23),C=O+(b^I&(k^b))+V[15]+3634488961&4294967295,O=k+(C<<14&4294967295|C>>>18),C=I+(k^b&(O^k))+V[4]+3889429448&4294967295,I=O+(C<<20&4294967295|C>>>12),C=b+(O^k&(I^O))+V[9]+568446438&4294967295,b=I+(C<<5&4294967295|C>>>27),C=k+(I^O&(b^I))+V[14]+3275163606&4294967295,k=b+(C<<9&4294967295|C>>>23),C=O+(b^I&(k^b))+V[3]+4107603335&4294967295,O=k+(C<<14&4294967295|C>>>18),C=I+(k^b&(O^k))+V[8]+1163531501&4294967295,I=O+(C<<20&4294967295|C>>>12),C=b+(O^k&(I^O))+V[13]+2850285829&4294967295,b=I+(C<<5&4294967295|C>>>27),C=k+(I^O&(b^I))+V[2]+4243563512&4294967295,k=b+(C<<9&4294967295|C>>>23),C=O+(b^I&(k^b))+V[7]+1735328473&4294967295,O=k+(C<<14&4294967295|C>>>18),C=I+(k^b&(O^k))+V[12]+2368359562&4294967295,I=O+(C<<20&4294967295|C>>>12),C=b+(I^O^k)+V[5]+4294588738&4294967295,b=I+(C<<4&4294967295|C>>>28),C=k+(b^I^O)+V[8]+2272392833&4294967295,k=b+(C<<11&4294967295|C>>>21),C=O+(k^b^I)+V[11]+1839030562&4294967295,O=k+(C<<16&4294967295|C>>>16),C=I+(O^k^b)+V[14]+4259657740&4294967295,I=O+(C<<23&4294967295|C>>>9),C=b+(I^O^k)+V[1]+2763975236&4294967295,b=I+(C<<4&4294967295|C>>>28),C=k+(b^I^O)+V[4]+1272893353&4294967295,k=b+(C<<11&4294967295|C>>>21),C=O+(k^b^I)+V[7]+4139469664&4294967295,O=k+(C<<16&4294967295|C>>>16),C=I+(O^k^b)+V[10]+3200236656&4294967295,I=O+(C<<23&4294967295|C>>>9),C=b+(I^O^k)+V[13]+681279174&4294967295,b=I+(C<<4&4294967295|C>>>28),C=k+(b^I^O)+V[0]+3936430074&4294967295,k=b+(C<<11&4294967295|C>>>21),C=O+(k^b^I)+V[3]+3572445317&4294967295,O=k+(C<<16&4294967295|C>>>16),C=I+(O^k^b)+V[6]+76029189&4294967295,I=O+(C<<23&4294967295|C>>>9),C=b+(I^O^k)+V[9]+3654602809&4294967295,b=I+(C<<4&4294967295|C>>>28),C=k+(b^I^O)+V[12]+3873151461&4294967295,k=b+(C<<11&4294967295|C>>>21),C=O+(k^b^I)+V[15]+530742520&4294967295,O=k+(C<<16&4294967295|C>>>16),C=I+(O^k^b)+V[2]+3299628645&4294967295,I=O+(C<<23&4294967295|C>>>9),C=b+(O^(I|~k))+V[0]+4096336452&4294967295,b=I+(C<<6&4294967295|C>>>26),C=k+(I^(b|~O))+V[7]+1126891415&4294967295,k=b+(C<<10&4294967295|C>>>22),C=O+(b^(k|~I))+V[14]+2878612391&4294967295,O=k+(C<<15&4294967295|C>>>17),C=I+(k^(O|~b))+V[5]+4237533241&4294967295,I=O+(C<<21&4294967295|C>>>11),C=b+(O^(I|~k))+V[12]+1700485571&4294967295,b=I+(C<<6&4294967295|C>>>26),C=k+(I^(b|~O))+V[3]+2399980690&4294967295,k=b+(C<<10&4294967295|C>>>22),C=O+(b^(k|~I))+V[10]+4293915773&4294967295,O=k+(C<<15&4294967295|C>>>17),C=I+(k^(O|~b))+V[1]+2240044497&4294967295,I=O+(C<<21&4294967295|C>>>11),C=b+(O^(I|~k))+V[8]+1873313359&4294967295,b=I+(C<<6&4294967295|C>>>26),C=k+(I^(b|~O))+V[15]+4264355552&4294967295,k=b+(C<<10&4294967295|C>>>22),C=O+(b^(k|~I))+V[6]+2734768916&4294967295,O=k+(C<<15&4294967295|C>>>17),C=I+(k^(O|~b))+V[13]+1309151649&4294967295,I=O+(C<<21&4294967295|C>>>11),C=b+(O^(I|~k))+V[4]+4149444226&4294967295,b=I+(C<<6&4294967295|C>>>26),C=k+(I^(b|~O))+V[11]+3174756917&4294967295,k=b+(C<<10&4294967295|C>>>22),C=O+(b^(k|~I))+V[2]+718787259&4294967295,O=k+(C<<15&4294967295|C>>>17),C=I+(k^(O|~b))+V[9]+3951481745&4294967295,D.g[0]=D.g[0]+b&4294967295,D.g[1]=D.g[1]+(O+(C<<21&4294967295|C>>>11))&4294967295,D.g[2]=D.g[2]+O&4294967295,D.g[3]=D.g[3]+k&4294967295}a.prototype.v=function(D,b){b===void 0&&(b=D.length);const I=b-this.blockSize,V=this.C;let O=this.h,k=0;for(;k<b;){if(O==0)for(;k<=I;)l(this,D,k),k+=this.blockSize;if(typeof D=="string"){for(;k<b;)if(V[O++]=D.charCodeAt(k++),O==this.blockSize){l(this,V),O=0;break}}else for(;k<b;)if(V[O++]=D[k++],O==this.blockSize){l(this,V),O=0;break}}this.h=O,this.o+=b},a.prototype.A=function(){var D=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);D[0]=128;for(var b=1;b<D.length-8;++b)D[b]=0;b=this.o*8;for(var I=D.length-8;I<D.length;++I)D[I]=b&255,b/=256;for(this.v(D),D=Array(16),b=0,I=0;I<4;++I)for(let V=0;V<32;V+=8)D[b++]=this.g[I]>>>V&255;return D};function c(D,b){var I=p;return Object.prototype.hasOwnProperty.call(I,D)?I[D]:I[D]=b(D)}function d(D,b){this.h=b;const I=[];let V=!0;for(let O=D.length-1;O>=0;O--){const k=D[O]|0;V&&k==b||(I[O]=k,V=!1)}this.g=I}var p={};function y(D){return-128<=D&&D<128?c(D,function(b){return new d([b|0],b<0?-1:0)}):new d([D|0],D<0?-1:0)}function _(D){if(isNaN(D)||!isFinite(D))return w;if(D<0)return nt(_(-D));const b=[];let I=1;for(let V=0;D>=I;V++)b[V]=D/I|0,I*=4294967296;return new d(b,0)}function A(D,b){if(D.length==0)throw Error("number format error: empty string");if(b=b||10,b<2||36<b)throw Error("radix out of range: "+b);if(D.charAt(0)=="-")return nt(A(D.substring(1),b));if(D.indexOf("-")>=0)throw Error('number format error: interior "-" character');const I=_(Math.pow(b,8));let V=w;for(let k=0;k<D.length;k+=8){var O=Math.min(8,D.length-k);const C=parseInt(D.substring(k,k+O),b);O<8?(O=_(Math.pow(b,O)),V=V.j(O).add(_(C))):(V=V.j(I),V=V.add(_(C)))}return V}var w=y(0),x=y(1),G=y(16777216);s=d.prototype,s.m=function(){if(st(this))return-nt(this).m();let D=0,b=1;for(let I=0;I<this.g.length;I++){const V=this.i(I);D+=(V>=0?V:4294967296+V)*b,b*=4294967296}return D},s.toString=function(D){if(D=D||10,D<2||36<D)throw Error("radix out of range: "+D);if(rt(this))return"0";if(st(this))return"-"+nt(this).toString(D);const b=_(Math.pow(D,6));var I=this;let V="";for(;;){const O=Gt(I,b).g;I=St(I,O.j(b));let k=((I.g.length>0?I.g[0]:I.h)>>>0).toString(D);if(I=O,rt(I))return k+V;for(;k.length<6;)k="0"+k;V=k+V}},s.i=function(D){return D<0?0:D<this.g.length?this.g[D]:this.h};function rt(D){if(D.h!=0)return!1;for(let b=0;b<D.g.length;b++)if(D.g[b]!=0)return!1;return!0}function st(D){return D.h==-1}s.l=function(D){return D=St(this,D),st(D)?-1:rt(D)?0:1};function nt(D){const b=D.g.length,I=[];for(let V=0;V<b;V++)I[V]=~D.g[V];return new d(I,~D.h).add(x)}s.abs=function(){return st(this)?nt(this):this},s.add=function(D){const b=Math.max(this.g.length,D.g.length),I=[];let V=0;for(let O=0;O<=b;O++){let k=V+(this.i(O)&65535)+(D.i(O)&65535),C=(k>>>16)+(this.i(O)>>>16)+(D.i(O)>>>16);V=C>>>16,k&=65535,C&=65535,I[O]=C<<16|k}return new d(I,I[I.length-1]&-2147483648?-1:0)};function St(D,b){return D.add(nt(b))}s.j=function(D){if(rt(this)||rt(D))return w;if(st(this))return st(D)?nt(this).j(nt(D)):nt(nt(this).j(D));if(st(D))return nt(this.j(nt(D)));if(this.l(G)<0&&D.l(G)<0)return _(this.m()*D.m());const b=this.g.length+D.g.length,I=[];for(var V=0;V<2*b;V++)I[V]=0;for(V=0;V<this.g.length;V++)for(let O=0;O<D.g.length;O++){const k=this.i(V)>>>16,C=this.i(V)&65535,fe=D.i(O)>>>16,Se=D.i(O)&65535;I[2*V+2*O]+=C*Se,Tt(I,2*V+2*O),I[2*V+2*O+1]+=k*Se,Tt(I,2*V+2*O+1),I[2*V+2*O+1]+=C*fe,Tt(I,2*V+2*O+1),I[2*V+2*O+2]+=k*fe,Tt(I,2*V+2*O+2)}for(D=0;D<b;D++)I[D]=I[2*D+1]<<16|I[2*D];for(D=b;D<2*b;D++)I[D]=0;return new d(I,0)};function Tt(D,b){for(;(D[b]&65535)!=D[b];)D[b+1]+=D[b]>>>16,D[b]&=65535,b++}function pt(D,b){this.g=D,this.h=b}function Gt(D,b){if(rt(b))throw Error("division by zero");if(rt(D))return new pt(w,w);if(st(D))return b=Gt(nt(D),b),new pt(nt(b.g),nt(b.h));if(st(b))return b=Gt(D,nt(b)),new pt(nt(b.g),b.h);if(D.g.length>30){if(st(D)||st(b))throw Error("slowDivide_ only works with positive integers.");for(var I=x,V=b;V.l(D)<=0;)I=re(I),V=re(V);var O=kt(I,1),k=kt(V,1);for(V=kt(V,2),I=kt(I,2);!rt(V);){var C=k.add(V);C.l(D)<=0&&(O=O.add(I),k=C),V=kt(V,1),I=kt(I,1)}return b=St(D,O.j(b)),new pt(O,b)}for(O=w;D.l(b)>=0;){for(I=Math.max(1,Math.floor(D.m()/b.m())),V=Math.ceil(Math.log(I)/Math.LN2),V=V<=48?1:Math.pow(2,V-48),k=_(I),C=k.j(b);st(C)||C.l(D)>0;)I-=V,k=_(I),C=k.j(b);rt(k)&&(k=x),O=O.add(k),D=St(D,C)}return new pt(O,D)}s.B=function(D){return Gt(this,D).h},s.and=function(D){const b=Math.max(this.g.length,D.g.length),I=[];for(let V=0;V<b;V++)I[V]=this.i(V)&D.i(V);return new d(I,this.h&D.h)},s.or=function(D){const b=Math.max(this.g.length,D.g.length),I=[];for(let V=0;V<b;V++)I[V]=this.i(V)|D.i(V);return new d(I,this.h|D.h)},s.xor=function(D){const b=Math.max(this.g.length,D.g.length),I=[];for(let V=0;V<b;V++)I[V]=this.i(V)^D.i(V);return new d(I,this.h^D.h)};function re(D){const b=D.g.length+1,I=[];for(let V=0;V<b;V++)I[V]=D.i(V)<<1|D.i(V-1)>>>31;return new d(I,D.h)}function kt(D,b){const I=b>>5;b%=32;const V=D.g.length-I,O=[];for(let k=0;k<V;k++)O[k]=b>0?D.i(k+I)>>>b|D.i(k+I+1)<<32-b:D.i(k+I);return new d(O,D.h)}a.prototype.digest=a.prototype.A,a.prototype.reset=a.prototype.u,a.prototype.update=a.prototype.v,oT=a,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=_,d.fromString=A,Ts=d}).apply(typeof h0<"u"?h0:typeof self<"u"?self:typeof window<"u"?window:{});var Mc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var lT,Vl,uT,Hc,em,cT,hT,fT;(function(){var s,t=Object.defineProperty;function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Mc=="object"&&Mc];for(var m=0;m<u.length;++m){var v=u[m];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var a=i(this);function l(u,m){if(m)t:{var v=a;u=u.split(".");for(var S=0;S<u.length-1;S++){var P=u[S];if(!(P in v))break t;v=v[P]}u=u[u.length-1],S=v[u],m=m(S),m!=S&&m!=null&&t(v,u,{configurable:!0,writable:!0,value:m})}}l("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),l("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),l("Object.entries",function(u){return u||function(m){var v=[],S;for(S in m)Object.prototype.hasOwnProperty.call(m,S)&&v.push([S,m[S]]);return v}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var c=c||{},d=this||self;function p(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function y(u,m,v){return u.call.apply(u.bind,arguments)}function _(u,m,v){return _=y,_.apply(null,arguments)}function A(u,m){var v=Array.prototype.slice.call(arguments,1);return function(){var S=v.slice();return S.push.apply(S,arguments),u.apply(this,S)}}function w(u,m){function v(){}v.prototype=m.prototype,u.Z=m.prototype,u.prototype=new v,u.prototype.constructor=u,u.Ob=function(S,P,q){for(var lt=Array(arguments.length-2),Pt=2;Pt<arguments.length;Pt++)lt[Pt-2]=arguments[Pt];return m.prototype[P].apply(S,lt)}}var x=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function G(u){const m=u.length;if(m>0){const v=Array(m);for(let S=0;S<m;S++)v[S]=u[S];return v}return[]}function rt(u,m){for(let S=1;S<arguments.length;S++){const P=arguments[S];var v=typeof P;if(v=v!="object"?v:P?Array.isArray(P)?"array":v:"null",v=="array"||v=="object"&&typeof P.length=="number"){v=u.length||0;const q=P.length||0;u.length=v+q;for(let lt=0;lt<q;lt++)u[v+lt]=P[lt]}else u.push(P)}}class st{constructor(m,v){this.i=m,this.j=v,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function nt(u){d.setTimeout(()=>{throw u},0)}function St(){var u=D;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class Tt{constructor(){this.h=this.g=null}add(m,v){const S=pt.get();S.set(m,v),this.h?this.h.next=S:this.g=S,this.h=S}}var pt=new st(()=>new Gt,u=>u.reset());class Gt{constructor(){this.next=this.g=this.h=null}set(m,v){this.h=m,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let re,kt=!1,D=new Tt,b=()=>{const u=Promise.resolve(void 0);re=()=>{u.then(I)}};function I(){for(var u;u=St();){try{u.h.call(u.g)}catch(v){nt(v)}var m=pt;m.j(u),m.h<100&&(m.h++,u.next=m.g,m.g=u)}kt=!1}function V(){this.u=this.u,this.C=this.C}V.prototype.u=!1,V.prototype.dispose=function(){this.u||(this.u=!0,this.N())},V.prototype[Symbol.dispose]=function(){this.dispose()},V.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function O(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}O.prototype.h=function(){this.defaultPrevented=!0};var k=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const v=()=>{};d.addEventListener("test",v,m),d.removeEventListener("test",v,m)}catch{}return u})();function C(u){return/^[\s\xa0]*$/.test(u)}function fe(u,m){O.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,m)}w(fe,O),fe.prototype.init=function(u,m){const v=this.type=u.type,S=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget,m||(v=="mouseover"?m=u.fromElement:v=="mouseout"&&(m=u.toElement)),this.relatedTarget=m,S?(this.clientX=S.clientX!==void 0?S.clientX:S.pageX,this.clientY=S.clientY!==void 0?S.clientY:S.pageY,this.screenX=S.screenX||0,this.screenY=S.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&fe.Z.h.call(this)},fe.prototype.h=function(){fe.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var Se="closure_listenable_"+(Math.random()*1e6|0),Y=0;function ot(u,m,v,S,P){this.listener=u,this.proxy=null,this.src=m,this.type=v,this.capture=!!S,this.ha=P,this.key=++Y,this.da=this.fa=!1}function yt(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Ft(u,m,v){for(const S in u)m.call(v,u[S],S,u)}function ie(u,m){for(const v in u)m.call(void 0,u[v],v,u)}function L(u){const m={};for(const v in u)m[v]=u[v];return m}const K="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function at(u,m){let v,S;for(let P=1;P<arguments.length;P++){S=arguments[P];for(v in S)u[v]=S[v];for(let q=0;q<K.length;q++)v=K[q],Object.prototype.hasOwnProperty.call(S,v)&&(u[v]=S[v])}}function ct(u){this.src=u,this.g={},this.h=0}ct.prototype.add=function(u,m,v,S,P){const q=u.toString();u=this.g[q],u||(u=this.g[q]=[],this.h++);const lt=Ot(u,m,S,P);return lt>-1?(m=u[lt],v||(m.fa=!1)):(m=new ot(m,this.src,q,!!S,P),m.fa=v,u.push(m)),m};function It(u,m){const v=m.type;if(v in u.g){var S=u.g[v],P=Array.prototype.indexOf.call(S,m,void 0),q;(q=P>=0)&&Array.prototype.splice.call(S,P,1),q&&(yt(m),u.g[v].length==0&&(delete u.g[v],u.h--))}}function Ot(u,m,v,S){for(let P=0;P<u.length;++P){const q=u[P];if(!q.da&&q.listener==m&&q.capture==!!v&&q.ha==S)return P}return-1}var Kt="closure_lm_"+(Math.random()*1e6|0),xe={};function bt(u,m,v,S,P){if(Array.isArray(m)){for(let q=0;q<m.length;q++)bt(u,m[q],v,S,P);return null}return v=Ds(v),u&&u[Se]?u.J(m,v,p(S)?!!S.capture:!1,P):tr(u,m,v,!1,S,P)}function tr(u,m,v,S,P,q){if(!m)throw Error("Invalid event type");const lt=p(P)?!!P.capture:!!P;let Pt=er(u);if(Pt||(u[Kt]=Pt=new ct(u)),v=Pt.add(m,v,S,lt,q),v.proxy)return v;if(S=Or(),v.proxy=S,S.src=u,S.listener=v,u.addEventListener)k||(P=lt),P===void 0&&(P=!1),u.addEventListener(m.toString(),S,P);else if(u.attachEvent)u.attachEvent(Ln(m.toString()),S);else if(u.addListener&&u.removeListener)u.addListener(S);else throw Error("addEventListener and attachEvent are unavailable.");return v}function Or(){function u(v){return m.call(u.src,u.listener,v)}const m=wn;return u}function Mr(u,m,v,S,P){if(Array.isArray(m))for(var q=0;q<m.length;q++)Mr(u,m[q],v,S,P);else S=p(S)?!!S.capture:!!S,v=Ds(v),u&&u[Se]?(u=u.i,q=String(m).toString(),q in u.g&&(m=u.g[q],v=Ot(m,v,S,P),v>-1&&(yt(m[v]),Array.prototype.splice.call(m,v,1),m.length==0&&(delete u.g[q],u.h--)))):u&&(u=er(u))&&(m=u.g[m.toString()],u=-1,m&&(u=Ot(m,v,S,P)),(v=u>-1?m[u]:null)&&Vr(v))}function Vr(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[Se])It(m.i,u);else{var v=u.type,S=u.proxy;m.removeEventListener?m.removeEventListener(v,S,u.capture):m.detachEvent?m.detachEvent(Ln(v),S):m.addListener&&m.removeListener&&m.removeListener(S),(v=er(m))?(It(v,u),v.h==0&&(v.src=null,m[Kt]=null)):yt(u)}}}function Ln(u){return u in xe?xe[u]:xe[u]="on"+u}function wn(u,m){if(u.da)u=!0;else{m=new fe(m,this);const v=u.listener,S=u.ha||u.src;u.fa&&Vr(u),u=v.call(S,m)}return u}function er(u){return u=u[Kt],u instanceof ct?u:null}var Ns="__closure_events_fn_"+(Math.random()*1e9>>>0);function Ds(u){return typeof u=="function"?u:(u[Ns]||(u[Ns]=function(m){return u.handleEvent(m)}),u[Ns])}function Me(){V.call(this),this.i=new ct(this),this.M=this,this.G=null}w(Me,V),Me.prototype[Se]=!0,Me.prototype.removeEventListener=function(u,m,v,S){Mr(this,u,m,v,S)};function ke(u,m){var v,S=u.G;if(S)for(v=[];S;S=S.G)v.push(S);if(u=u.M,S=m.type||m,typeof m=="string")m=new O(m,u);else if(m instanceof O)m.target=m.target||u;else{var P=m;m=new O(S,u),at(m,P)}P=!0;let q,lt;if(v)for(lt=v.length-1;lt>=0;lt--)q=m.g=v[lt],P=wi(q,S,!0,m)&&P;if(q=m.g=u,P=wi(q,S,!0,m)&&P,P=wi(q,S,!1,m)&&P,v)for(lt=0;lt<v.length;lt++)q=m.g=v[lt],P=wi(q,S,!1,m)&&P}Me.prototype.N=function(){if(Me.Z.N.call(this),this.i){var u=this.i;for(const m in u.g){const v=u.g[m];for(let S=0;S<v.length;S++)yt(v[S]);delete u.g[m],u.h--}}this.G=null},Me.prototype.J=function(u,m,v,S){return this.i.add(String(u),m,!1,v,S)},Me.prototype.K=function(u,m,v,S){return this.i.add(String(u),m,!0,v,S)};function wi(u,m,v,S){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();let P=!0;for(let q=0;q<m.length;++q){const lt=m[q];if(lt&&!lt.da&&lt.capture==v){const Pt=lt.listener,Ue=lt.ha||lt.src;lt.fa&&It(u.i,lt),P=Pt.call(Ue,S)!==!1&&P}}return P&&!S.defaultPrevented}function Lr(u,m){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=_(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:d.setTimeout(u,m||0)}function Os(u){u.g=Lr(()=>{u.g=null,u.i&&(u.i=!1,Os(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class on extends V{constructor(m,v){super(),this.m=m,this.l=v,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:Os(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function nr(u){V.call(this),this.h=u,this.g={}}w(nr,V);var ir=[];function rr(u){Ft(u.g,function(m,v){this.g.hasOwnProperty(v)&&Vr(m)},u),u.g={}}nr.prototype.N=function(){nr.Z.N.call(this),rr(this)},nr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Yn=d.JSON.stringify,Ms=d.JSON.parse,T=class{stringify(u){return d.JSON.stringify(u,void 0)}parse(u){return d.JSON.parse(u,void 0)}};function R(){}function F(){}var W={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function J(){O.call(this,"d")}w(J,O);function tt(){O.call(this,"c")}w(tt,O);var ft={},Mt=null;function wt(){return Mt=Mt||new Me}ft.Ia="serverreachability";function qt(u){O.call(this,ft.Ia,u)}w(qt,O);function vt(u){const m=wt();ke(m,new qt(m))}ft.STAT_EVENT="statevent";function se(u,m){O.call(this,ft.STAT_EVENT,u),this.stat=m}w(se,O);function Ht(u){const m=wt();ke(m,new se(m,u))}ft.Ja="timingevent";function de(u,m){O.call(this,ft.Ja,u),this.size=m}w(de,O);function Ae(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){u()},m)}function it(){this.g=!0}it.prototype.ua=function(){this.g=!1};function Bt(u,m,v,S,P,q){u.info(function(){if(u.g)if(q){var lt="",Pt=q.split("&");for(let ue=0;ue<Pt.length;ue++){var Ue=Pt[ue].split("=");if(Ue.length>1){const Ie=Ue[0];Ue=Ue[1];const Zn=Ie.split("_");lt=Zn.length>=2&&Zn[1]=="type"?lt+(Ie+"="+Ue+"&"):lt+(Ie+"=redacted&")}}}else lt=null;else lt=q;return"XMLHTTP REQ ("+S+") [attempt "+P+"]: "+m+`
`+v+`
`+lt})}function De(u,m,v,S,P,q,lt){u.info(function(){return"XMLHTTP RESP ("+S+") [ attempt "+P+"]: "+m+`
`+v+`
`+q+" "+lt})}function Nt(u,m,v,S){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+Ut(u,v)+(S?" "+S:"")})}function le(u,m){u.info(function(){return"TIMEOUT: "+m})}it.prototype.info=function(){};function Ut(u,m){if(!u.g)return m;if(!m)return null;try{const q=JSON.parse(m);if(q){for(u=0;u<q.length;u++)if(Array.isArray(q[u])){var v=q[u];if(!(v.length<2)){var S=v[1];if(Array.isArray(S)&&!(S.length<1)){var P=S[0];if(P!="noop"&&P!="stop"&&P!="close")for(let lt=1;lt<S.length;lt++)S[lt]=""}}}}return Yn(q)}catch{return m}}var te={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},oi={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},li;function ui(){}w(ui,R),ui.prototype.g=function(){return new XMLHttpRequest},li=new ui;function xn(u){return encodeURIComponent(String(u))}function _a(u){var m=1;u=u.split(":");const v=[];for(;m>0&&u.length;)v.push(u.shift()),m--;return u.length&&v.push(u.join(":")),v}function ci(u,m,v,S){this.j=u,this.i=m,this.l=v,this.S=S||1,this.V=new nr(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new hi}function hi(){this.i=null,this.g="",this.h=!1}var qe={},nn={};function Ri(u,m,v){u.M=1,u.A=Vs(Ge(m)),u.u=v,u.R=!0,va(u,null)}function va(u,m){u.F=Date.now(),Ci(u),u.B=Ge(u.A);var v=u.B,S=u.S;Array.isArray(S)||(S=[String(S)]),Aa(v.i,"t",S),u.C=0,v=u.j.L,u.h=new hi,u.g=bu(u.j,v?m:null,!u.u),u.P>0&&(u.O=new on(_(u.Y,u,u.g),u.P)),m=u.V,v=u.g,S=u.ba;var P="readystatechange";Array.isArray(P)||(P&&(ir[0]=P.toString()),P=ir);for(let q=0;q<P.length;q++){const lt=bt(v,P[q],S||m.handleEvent,!1,m.h||m);if(!lt)break;m.g[lt.key]=lt}m=u.J?L(u.J):{},u.u?(u.v||(u.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,m)):(u.v="GET",u.g.ea(u.B,u.v,null,m)),vt(),Bt(u.i,u.v,u.B,u.l,u.S,u.u)}ci.prototype.ba=function(u){u=u.target;const m=this.O;m&&mi(u)==3?m.j():this.Y(u)},ci.prototype.Y=function(u){try{if(u==this.g)t:{const Pt=mi(this.g),Ue=this.g.ya(),ue=this.g.ca();if(!(Pt<3)&&(Pt!=3||this.g&&(this.h.h||this.g.la()||ln(this.g)))){this.K||Pt!=4||Ue==7||(Ue==8||ue<=0?vt(3):vt(2)),Ii(this);var m=this.g.ca();this.X=m;var v=Vh(this);if(this.o=m==200,De(this.i,this.v,this.B,this.l,this.S,Pt,m),this.o){if(this.U&&!this.L){e:{if(this.g){var S,P=this.g;if((S=P.g?P.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!C(S)){var q=S;break e}}q=null}if(u=q)Nt(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Ni(this,u);else{this.o=!1,this.m=3,Ht(12),kn(this),Qn(this);break t}}if(this.R){u=!0;let Ie;for(;!this.K&&this.C<v.length;)if(Ie=hu(this,v),Ie==nn){Pt==4&&(this.m=4,Ht(14),u=!1),Nt(this.i,this.l,null,"[Incomplete Response]");break}else if(Ie==qe){this.m=4,Ht(15),Nt(this.i,this.l,v,"[Invalid Chunk]"),u=!1;break}else Nt(this.i,this.l,Ie,null),Ni(this,Ie);if(cu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Pt!=4||v.length!=0||this.h.h||(this.m=1,Ht(16),u=!1),this.o=this.o&&u,!u)Nt(this.i,this.l,v,"[Invalid Chunked Response]"),kn(this),Qn(this);else if(v.length>0&&!this.W){this.W=!0;var lt=this.j;lt.g==this&&lt.aa&&!lt.P&&(lt.j.info("Great, no buffering proxy detected. Bytes received: "+v.length),Qo(lt),lt.P=!0,Ht(11))}}else Nt(this.i,this.l,v,null),Ni(this,v);Pt==4&&kn(this),this.o&&!this.K&&(Pt==4?Tu(this.j,this):(this.o=!1,Ci(this)))}else ar(this.g),m==400&&v.indexOf("Unknown SID")>0?(this.m=3,Ht(12)):(this.m=0,Ht(13)),kn(this),Qn(this)}}}catch{}finally{}};function Vh(u){if(!cu(u))return u.g.la();const m=ln(u.g);if(m==="")return"";let v="";const S=m.length,P=mi(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return kn(u),Qn(u),"";u.h.i=new d.TextDecoder}for(let q=0;q<S;q++)u.h.h=!0,v+=u.h.i.decode(m[q],{stream:!(P&&q==S-1)});return m.length=0,u.h.g+=v,u.C=0,u.h.g}function cu(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function hu(u,m){var v=u.C,S=m.indexOf(`
`,v);return S==-1?nn:(v=Number(m.substring(v,S)),isNaN(v)?qe:(S+=1,S+v>m.length?nn:(m=m.slice(S,S+v),u.C=S+v,m)))}ci.prototype.cancel=function(){this.K=!0,kn(this)};function Ci(u){u.T=Date.now()+u.H,Ta(u,u.H)}function Ta(u,m){if(u.D!=null)throw Error("WatchDog timer not null");u.D=Ae(_(u.aa,u),m)}function Ii(u){u.D&&(d.clearTimeout(u.D),u.D=null)}ci.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(le(this.i,this.B),this.M!=2&&(vt(),Ht(17)),kn(this),this.m=2,Qn(this)):Ta(this,this.T-u)};function Qn(u){u.j.I==0||u.K||Tu(u.j,u)}function kn(u){Ii(u);var m=u.O;m&&typeof m.dispose=="function"&&m.dispose(),u.O=null,rr(u.V),u.g&&(m=u.g,u.g=null,m.abort(),m.dispose())}function Ni(u,m){try{var v=u.j;if(v.I!=0&&(v.g==u||Oi(v.h,u))){if(!u.L&&Oi(v.h,u)&&v.I==3){try{var S=v.Ba.g.parse(m)}catch{S=null}if(Array.isArray(S)&&S.length==3){var P=S;if(P[0]==0){t:if(!v.v){if(v.g)if(v.g.F+3e3<u.F)Ia(v),qr(v);else break t;Bs(v),Ht(18)}}else v.xa=P[1],0<v.xa-v.K&&P[2]<37500&&v.F&&v.A==0&&!v.C&&(v.C=Ae(_(v.Va,v),6e3));Di(v.h)<=1&&v.ta&&(v.ta=void 0)}else Ui(v,11)}else if((u.L||v.g==u)&&Ia(v),!C(m))for(P=v.Ba.g.parse(m),m=0;m<P.length;m++){let ue=P[m];const Ie=ue[0];if(!(Ie<=v.K))if(v.K=Ie,ue=ue[1],v.I==2)if(ue[0]=="c"){v.M=ue[1],v.ba=ue[2];const Zn=ue[3];Zn!=null&&(v.ka=Zn,v.j.info("VER="+v.ka));const Pi=ue[4];Pi!=null&&(v.za=Pi,v.j.info("SVER="+v.za));const gi=ue[5];gi!=null&&typeof gi=="number"&&gi>0&&(S=1.5*gi,v.O=S,v.j.info("backChannelRequestTimeoutMs_="+S)),S=v;const pi=u.g;if(pi){const js=pi.g?pi.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(js){var q=S.h;q.g||js.indexOf("spdy")==-1&&js.indexOf("quic")==-1&&js.indexOf("h2")==-1||(q.j=q.l,q.g=new Set,q.h&&(xo(q,q.h),q.h=null))}if(S.G){const Na=pi.g?pi.g.getResponseHeader("X-HTTP-Session-Id"):null;Na&&(S.wa=Na,me(S.J,S.G,Na))}}v.I=3,v.l&&v.l.ra(),v.aa&&(v.T=Date.now()-u.F,v.j.info("Handshake RTT: "+v.T+"ms")),S=v;var lt=u;if(S.na=Au(S,S.L?S.ba:null,S.W),lt.L){ko(S.h,lt);var Pt=lt,Ue=S.O;Ue&&(Pt.H=Ue),Pt.D&&(Ii(Pt),Ci(Pt)),S.g=lt}else _u(S);v.i.length>0&&ki(v)}else ue[0]!="stop"&&ue[0]!="close"||Ui(v,7);else v.I==3&&(ue[0]=="stop"||ue[0]=="close"?ue[0]=="stop"?Ui(v,7):Fo(v):ue[0]!="noop"&&v.l&&v.l.qa(ue),v.A=0)}}vt(4)}catch{}}var He=class{constructor(u,m){this.g=u,this.map=m}};function Vo(u){this.l=u||10,d.PerformanceNavigationTiming?(u=d.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Lo(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function Di(u){return u.h?1:u.g?u.g.size:0}function Oi(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function xo(u,m){u.g?u.g.add(m):u.h=m}function ko(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}Vo.prototype.cancel=function(){if(this.i=Uo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Uo(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const v of u.g.values())m=m.concat(v.G);return m}return G(u.i)}var fu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ea(u,m){if(u){u=u.split("&");for(let v=0;v<u.length;v++){const S=u[v].indexOf("=");let P,q=null;S>=0?(P=u[v].substring(0,S),q=u[v].substring(S+1)):P=u[v],m(P,q?decodeURIComponent(q.replace(/\+/g," ")):"")}}}function Un(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;u instanceof Un?(this.l=u.l,rn(this,u.j),this.o=u.o,this.g=u.g,xr(this,u.u),this.h=u.h,Po(this,pu(u.i)),this.m=u.m):u&&(m=String(u).match(fu))?(this.l=!1,rn(this,m[1]||"",!0),this.o=Mi(m[2]||""),this.g=Mi(m[3]||"",!0),xr(this,m[4]),this.h=Mi(m[5]||"",!0),Po(this,m[6]||"",!0),this.m=Mi(m[7]||"")):(this.l=!1,this.i=new Ur(null,this.l))}Un.prototype.toString=function(){const u=[];var m=this.j;m&&u.push(Ls(m,Sa,!0),":");var v=this.g;return(v||m=="file")&&(u.push("//"),(m=this.o)&&u.push(Ls(m,Sa,!0),"@"),u.push(xn(v).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.u,v!=null&&u.push(":",String(v))),(v=this.h)&&(this.g&&v.charAt(0)!="/"&&u.push("/"),u.push(Ls(v,v.charAt(0)=="/"?zo:du,!0))),(v=this.i.toString())&&u.push("?",v),(v=this.m)&&u.push("#",Ls(v,mu)),u.join("")},Un.prototype.resolve=function(u){const m=Ge(this);let v=!!u.j;v?rn(m,u.j):v=!!u.o,v?m.o=u.o:v=!!u.g,v?m.g=u.g:v=u.u!=null;var S=u.h;if(v)xr(m,u.u);else if(v=!!u.h){if(S.charAt(0)!="/")if(this.g&&!this.h)S="/"+S;else{var P=m.h.lastIndexOf("/");P!=-1&&(S=m.h.slice(0,P+1)+S)}if(P=S,P==".."||P==".")S="";else if(P.indexOf("./")!=-1||P.indexOf("/.")!=-1){S=P.lastIndexOf("/",0)==0,P=P.split("/");const q=[];for(let lt=0;lt<P.length;){const Pt=P[lt++];Pt=="."?S&&lt==P.length&&q.push(""):Pt==".."?((q.length>1||q.length==1&&q[0]!="")&&q.pop(),S&&lt==P.length&&q.push("")):(q.push(Pt),S=!0)}S=q.join("/")}else S=P}return v?m.h=S:v=u.i.toString()!=="",v?Po(m,pu(u.i)):v=!!u.m,v&&(m.m=u.m),m};function Ge(u){return new Un(u)}function rn(u,m,v){u.j=v?Mi(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function xr(u,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);u.u=m}else u.u=null}function Po(u,m,v){m instanceof Ur?(u.i=m,ba(u.i,u.l)):(v||(m=Ls(m,kr)),u.i=new Ur(m,u.l))}function me(u,m,v){u.i.set(m,v)}function Vs(u){return me(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function Mi(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Ls(u,m,v){return typeof u=="string"?(u=encodeURI(u).replace(m,Rn),v&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function Rn(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var Sa=/[#\/\?@]/g,du=/[#\?:]/g,zo=/[#\?]/g,kr=/[#\?@]/g,mu=/#/g;function Ur(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function Cn(u){u.g||(u.g=new Map,u.h=0,u.i&&Ea(u.i,function(m,v){u.add(decodeURIComponent(m.replace(/\+/g," ")),v)}))}s=Ur.prototype,s.add=function(u,m){Cn(this),this.i=null,u=Pr(this,u);let v=this.g.get(u);return v||this.g.set(u,v=[]),v.push(m),this.h+=1,this};function gu(u,m){Cn(u),m=Pr(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function Bo(u,m){return Cn(u),m=Pr(u,m),u.g.has(m)}s.forEach=function(u,m){Cn(this),this.g.forEach(function(v,S){v.forEach(function(P){u.call(m,P,S,this)},this)},this)};function jo(u,m){Cn(u);let v=[];if(typeof m=="string")Bo(u,m)&&(v=v.concat(u.g.get(Pr(u,m))));else for(u=Array.from(u.g.values()),m=0;m<u.length;m++)v=v.concat(u[m]);return v}s.set=function(u,m){return Cn(this),this.i=null,u=Pr(this,u),Bo(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},s.get=function(u,m){return u?(u=jo(this,u),u.length>0?String(u[0]):m):m};function Aa(u,m,v){gu(u,m),v.length>0&&(u.i=null,u.g.set(Pr(u,m),G(v)),u.h+=v.length)}s.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(let S=0;S<m.length;S++){var v=m[S];const P=xn(v);v=jo(this,v);for(let q=0;q<v.length;q++){let lt=P;v[q]!==""&&(lt+="="+xn(v[q])),u.push(lt)}}return this.i=u.join("&")};function pu(u){const m=new Ur;return m.i=u.i,u.g&&(m.g=new Map(u.g),m.h=u.h),m}function Pr(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function ba(u,m){m&&!u.j&&(Cn(u),u.i=null,u.g.forEach(function(v,S){const P=S.toLowerCase();S!=P&&(gu(this,S),Aa(this,P,v))},u)),u.j=m}function fi(u,m){const v=new it;if(d.Image){const S=new Image;S.onload=A(Kn,v,"TestLoadImage: loaded",!0,m,S),S.onerror=A(Kn,v,"TestLoadImage: error",!1,m,S),S.onabort=A(Kn,v,"TestLoadImage: abort",!1,m,S),S.ontimeout=A(Kn,v,"TestLoadImage: timeout",!1,m,S),d.setTimeout(function(){S.ontimeout&&S.ontimeout()},1e4),S.src=u}else m(!1)}function qo(u,m){const v=new it,S=new AbortController,P=setTimeout(()=>{S.abort(),Kn(v,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:S.signal}).then(q=>{clearTimeout(P),q.ok?Kn(v,"TestPingServer: ok",!0,m):Kn(v,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(P),Kn(v,"TestPingServer: error",!1,m)})}function Kn(u,m,v,S,P){try{P&&(P.onload=null,P.onerror=null,P.onabort=null,P.ontimeout=null),S(v)}catch{}}function zr(){this.g=new T}function Vi(u){this.i=u.Sb||null,this.h=u.ab||!1}w(Vi,R),Vi.prototype.g=function(){return new xs(this.i,this.h)};function xs(u,m){Me.call(this),this.H=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}w(xs,Me),s=xs.prototype,s.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=m,this.readyState=1,di(this)},s.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(m.body=u),(this.H||d).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},s.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Br(this)),this.readyState=0},s.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,di(this)),this.g&&(this.readyState=3,di(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;wa(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function wa(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}s.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?Br(this):di(this),this.readyState==3&&wa(this)}},s.Oa=function(u){this.g&&(this.response=this.responseText=u,Br(this))},s.Na=function(u){this.g&&(this.response=u,Br(this))},s.ga=function(){this.g&&Br(this)};function Br(u){u.readyState=4,u.l=null,u.j=null,u.B=null,di(u)}s.setRequestHeader=function(u,m){this.A.append(u,m)},s.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},s.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var v=m.next();!v.done;)v=v.value,u.push(v[0]+": "+v[1]),v=m.next();return u.join(`\r
`)};function di(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(xs.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Xn(u){let m="";return Ft(u,function(v,S){m+=S,m+=":",m+=v,m+=`\r
`}),m}function ks(u,m,v){t:{for(S in v){var S=!1;break t}S=!0}S||(v=Xn(v),typeof u=="string"?v!=null&&xn(v):me(u,m,v))}function ye(u){Me.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}w(ye,Me);var Li=/^https?$/i,Ho=["POST","PUT"];s=ye.prototype,s.Fa=function(u){this.H=u},s.ea=function(u,m,v,S){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():li.g(),this.g.onreadystatechange=x(_(this.Ca,this));try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(q){Us(this,q);return}if(u=v||"",v=new Map(this.headers),S)if(Object.getPrototypeOf(S)===Object.prototype)for(var P in S)v.set(P,S[P]);else if(typeof S.keys=="function"&&typeof S.get=="function")for(const q of S.keys())v.set(q,S.get(q));else throw Error("Unknown input type for opt_headers: "+String(S));S=Array.from(v.keys()).find(q=>q.toLowerCase()=="content-type"),P=d.FormData&&u instanceof d.FormData,!(Array.prototype.indexOf.call(Ho,m,void 0)>=0)||S||P||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[q,lt]of v)this.g.setRequestHeader(q,lt);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(q){Us(this,q)}};function Us(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.o=5,Go(u),sr(u)}function Go(u){u.A||(u.A=!0,ke(u,"complete"),ke(u,"error"))}s.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,ke(this,"complete"),ke(this,"abort"),sr(this))},s.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),sr(this,!0)),ye.Z.N.call(this)},s.Ca=function(){this.u||(this.B||this.v||this.j?Ps(this):this.Xa())},s.Xa=function(){Ps(this)};function Ps(u){if(u.h&&typeof c<"u"){if(u.v&&mi(u)==4)setTimeout(u.Ca.bind(u),0);else if(ke(u,"readystatechange"),mi(u)==4){u.h=!1;try{const q=u.ca();t:switch(q){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var v;if(!(v=m)){var S;if(S=q===0){let lt=String(u.D).match(fu)[1]||null;!lt&&d.self&&d.self.location&&(lt=d.self.location.protocol.slice(0,-1)),S=!Li.test(lt?lt.toLowerCase():"")}v=S}if(v)ke(u,"complete"),ke(u,"success");else{u.o=6;try{var P=mi(u)>2?u.g.statusText:""}catch{P=""}u.l=P+" ["+u.ca()+"]",Go(u)}}finally{sr(u)}}}}function sr(u,m){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const v=u.g;u.g=null,m||ke(u,"ready");try{v.onreadystatechange=null}catch{}}}s.isActive=function(){return!!this.g};function mi(u){return u.g?u.g.readyState:0}s.ca=function(){try{return mi(this)>2?this.g.status:-1}catch{return-1}},s.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},s.La=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),Ms(m)}};function ln(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function ar(u){const m={};u=(u.g&&mi(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let S=0;S<u.length;S++){if(C(u[S]))continue;var v=_a(u[S]);const P=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const q=m[P]||[];m[P]=q,q.push(v)}ie(m,function(S){return S.join(", ")})}s.ya=function(){return this.o},s.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function xi(u,m,v){return v&&v.internalChannelParams&&v.internalChannelParams[u]||m}function jr(u){this.za=0,this.i=[],this.j=new it,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=xi("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=xi("baseRetryDelayMs",5e3,u),this.Za=xi("retryDelaySeedMs",1e4,u),this.Ta=xi("forwardChannelMaxRetries",2,u),this.va=xi("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new Vo(u&&u.concurrentRequestLimit),this.Ba=new zr,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}s=jr.prototype,s.ka=8,s.I=1,s.connect=function(u,m,v,S){Ht(0),this.W=u,this.H=m||{},v&&S!==void 0&&(this.H.OSID=v,this.H.OAID=S),this.F=this.X,this.J=Au(this,null,this.W),ki(this)};function Fo(u){if(Ra(u),u.I==3){var m=u.V++,v=Ge(u.J);if(me(v,"SID",u.M),me(v,"RID",m),me(v,"TYPE","terminate"),zs(u,v),m=new ci(u,u.j,m),m.M=2,m.A=Vs(Ge(v)),v=!1,d.navigator&&d.navigator.sendBeacon)try{v=d.navigator.sendBeacon(m.A.toString(),"")}catch{}!v&&d.Image&&(new Image().src=m.A,v=!0),v||(m.g=bu(m.j,null),m.g.ea(m.A)),m.F=Date.now(),Ci(m)}Su(u)}function qr(u){u.g&&(Qo(u),u.g.cancel(),u.g=null)}function Ra(u){qr(u),u.v&&(d.clearTimeout(u.v),u.v=null),Ia(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&d.clearTimeout(u.m),u.m=null)}function ki(u){if(!Lo(u.h)&&!u.m){u.m=!0;var m=u.Ea;re||b(),kt||(re(),kt=!0),D.add(m,u),u.D=0}}function Ca(u,m){return Di(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=m.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=Ae(_(u.Ea,u,m),Eu(u,u.D)),u.D++,!0)}s.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const P=new ci(this,this.j,u);let q=this.o;if(this.U&&(q?(q=L(q),at(q,this.U)):q=this.U),this.u!==null||this.R||(P.J=q,q=null),this.S)t:{for(var m=0,v=0;v<this.i.length;v++){e:{var S=this.i[v];if("__data__"in S.map&&(S=S.map.__data__,typeof S=="string")){S=S.length;break e}S=void 0}if(S===void 0)break;if(m+=S,m>4096){m=v;break t}if(m===4096||v===this.i.length-1){m=v+1;break t}}m=1e3}else m=1e3;m=yu(this,P,m),v=Ge(this.J),me(v,"RID",u),me(v,"CVER",22),this.G&&me(v,"X-HTTP-Session-Id",this.G),zs(this,v),q&&(this.R?m="headers="+xn(Xn(q))+"&"+m:this.u&&ks(v,this.u,q)),xo(this.h,P),this.Ra&&me(v,"TYPE","init"),this.S?(me(v,"$req",m),me(v,"SID","null"),P.U=!0,Ri(P,v,null)):Ri(P,v,m),this.I=2}}else this.I==3&&(u?Yo(this,u):this.i.length==0||Lo(this.h)||Yo(this))};function Yo(u,m){var v;m?v=m.l:v=u.V++;const S=Ge(u.J);me(S,"SID",u.M),me(S,"RID",v),me(S,"AID",u.K),zs(u,S),u.u&&u.o&&ks(S,u.u,u.o),v=new ci(u,u.j,v,u.D+1),u.u===null&&(v.J=u.o),m&&(u.i=m.G.concat(u.i)),m=yu(u,v,1e3),v.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),xo(u.h,v),Ri(v,S,m)}function zs(u,m){u.H&&Ft(u.H,function(v,S){me(m,S,v)}),u.l&&Ft({},function(v,S){me(m,S,v)})}function yu(u,m,v){v=Math.min(u.i.length,v);const S=u.l?_(u.l.Ka,u.l,u):null;t:{var P=u.i;let Pt=-1;for(;;){const Ue=["count="+v];Pt==-1?v>0?(Pt=P[0].g,Ue.push("ofs="+Pt)):Pt=0:Ue.push("ofs="+Pt);let ue=!0;for(let Ie=0;Ie<v;Ie++){var q=P[Ie].g;const Zn=P[Ie].map;if(q-=Pt,q<0)Pt=Math.max(0,P[Ie].g-100),ue=!1;else try{q="req"+q+"_"||"";try{var lt=Zn instanceof Map?Zn:Object.entries(Zn);for(const[Pi,gi]of lt){let pi=gi;p(gi)&&(pi=Yn(gi)),Ue.push(q+Pi+"="+encodeURIComponent(pi))}}catch(Pi){throw Ue.push(q+"type="+encodeURIComponent("_badmap")),Pi}}catch{S&&S(Zn)}}if(ue){lt=Ue.join("&");break t}}lt=void 0}return u=u.i.splice(0,v),m.G=u,lt}function _u(u){if(!u.g&&!u.v){u.Y=1;var m=u.Da;re||b(),kt||(re(),kt=!0),D.add(m,u),u.A=0}}function Bs(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=Ae(_(u.Da,u),Eu(u,u.A)),u.A++,!0)}s.Da=function(){if(this.v=null,vu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=Ae(_(this.Wa,this),u)}},s.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Ht(10),qr(this),vu(this))};function Qo(u){u.B!=null&&(d.clearTimeout(u.B),u.B=null)}function vu(u){u.g=new ci(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var m=Ge(u.na);me(m,"RID","rpc"),me(m,"SID",u.M),me(m,"AID",u.K),me(m,"CI",u.F?"0":"1"),!u.F&&u.ia&&me(m,"TO",u.ia),me(m,"TYPE","xmlhttp"),zs(u,m),u.u&&u.o&&ks(m,u.u,u.o),u.O&&(u.g.H=u.O);var v=u.g;u=u.ba,v.M=1,v.A=Vs(Ge(m)),v.u=null,v.R=!0,va(v,u)}s.Va=function(){this.C!=null&&(this.C=null,qr(this),Bs(this),Ht(19))};function Ia(u){u.C!=null&&(d.clearTimeout(u.C),u.C=null)}function Tu(u,m){var v=null;if(u.g==m){Ia(u),Qo(u),u.g=null;var S=2}else if(Oi(u.h,m))v=m.G,ko(u.h,m),S=1;else return;if(u.I!=0){if(m.o)if(S==1){v=m.u?m.u.length:0,m=Date.now()-m.F;var P=u.D;S=wt(),ke(S,new de(S,v)),ki(u)}else _u(u);else if(P=m.m,P==3||P==0&&m.X>0||!(S==1&&Ca(u,m)||S==2&&Bs(u)))switch(v&&v.length>0&&(m=u.h,m.i=m.i.concat(v)),P){case 1:Ui(u,5);break;case 4:Ui(u,10);break;case 3:Ui(u,6);break;default:Ui(u,2)}}}function Eu(u,m){let v=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(v*=2),v*m}function Ui(u,m){if(u.j.info("Error code "+m),m==2){var v=_(u.bb,u),S=u.Ua;const P=!S;S=new Un(S||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||rn(S,"https"),Vs(S),P?fi(S.toString(),v):qo(S.toString(),v)}else Ht(2);u.I=0,u.l&&u.l.pa(m),Su(u),Ra(u)}s.bb=function(u){u?(this.j.info("Successfully pinged google.com"),Ht(2)):(this.j.info("Failed to ping google.com"),Ht(1))};function Su(u){if(u.I=0,u.ja=[],u.l){const m=Uo(u.h);(m.length!=0||u.i.length!=0)&&(rt(u.ja,m),rt(u.ja,u.i),u.h.i.length=0,G(u.i),u.i.length=0),u.l.oa()}}function Au(u,m,v){var S=v instanceof Un?Ge(v):new Un(v);if(S.g!="")m&&(S.g=m+"."+S.g),xr(S,S.u);else{var P=d.location;S=P.protocol,m=m?m+"."+P.hostname:P.hostname,P=+P.port;const q=new Un(null);S&&rn(q,S),m&&(q.g=m),P&&xr(q,P),v&&(q.h=v),S=q}return v=u.G,m=u.wa,v&&m&&me(S,v,m),me(S,"VER",u.ka),zs(u,S),S}function bu(u,m,v){if(m&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Aa&&!u.ma?new ye(new Vi({ab:v})):new ye(u.ma),m.Fa(u.L),m}s.isActive=function(){return!!this.l&&this.l.isActive(this)};function wu(){}s=wu.prototype,s.ra=function(){},s.qa=function(){},s.pa=function(){},s.oa=function(){},s.isActive=function(){return!0},s.Ka=function(){};function Hr(){}Hr.prototype.g=function(u,m){return new En(u,m)};function En(u,m){Me.call(this),this.g=new jr(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(u?u["X-WebChannel-Client-Profile"]=m.sa:u={"X-WebChannel-Client-Profile":m.sa}),this.g.U=u,(u=m&&m.Qb)&&!C(u)&&(this.g.u=u),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!C(m)&&(this.g.G=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new or(this)}w(En,Me),En.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},En.prototype.close=function(){Fo(this.g)},En.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var v={};v.__data__=u,u=v}else this.v&&(v={},v.__data__=Yn(u),u=v);m.i.push(new He(m.Ya++,u)),m.I==3&&ki(m)},En.prototype.N=function(){this.g.l=null,delete this.j,Fo(this.g),delete this.g,En.Z.N.call(this)};function Ru(u){J.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){t:{for(const v in m){u=v;break t}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}w(Ru,J);function Cu(){tt.call(this),this.status=1}w(Cu,tt);function or(u){this.g=u}w(or,wu),or.prototype.ra=function(){ke(this.g,"a")},or.prototype.qa=function(u){ke(this.g,new Ru(u))},or.prototype.pa=function(u){ke(this.g,new Cu)},or.prototype.oa=function(){ke(this.g,"b")},Hr.prototype.createWebChannel=Hr.prototype.g,En.prototype.send=En.prototype.o,En.prototype.open=En.prototype.m,En.prototype.close=En.prototype.close,fT=function(){return new Hr},hT=function(){return wt()},cT=ft,em={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},te.NO_ERROR=0,te.TIMEOUT=8,te.HTTP_ERROR=6,Hc=te,oi.COMPLETE="complete",uT=oi,F.EventType=W,W.OPEN="a",W.CLOSE="b",W.ERROR="c",W.MESSAGE="d",Me.prototype.listen=Me.prototype.J,Vl=F,ye.prototype.listenOnce=ye.prototype.K,ye.prototype.getLastError=ye.prototype.Ha,ye.prototype.getLastErrorCode=ye.prototype.ya,ye.prototype.getStatus=ye.prototype.ca,ye.prototype.getResponseJson=ye.prototype.La,ye.prototype.getResponseText=ye.prototype.la,ye.prototype.send=ye.prototype.ea,ye.prototype.setWithCredentials=ye.prototype.Fa,lT=ye}).apply(typeof Mc<"u"?Mc:typeof self<"u"?self:typeof window<"u"?window:{});const f0="@firebase/firestore",d0="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _n{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}_n.UNAUTHENTICATED=new _n(null),_n.GOOGLE_CREDENTIALS=new _n("google-credentials-uid"),_n.FIRST_PARTY=new _n("first-party-uid"),_n.MOCK_USER=new _n("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let No="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fa=new _m("@firebase/firestore");function oo(){return fa.logLevel}function ht(s,...t){if(fa.logLevel<=Jt.DEBUG){const i=t.map(Om);fa.debug(`Firestore (${No}): ${s}`,...i)}}function Ir(s,...t){if(fa.logLevel<=Jt.ERROR){const i=t.map(Om);fa.error(`Firestore (${No}): ${s}`,...i)}}function vo(s,...t){if(fa.logLevel<=Jt.WARN){const i=t.map(Om);fa.warn(`Firestore (${No}): ${s}`,...i)}}function Om(s){if(typeof s=="string")return s;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(i){return JSON.stringify(i)})(s)}catch{return s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ct(s,t,i){let a="Unexpected state";typeof t=="string"?a=t:i=t,dT(s,a,i)}function dT(s,t,i){let a=`FIRESTORE (${No}) INTERNAL ASSERTION FAILED: ${t} (ID: ${s.toString(16)})`;if(i!==void 0)try{a+=" CONTEXT: "+JSON.stringify(i)}catch{a+=" CONTEXT: "+i}throw Ir(a),new Error(a)}function he(s,t,i,a){let l="Unexpected state";typeof i=="string"?l=i:a=i,s||dT(t,l,a)}function xt(s,t){return s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const et={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class _t extends Dr{constructor(t,i){super(t,i),this.code=t,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Es{constructor(){this.promise=new Promise(((t,i)=>{this.resolve=t,this.reject=i}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mT{constructor(t,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class g2{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,i){t.enqueueRetryable((()=>i(_n.UNAUTHENTICATED)))}shutdown(){}}class p2{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,i){this.changeListener=i,t.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class y2{constructor(t){this.t=t,this.currentUser=_n.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,i){he(this.o===void 0,42304);let a=this.i;const l=y=>this.i!==a?(a=this.i,i(y)):Promise.resolve();let c=new Es;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new Es,t.enqueueRetryable((()=>l(this.currentUser)))};const d=()=>{const y=c;t.enqueueRetryable((async()=>{await y.promise,await l(this.currentUser)}))},p=y=>{ht("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=y,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((y=>p(y))),setTimeout((()=>{if(!this.auth){const y=this.t.getImmediate({optional:!0});y?p(y):(ht("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new Es)}}),0),d()}getToken(){const t=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((a=>this.i!==t?(ht("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(he(typeof a.accessToken=="string",31837,{l:a}),new mT(a.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return he(t===null||typeof t=="string",2055,{h:t}),new _n(t)}}class _2{constructor(t,i,a){this.P=t,this.T=i,this.I=a,this.type="FirstParty",this.user=_n.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class v2{constructor(t,i,a){this.P=t,this.T=i,this.I=a}getToken(){return Promise.resolve(new _2(this.P,this.T,this.I))}start(t,i){t.enqueueRetryable((()=>i(_n.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class m0{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class T2{constructor(t,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Ei(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,i){he(this.o===void 0,3512);const a=c=>{c.error!=null&&ht("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const d=c.token!==this.m;return this.m=c.token,ht("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(c.token):Promise.resolve()};this.o=c=>{t.enqueueRetryable((()=>a(c)))};const l=c=>{ht("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>l(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?l(c):ht("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new m0(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((i=>i?(he(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new m0(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E2(s){const t=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(s);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(i);else for(let a=0;a<s;a++)i[a]=Math.floor(256*Math.random());return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mm{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let a="";for(;a.length<20;){const l=E2(40);for(let c=0;c<l.length;++c)a.length<20&&l[c]<i&&(a+=t.charAt(l[c]%62))}return a}}function $t(s,t){return s<t?-1:s>t?1:0}function nm(s,t){const i=Math.min(s.length,t.length);for(let a=0;a<i;a++){const l=s.charAt(a),c=t.charAt(a);if(l!==c)return jd(l)===jd(c)?$t(l,c):jd(l)?1:-1}return $t(s.length,t.length)}const S2=55296,A2=57343;function jd(s){const t=s.charCodeAt(0);return t>=S2&&t<=A2}function To(s,t,i){return s.length===t.length&&s.every(((a,l)=>i(a,t[l])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g0="__name__";class Gi{constructor(t,i,a){i===void 0?i=0:i>t.length&&Ct(637,{offset:i,range:t.length}),a===void 0?a=t.length-i:a>t.length-i&&Ct(1746,{length:a,range:t.length-i}),this.segments=t,this.offset=i,this.len=a}get length(){return this.len}isEqual(t){return Gi.comparator(this,t)===0}child(t){const i=this.segments.slice(this.offset,this.limit());return t instanceof Gi?t.forEach((a=>{i.push(a)})):i.push(t),this.construct(i)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}forEach(t){for(let i=this.offset,a=this.limit();i<a;i++)t(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,i){const a=Math.min(t.length,i.length);for(let l=0;l<a;l++){const c=Gi.compareSegments(t.get(l),i.get(l));if(c!==0)return c}return $t(t.length,i.length)}static compareSegments(t,i){const a=Gi.isNumericId(t),l=Gi.isNumericId(i);return a&&!l?-1:!a&&l?1:a&&l?Gi.extractNumericId(t).compare(Gi.extractNumericId(i)):nm(t,i)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return Ts.fromString(t.substring(4,t.length-2))}}class Re extends Gi{construct(t,i,a){return new Re(t,i,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const i=[];for(const a of t){if(a.indexOf("//")>=0)throw new _t(et.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);i.push(...a.split("/").filter((l=>l.length>0)))}return new Re(i)}static emptyPath(){return new Re([])}}const b2=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class mn extends Gi{construct(t,i,a){return new mn(t,i,a)}static isValidIdentifier(t){return b2.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),mn.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===g0}static keyField(){return new mn([g0])}static fromServerFormat(t){const i=[];let a="",l=0;const c=()=>{if(a.length===0)throw new _t(et.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(a),a=""};let d=!1;for(;l<t.length;){const p=t[l];if(p==="\\"){if(l+1===t.length)throw new _t(et.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const y=t[l+1];if(y!=="\\"&&y!=="."&&y!=="`")throw new _t(et.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);a+=y,l+=2}else p==="`"?(d=!d,l++):p!=="."||d?(a+=p,l++):(c(),l++)}if(c(),d)throw new _t(et.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new mn(i)}static emptyPath(){return new mn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class At{constructor(t){this.path=t}static fromPath(t){return new At(Re.fromString(t))}static fromName(t){return new At(Re.fromString(t).popFirst(5))}static empty(){return new At(Re.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&Re.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,i){return Re.comparator(t.path,i.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new At(new Re(t.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gT(s,t,i){if(!i)throw new _t(et.INVALID_ARGUMENT,`Function ${s}() cannot be called with an empty ${t}.`)}function w2(s,t,i,a){if(t===!0&&a===!0)throw new _t(et.INVALID_ARGUMENT,`${s} and ${i} cannot be used together.`)}function p0(s){if(!At.isDocumentKey(s))throw new _t(et.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${s} has ${s.length}.`)}function y0(s){if(At.isDocumentKey(s))throw new _t(et.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${s} has ${s.length}.`)}function pT(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}function Vm(s){if(s===void 0)return"undefined";if(s===null)return"null";if(typeof s=="string")return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if(typeof s=="number"||typeof s=="boolean")return""+s;if(typeof s=="object"){if(s instanceof Array)return"an array";{const t=(function(a){return a.constructor?a.constructor.name:null})(s);return t?`a custom ${t} object`:"an object"}}return typeof s=="function"?"a function":Ct(12329,{type:typeof s})}function Ql(s,t){if("_delegate"in s&&(s=s._delegate),!(s instanceof t)){if(t.name===s.constructor.name)throw new _t(et.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=Vm(s);throw new _t(et.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${i}`)}}return s}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Je(s,t){const i={typeString:s};return t&&(i.value=t),i}function su(s,t){if(!pT(s))throw new _t(et.INVALID_ARGUMENT,"JSON must be an object");let i;for(const a in t)if(t[a]){const l=t[a].typeString,c="value"in t[a]?{value:t[a].value}:void 0;if(!(a in s)){i=`JSON missing required field: '${a}'`;break}const d=s[a];if(l&&typeof d!==l){i=`JSON field '${a}' must be a ${l}.`;break}if(c!==void 0&&d!==c.value){i=`Expected '${a}' field to equal '${c.value}'`;break}}if(i)throw new _t(et.INVALID_ARGUMENT,i);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _0=-62135596800,v0=1e6;class Ce{static now(){return Ce.fromMillis(Date.now())}static fromDate(t){return Ce.fromMillis(t.getTime())}static fromMillis(t){const i=Math.floor(t/1e3),a=Math.floor((t-1e3*i)*v0);return new Ce(i,a)}constructor(t,i){if(this.seconds=t,this.nanoseconds=i,i<0)throw new _t(et.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new _t(et.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(t<_0)throw new _t(et.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new _t(et.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/v0}_compareTo(t){return this.seconds===t.seconds?$t(this.nanoseconds,t.nanoseconds):$t(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Ce._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(su(t,Ce._jsonSchema))return new Ce(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-_0;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Ce._jsonSchemaVersion="firestore/timestamp/1.0",Ce._jsonSchema={type:Je("string",Ce._jsonSchemaVersion),seconds:Je("number"),nanoseconds:Je("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vt{static fromTimestamp(t){return new Vt(t)}static min(){return new Vt(new Ce(0,0))}static max(){return new Vt(new Ce(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kl=-1;function R2(s,t){const i=s.toTimestamp().seconds,a=s.toTimestamp().nanoseconds+1,l=Vt.fromTimestamp(a===1e9?new Ce(i+1,0):new Ce(i,a));return new As(l,At.empty(),t)}function C2(s){return new As(s.readTime,s.key,Kl)}class As{constructor(t,i,a){this.readTime=t,this.documentKey=i,this.largestBatchId=a}static min(){return new As(Vt.min(),At.empty(),Kl)}static max(){return new As(Vt.max(),At.empty(),Kl)}}function I2(s,t){let i=s.readTime.compareTo(t.readTime);return i!==0?i:(i=At.comparator(s.documentKey,t.documentKey),i!==0?i:$t(s.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N2="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class D2{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Do(s){if(s.code!==et.FAILED_PRECONDITION||s.message!==N2)throw s;ht("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ${constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(t){return this.next(void 0,t)}next(t,i){return this.callbackAttached&&Ct(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(t,this.result):new $(((a,l)=>{this.nextCallback=c=>{this.wrapSuccess(t,c).next(a,l)},this.catchCallback=c=>{this.wrapFailure(i,c).next(a,l)}}))}toPromise(){return new Promise(((t,i)=>{this.next(t,i)}))}wrapUserFunction(t){try{const i=t();return i instanceof $?i:$.resolve(i)}catch(i){return $.reject(i)}}wrapSuccess(t,i){return t?this.wrapUserFunction((()=>t(i))):$.resolve(i)}wrapFailure(t,i){return t?this.wrapUserFunction((()=>t(i))):$.reject(i)}static resolve(t){return new $(((i,a)=>{i(t)}))}static reject(t){return new $(((i,a)=>{a(t)}))}static waitFor(t){return new $(((i,a)=>{let l=0,c=0,d=!1;t.forEach((p=>{++l,p.next((()=>{++c,d&&c===l&&i()}),(y=>a(y)))})),d=!0,c===l&&i()}))}static or(t){let i=$.resolve(!1);for(const a of t)i=i.next((l=>l?$.resolve(l):a()));return i}static forEach(t,i){const a=[];return t.forEach(((l,c)=>{a.push(i.call(this,l,c))})),this.waitFor(a)}static mapArray(t,i){return new $(((a,l)=>{const c=t.length,d=new Array(c);let p=0;for(let y=0;y<c;y++){const _=y;i(t[_]).next((A=>{d[_]=A,++p,p===c&&a(d)}),(A=>l(A)))}}))}static doWhile(t,i){return new $(((a,l)=>{const c=()=>{t()===!0?i().next((()=>{c()}),l):a()};c()}))}}function O2(s){const t=s.match(/Android ([\d.]+)/i),i=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function Oo(s){return s.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vh{constructor(t,i){this.previousValue=t,i&&(i.sequenceNumberHandler=a=>this.ae(a),this.ue=a=>i.writeSequenceNumber(a))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}vh.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lm=-1;function Th(s){return s==null}function ih(s){return s===0&&1/s==-1/0}function M2(s){return typeof s=="number"&&Number.isInteger(s)&&!ih(s)&&s<=Number.MAX_SAFE_INTEGER&&s>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yT="";function V2(s){let t="";for(let i=0;i<s.length;i++)t.length>0&&(t=T0(t)),t=L2(s.get(i),t);return T0(t)}function L2(s,t){let i=t;const a=s.length;for(let l=0;l<a;l++){const c=s.charAt(l);switch(c){case"\0":i+="";break;case yT:i+="";break;default:i+=c}}return i}function T0(s){return s+yT+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E0(s){let t=0;for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&t++;return t}function ma(s,t){for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&t(i,s[i])}function _T(s){for(const t in s)if(Object.prototype.hasOwnProperty.call(s,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oe{constructor(t,i){this.comparator=t,this.root=i||dn.EMPTY}insert(t,i){return new Oe(this.comparator,this.root.insert(t,i,this.comparator).copy(null,null,dn.BLACK,null,null))}remove(t){return new Oe(this.comparator,this.root.remove(t,this.comparator).copy(null,null,dn.BLACK,null,null))}get(t){let i=this.root;for(;!i.isEmpty();){const a=this.comparator(t,i.key);if(a===0)return i.value;a<0?i=i.left:a>0&&(i=i.right)}return null}indexOf(t){let i=0,a=this.root;for(;!a.isEmpty();){const l=this.comparator(t,a.key);if(l===0)return i+a.left.size;l<0?a=a.left:(i+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((i,a)=>(t(i,a),!1)))}toString(){const t=[];return this.inorderTraversal(((i,a)=>(t.push(`${i}:${a}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Vc(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Vc(this.root,t,this.comparator,!1)}getReverseIterator(){return new Vc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Vc(this.root,t,this.comparator,!0)}}class Vc{constructor(t,i,a,l){this.isReverse=l,this.nodeStack=[];let c=1;for(;!t.isEmpty();)if(c=i?a(t.key,i):1,i&&l&&(c*=-1),c<0)t=this.isReverse?t.left:t.right;else{if(c===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const i={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class dn{constructor(t,i,a,l,c){this.key=t,this.value=i,this.color=a??dn.RED,this.left=l??dn.EMPTY,this.right=c??dn.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,i,a,l,c){return new dn(t??this.key,i??this.value,a??this.color,l??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,i,a){let l=this;const c=a(t,l.key);return l=c<0?l.copy(null,null,null,l.left.insert(t,i,a),null):c===0?l.copy(null,i,null,null,null):l.copy(null,null,null,null,l.right.insert(t,i,a)),l.fixUp()}removeMin(){if(this.left.isEmpty())return dn.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,i){let a,l=this;if(i(t,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(t,i),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),i(t,l.key)===0){if(l.right.isEmpty())return dn.EMPTY;a=l.right.min(),l=l.copy(a.key,a.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(t,i))}return l.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,dn.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,dn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,i)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ct(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ct(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw Ct(27949);return t+(this.isRed()?0:1)}}dn.EMPTY=null,dn.RED=!0,dn.BLACK=!1;dn.EMPTY=new class{constructor(){this.size=0}get key(){throw Ct(57766)}get value(){throw Ct(16141)}get color(){throw Ct(16727)}get left(){throw Ct(29726)}get right(){throw Ct(36894)}copy(t,i,a,l,c){return this}insert(t,i,a){return new dn(t,i)}remove(t,i){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class en{constructor(t){this.comparator=t,this.data=new Oe(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((i,a)=>(t(i),!1)))}forEachInRange(t,i){const a=this.data.getIteratorFrom(t[0]);for(;a.hasNext();){const l=a.getNext();if(this.comparator(l.key,t[1])>=0)return;i(l.key)}}forEachWhile(t,i){let a;for(a=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();a.hasNext();)if(!t(a.getNext().key))return}firstAfterOrEqual(t){const i=this.data.getIteratorFrom(t);return i.hasNext()?i.getNext().key:null}getIterator(){return new S0(this.data.getIterator())}getIteratorFrom(t){return new S0(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let i=this;return i.size<t.size&&(i=t,t=this),t.forEach((a=>{i=i.add(a)})),i}isEqual(t){if(!(t instanceof en)||this.size!==t.size)return!1;const i=this.data.getIterator(),a=t.data.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=a.getNext().key;if(this.comparator(l,c)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((i=>{t.push(i)})),t}toString(){const t=[];return this.forEach((i=>t.push(i))),"SortedSet("+t.toString()+")"}copy(t){const i=new en(this.comparator);return i.data=t,i}}class S0{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ai{constructor(t){this.fields=t,t.sort(mn.comparator)}static empty(){return new Ai([])}unionWith(t){let i=new en(mn.comparator);for(const a of this.fields)i=i.add(a);for(const a of t)i=i.add(a);return new Ai(i.toArray())}covers(t){for(const i of this.fields)if(i.isPrefixOf(t))return!0;return!1}isEqual(t){return To(this.fields,t.fields,((i,a)=>i.isEqual(a)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vT extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gn{constructor(t){this.binaryString=t}static fromBase64String(t){const i=(function(l){try{return atob(l)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new vT("Invalid base64 string: "+c):c}})(t);return new gn(i)}static fromUint8Array(t){const i=(function(l){let c="";for(let d=0;d<l.length;++d)c+=String.fromCharCode(l[d]);return c})(t);return new gn(i)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const a=new Uint8Array(i.length);for(let l=0;l<i.length;l++)a[l]=i.charCodeAt(l);return a})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return $t(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}gn.EMPTY_BYTE_STRING=new gn("");const x2=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function bs(s){if(he(!!s,39018),typeof s=="string"){let t=0;const i=x2.exec(s);if(he(!!i,46558,{timestamp:s}),i[1]){let l=i[1];l=(l+"000000000").substr(0,9),t=Number(l)}const a=new Date(s);return{seconds:Math.floor(a.getTime()/1e3),nanos:t}}return{seconds:je(s.seconds),nanos:je(s.nanos)}}function je(s){return typeof s=="number"?s:typeof s=="string"?Number(s):0}function ws(s){return typeof s=="string"?gn.fromBase64String(s):gn.fromUint8Array(s)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TT="server_timestamp",ET="__type__",ST="__previous_value__",AT="__local_write_time__";function xm(s){var i,a;return((a=(((i=s==null?void 0:s.mapValue)==null?void 0:i.fields)||{})[ET])==null?void 0:a.stringValue)===TT}function Eh(s){const t=s.mapValue.fields[ST];return xm(t)?Eh(t):t}function Xl(s){const t=bs(s.mapValue.fields[AT].timestampValue);return new Ce(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k2{constructor(t,i,a,l,c,d,p,y,_,A){this.databaseId=t,this.appId=i,this.persistenceKey=a,this.host=l,this.ssl=c,this.forceLongPolling=d,this.autoDetectLongPolling=p,this.longPollingOptions=y,this.useFetchStreams=_,this.isUsingEmulator=A}}const rh="(default)";class Zl{constructor(t,i){this.projectId=t,this.database=i||rh}static empty(){return new Zl("","")}get isDefaultDatabase(){return this.database===rh}isEqual(t){return t instanceof Zl&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bT="__type__",U2="__max__",Lc={mapValue:{}},wT="__vector__",sh="value";function Rs(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?xm(s)?4:z2(s)?9007199254740991:P2(s)?10:11:Ct(28295,{value:s})}function $i(s,t){if(s===t)return!0;const i=Rs(s);if(i!==Rs(t))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return s.booleanValue===t.booleanValue;case 4:return Xl(s).isEqual(Xl(t));case 3:return(function(l,c){if(typeof l.timestampValue=="string"&&typeof c.timestampValue=="string"&&l.timestampValue.length===c.timestampValue.length)return l.timestampValue===c.timestampValue;const d=bs(l.timestampValue),p=bs(c.timestampValue);return d.seconds===p.seconds&&d.nanos===p.nanos})(s,t);case 5:return s.stringValue===t.stringValue;case 6:return(function(l,c){return ws(l.bytesValue).isEqual(ws(c.bytesValue))})(s,t);case 7:return s.referenceValue===t.referenceValue;case 8:return(function(l,c){return je(l.geoPointValue.latitude)===je(c.geoPointValue.latitude)&&je(l.geoPointValue.longitude)===je(c.geoPointValue.longitude)})(s,t);case 2:return(function(l,c){if("integerValue"in l&&"integerValue"in c)return je(l.integerValue)===je(c.integerValue);if("doubleValue"in l&&"doubleValue"in c){const d=je(l.doubleValue),p=je(c.doubleValue);return d===p?ih(d)===ih(p):isNaN(d)&&isNaN(p)}return!1})(s,t);case 9:return To(s.arrayValue.values||[],t.arrayValue.values||[],$i);case 10:case 11:return(function(l,c){const d=l.mapValue.fields||{},p=c.mapValue.fields||{};if(E0(d)!==E0(p))return!1;for(const y in d)if(d.hasOwnProperty(y)&&(p[y]===void 0||!$i(d[y],p[y])))return!1;return!0})(s,t);default:return Ct(52216,{left:s})}}function Jl(s,t){return(s.values||[]).find((i=>$i(i,t)))!==void 0}function Eo(s,t){if(s===t)return 0;const i=Rs(s),a=Rs(t);if(i!==a)return $t(i,a);switch(i){case 0:case 9007199254740991:return 0;case 1:return $t(s.booleanValue,t.booleanValue);case 2:return(function(c,d){const p=je(c.integerValue||c.doubleValue),y=je(d.integerValue||d.doubleValue);return p<y?-1:p>y?1:p===y?0:isNaN(p)?isNaN(y)?0:-1:1})(s,t);case 3:return A0(s.timestampValue,t.timestampValue);case 4:return A0(Xl(s),Xl(t));case 5:return nm(s.stringValue,t.stringValue);case 6:return(function(c,d){const p=ws(c),y=ws(d);return p.compareTo(y)})(s.bytesValue,t.bytesValue);case 7:return(function(c,d){const p=c.split("/"),y=d.split("/");for(let _=0;_<p.length&&_<y.length;_++){const A=$t(p[_],y[_]);if(A!==0)return A}return $t(p.length,y.length)})(s.referenceValue,t.referenceValue);case 8:return(function(c,d){const p=$t(je(c.latitude),je(d.latitude));return p!==0?p:$t(je(c.longitude),je(d.longitude))})(s.geoPointValue,t.geoPointValue);case 9:return b0(s.arrayValue,t.arrayValue);case 10:return(function(c,d){var x,G,rt,st;const p=c.fields||{},y=d.fields||{},_=(x=p[sh])==null?void 0:x.arrayValue,A=(G=y[sh])==null?void 0:G.arrayValue,w=$t(((rt=_==null?void 0:_.values)==null?void 0:rt.length)||0,((st=A==null?void 0:A.values)==null?void 0:st.length)||0);return w!==0?w:b0(_,A)})(s.mapValue,t.mapValue);case 11:return(function(c,d){if(c===Lc.mapValue&&d===Lc.mapValue)return 0;if(c===Lc.mapValue)return 1;if(d===Lc.mapValue)return-1;const p=c.fields||{},y=Object.keys(p),_=d.fields||{},A=Object.keys(_);y.sort(),A.sort();for(let w=0;w<y.length&&w<A.length;++w){const x=nm(y[w],A[w]);if(x!==0)return x;const G=Eo(p[y[w]],_[A[w]]);if(G!==0)return G}return $t(y.length,A.length)})(s.mapValue,t.mapValue);default:throw Ct(23264,{he:i})}}function A0(s,t){if(typeof s=="string"&&typeof t=="string"&&s.length===t.length)return $t(s,t);const i=bs(s),a=bs(t),l=$t(i.seconds,a.seconds);return l!==0?l:$t(i.nanos,a.nanos)}function b0(s,t){const i=s.values||[],a=t.values||[];for(let l=0;l<i.length&&l<a.length;++l){const c=Eo(i[l],a[l]);if(c)return c}return $t(i.length,a.length)}function So(s){return im(s)}function im(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?(function(i){const a=bs(i);return`time(${a.seconds},${a.nanos})`})(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?(function(i){return ws(i).toBase64()})(s.bytesValue):"referenceValue"in s?(function(i){return At.fromName(i).toString()})(s.referenceValue):"geoPointValue"in s?(function(i){return`geo(${i.latitude},${i.longitude})`})(s.geoPointValue):"arrayValue"in s?(function(i){let a="[",l=!0;for(const c of i.values||[])l?l=!1:a+=",",a+=im(c);return a+"]"})(s.arrayValue):"mapValue"in s?(function(i){const a=Object.keys(i.fields||{}).sort();let l="{",c=!0;for(const d of a)c?c=!1:l+=",",l+=`${d}:${im(i.fields[d])}`;return l+"}"})(s.mapValue):Ct(61005,{value:s})}function Gc(s){switch(Rs(s)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=Eh(s);return t?16+Gc(t):16;case 5:return 2*s.stringValue.length;case 6:return ws(s.bytesValue).approximateByteSize();case 7:return s.referenceValue.length;case 9:return(function(a){return(a.values||[]).reduce(((l,c)=>l+Gc(c)),0)})(s.arrayValue);case 10:case 11:return(function(a){let l=0;return ma(a.fields,((c,d)=>{l+=c.length+Gc(d)})),l})(s.mapValue);default:throw Ct(13486,{value:s})}}function rm(s){return!!s&&"integerValue"in s}function km(s){return!!s&&"arrayValue"in s}function w0(s){return!!s&&"nullValue"in s}function R0(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function Fc(s){return!!s&&"mapValue"in s}function P2(s){var i,a;return((a=(((i=s==null?void 0:s.mapValue)==null?void 0:i.fields)||{})[bT])==null?void 0:a.stringValue)===wT}function zl(s){if(s.geoPointValue)return{geoPointValue:{...s.geoPointValue}};if(s.timestampValue&&typeof s.timestampValue=="object")return{timestampValue:{...s.timestampValue}};if(s.mapValue){const t={mapValue:{fields:{}}};return ma(s.mapValue.fields,((i,a)=>t.mapValue.fields[i]=zl(a))),t}if(s.arrayValue){const t={arrayValue:{values:[]}};for(let i=0;i<(s.arrayValue.values||[]).length;++i)t.arrayValue.values[i]=zl(s.arrayValue.values[i]);return t}return{...s}}function z2(s){return(((s.mapValue||{}).fields||{}).__type__||{}).stringValue===U2}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class si{constructor(t){this.value=t}static empty(){return new si({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let i=this.value;for(let a=0;a<t.length-1;++a)if(i=(i.mapValue.fields||{})[t.get(a)],!Fc(i))return null;return i=(i.mapValue.fields||{})[t.lastSegment()],i||null}}set(t,i){this.getFieldsMap(t.popLast())[t.lastSegment()]=zl(i)}setAll(t){let i=mn.emptyPath(),a={},l=[];t.forEach(((d,p)=>{if(!i.isImmediateParentOf(p)){const y=this.getFieldsMap(i);this.applyChanges(y,a,l),a={},l=[],i=p.popLast()}d?a[p.lastSegment()]=zl(d):l.push(p.lastSegment())}));const c=this.getFieldsMap(i);this.applyChanges(c,a,l)}delete(t){const i=this.field(t.popLast());Fc(i)&&i.mapValue.fields&&delete i.mapValue.fields[t.lastSegment()]}isEqual(t){return $i(this.value,t.value)}getFieldsMap(t){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let a=0;a<t.length;++a){let l=i.mapValue.fields[t.get(a)];Fc(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},i.mapValue.fields[t.get(a)]=l),i=l}return i.mapValue.fields}applyChanges(t,i,a){ma(i,((l,c)=>t[l]=c));for(const l of a)delete t[l]}clone(){return new si(zl(this.value))}}function RT(s){const t=[];return ma(s.fields,((i,a)=>{const l=new mn([i]);if(Fc(a)){const c=RT(a.mapValue).fields;if(c.length===0)t.push(l);else for(const d of c)t.push(l.child(d))}else t.push(l)})),new Ai(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vn{constructor(t,i,a,l,c,d,p){this.key=t,this.documentType=i,this.version=a,this.readTime=l,this.createTime=c,this.data=d,this.documentState=p}static newInvalidDocument(t){return new vn(t,0,Vt.min(),Vt.min(),Vt.min(),si.empty(),0)}static newFoundDocument(t,i,a,l){return new vn(t,1,i,Vt.min(),a,l,0)}static newNoDocument(t,i){return new vn(t,2,i,Vt.min(),Vt.min(),si.empty(),0)}static newUnknownDocument(t,i){return new vn(t,3,i,Vt.min(),Vt.min(),si.empty(),2)}convertToFoundDocument(t,i){return!this.createTime.isEqual(Vt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=si.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=si.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Vt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof vn&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new vn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ah{constructor(t,i){this.position=t,this.inclusive=i}}function C0(s,t,i){let a=0;for(let l=0;l<s.position.length;l++){const c=t[l],d=s.position[l];if(c.field.isKeyField()?a=At.comparator(At.fromName(d.referenceValue),i.key):a=Eo(d,i.data.field(c.field)),c.dir==="desc"&&(a*=-1),a!==0)break}return a}function I0(s,t){if(s===null)return t===null;if(t===null||s.inclusive!==t.inclusive||s.position.length!==t.position.length)return!1;for(let i=0;i<s.position.length;i++)if(!$i(s.position[i],t.position[i]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oh{constructor(t,i="asc"){this.field=t,this.dir=i}}function B2(s,t){return s.dir===t.dir&&s.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CT{}class We extends CT{constructor(t,i,a){super(),this.field=t,this.op=i,this.value=a}static create(t,i,a){return t.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(t,i,a):new q2(t,i,a):i==="array-contains"?new F2(t,a):i==="in"?new Y2(t,a):i==="not-in"?new Q2(t,a):i==="array-contains-any"?new K2(t,a):new We(t,i,a)}static createKeyFieldInFilter(t,i,a){return i==="in"?new H2(t,a):new G2(t,a)}matches(t){const i=t.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(Eo(i,this.value)):i!==null&&Rs(this.value)===Rs(i)&&this.matchesComparison(Eo(i,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return Ct(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Wi extends CT{constructor(t,i){super(),this.filters=t,this.op=i,this.Pe=null}static create(t,i){return new Wi(t,i)}matches(t){return IT(this)?this.filters.find((i=>!i.matches(t)))===void 0:this.filters.find((i=>i.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,i)=>t.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function IT(s){return s.op==="and"}function NT(s){return j2(s)&&IT(s)}function j2(s){for(const t of s.filters)if(t instanceof Wi)return!1;return!0}function sm(s){if(s instanceof We)return s.field.canonicalString()+s.op.toString()+So(s.value);if(NT(s))return s.filters.map((t=>sm(t))).join(",");{const t=s.filters.map((i=>sm(i))).join(",");return`${s.op}(${t})`}}function DT(s,t){return s instanceof We?(function(a,l){return l instanceof We&&a.op===l.op&&a.field.isEqual(l.field)&&$i(a.value,l.value)})(s,t):s instanceof Wi?(function(a,l){return l instanceof Wi&&a.op===l.op&&a.filters.length===l.filters.length?a.filters.reduce(((c,d,p)=>c&&DT(d,l.filters[p])),!0):!1})(s,t):void Ct(19439)}function OT(s){return s instanceof We?(function(i){return`${i.field.canonicalString()} ${i.op} ${So(i.value)}`})(s):s instanceof Wi?(function(i){return i.op.toString()+" {"+i.getFilters().map(OT).join(" ,")+"}"})(s):"Filter"}class q2 extends We{constructor(t,i,a){super(t,i,a),this.key=At.fromName(a.referenceValue)}matches(t){const i=At.comparator(t.key,this.key);return this.matchesComparison(i)}}class H2 extends We{constructor(t,i){super(t,"in",i),this.keys=MT("in",i)}matches(t){return this.keys.some((i=>i.isEqual(t.key)))}}class G2 extends We{constructor(t,i){super(t,"not-in",i),this.keys=MT("not-in",i)}matches(t){return!this.keys.some((i=>i.isEqual(t.key)))}}function MT(s,t){var i;return(((i=t.arrayValue)==null?void 0:i.values)||[]).map((a=>At.fromName(a.referenceValue)))}class F2 extends We{constructor(t,i){super(t,"array-contains",i)}matches(t){const i=t.data.field(this.field);return km(i)&&Jl(i.arrayValue,this.value)}}class Y2 extends We{constructor(t,i){super(t,"in",i)}matches(t){const i=t.data.field(this.field);return i!==null&&Jl(this.value.arrayValue,i)}}class Q2 extends We{constructor(t,i){super(t,"not-in",i)}matches(t){if(Jl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=t.data.field(this.field);return i!==null&&i.nullValue===void 0&&!Jl(this.value.arrayValue,i)}}class K2 extends We{constructor(t,i){super(t,"array-contains-any",i)}matches(t){const i=t.data.field(this.field);return!(!km(i)||!i.arrayValue.values)&&i.arrayValue.values.some((a=>Jl(this.value.arrayValue,a)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X2{constructor(t,i=null,a=[],l=[],c=null,d=null,p=null){this.path=t,this.collectionGroup=i,this.orderBy=a,this.filters=l,this.limit=c,this.startAt=d,this.endAt=p,this.Te=null}}function N0(s,t=null,i=[],a=[],l=null,c=null,d=null){return new X2(s,t,i,a,l,c,d)}function Um(s){const t=xt(s);if(t.Te===null){let i=t.path.canonicalString();t.collectionGroup!==null&&(i+="|cg:"+t.collectionGroup),i+="|f:",i+=t.filters.map((a=>sm(a))).join(","),i+="|ob:",i+=t.orderBy.map((a=>(function(c){return c.field.canonicalString()+c.dir})(a))).join(","),Th(t.limit)||(i+="|l:",i+=t.limit),t.startAt&&(i+="|lb:",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map((a=>So(a))).join(",")),t.endAt&&(i+="|ub:",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map((a=>So(a))).join(",")),t.Te=i}return t.Te}function Pm(s,t){if(s.limit!==t.limit||s.orderBy.length!==t.orderBy.length)return!1;for(let i=0;i<s.orderBy.length;i++)if(!B2(s.orderBy[i],t.orderBy[i]))return!1;if(s.filters.length!==t.filters.length)return!1;for(let i=0;i<s.filters.length;i++)if(!DT(s.filters[i],t.filters[i]))return!1;return s.collectionGroup===t.collectionGroup&&!!s.path.isEqual(t.path)&&!!I0(s.startAt,t.startAt)&&I0(s.endAt,t.endAt)}function am(s){return At.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sh{constructor(t,i=null,a=[],l=[],c=null,d="F",p=null,y=null){this.path=t,this.collectionGroup=i,this.explicitOrderBy=a,this.filters=l,this.limit=c,this.limitType=d,this.startAt=p,this.endAt=y,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function Z2(s,t,i,a,l,c,d,p){return new Sh(s,t,i,a,l,c,d,p)}function zm(s){return new Sh(s)}function D0(s){return s.filters.length===0&&s.limit===null&&s.startAt==null&&s.endAt==null&&(s.explicitOrderBy.length===0||s.explicitOrderBy.length===1&&s.explicitOrderBy[0].field.isKeyField())}function J2(s){return s.collectionGroup!==null}function Bl(s){const t=xt(s);if(t.Ie===null){t.Ie=[];const i=new Set;for(const c of t.explicitOrderBy)t.Ie.push(c),i.add(c.field.canonicalString());const a=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(d){let p=new en(mn.comparator);return d.filters.forEach((y=>{y.getFlattenedFilters().forEach((_=>{_.isInequality()&&(p=p.add(_.field))}))})),p})(t).forEach((c=>{i.has(c.canonicalString())||c.isKeyField()||t.Ie.push(new oh(c,a))})),i.has(mn.keyField().canonicalString())||t.Ie.push(new oh(mn.keyField(),a))}return t.Ie}function Qi(s){const t=xt(s);return t.Ee||(t.Ee=$2(t,Bl(s))),t.Ee}function $2(s,t){if(s.limitType==="F")return N0(s.path,s.collectionGroup,t,s.filters,s.limit,s.startAt,s.endAt);{t=t.map((l=>{const c=l.dir==="desc"?"asc":"desc";return new oh(l.field,c)}));const i=s.endAt?new ah(s.endAt.position,s.endAt.inclusive):null,a=s.startAt?new ah(s.startAt.position,s.startAt.inclusive):null;return N0(s.path,s.collectionGroup,t,s.filters,s.limit,i,a)}}function om(s,t,i){return new Sh(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),t,i,s.startAt,s.endAt)}function Ah(s,t){return Pm(Qi(s),Qi(t))&&s.limitType===t.limitType}function VT(s){return`${Um(Qi(s))}|lt:${s.limitType}`}function lo(s){return`Query(target=${(function(i){let a=i.path.canonicalString();return i.collectionGroup!==null&&(a+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(a+=`, filters: [${i.filters.map((l=>OT(l))).join(", ")}]`),Th(i.limit)||(a+=", limit: "+i.limit),i.orderBy.length>0&&(a+=`, orderBy: [${i.orderBy.map((l=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(l))).join(", ")}]`),i.startAt&&(a+=", startAt: ",a+=i.startAt.inclusive?"b:":"a:",a+=i.startAt.position.map((l=>So(l))).join(",")),i.endAt&&(a+=", endAt: ",a+=i.endAt.inclusive?"a:":"b:",a+=i.endAt.position.map((l=>So(l))).join(",")),`Target(${a})`})(Qi(s))}; limitType=${s.limitType})`}function bh(s,t){return t.isFoundDocument()&&(function(a,l){const c=l.key.path;return a.collectionGroup!==null?l.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(c):At.isDocumentKey(a.path)?a.path.isEqual(c):a.path.isImmediateParentOf(c)})(s,t)&&(function(a,l){for(const c of Bl(a))if(!c.field.isKeyField()&&l.data.field(c.field)===null)return!1;return!0})(s,t)&&(function(a,l){for(const c of a.filters)if(!c.matches(l))return!1;return!0})(s,t)&&(function(a,l){return!(a.startAt&&!(function(d,p,y){const _=C0(d,p,y);return d.inclusive?_<=0:_<0})(a.startAt,Bl(a),l)||a.endAt&&!(function(d,p,y){const _=C0(d,p,y);return d.inclusive?_>=0:_>0})(a.endAt,Bl(a),l))})(s,t)}function W2(s){return s.collectionGroup||(s.path.length%2==1?s.path.lastSegment():s.path.get(s.path.length-2))}function LT(s){return(t,i)=>{let a=!1;for(const l of Bl(s)){const c=tR(l,t,i);if(c!==0)return c;a=a||l.field.isKeyField()}return 0}}function tR(s,t,i){const a=s.field.isKeyField()?At.comparator(t.key,i.key):(function(c,d,p){const y=d.data.field(c),_=p.data.field(c);return y!==null&&_!==null?Eo(y,_):Ct(42886)})(s.field,t,i);switch(s.dir){case"asc":return a;case"desc":return-1*a;default:return Ct(19790,{direction:s.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ga{constructor(t,i){this.mapKeyFn=t,this.equalsFn=i,this.inner={},this.innerSize=0}get(t){const i=this.mapKeyFn(t),a=this.inner[i];if(a!==void 0){for(const[l,c]of a)if(this.equalsFn(l,t))return c}}has(t){return this.get(t)!==void 0}set(t,i){const a=this.mapKeyFn(t),l=this.inner[a];if(l===void 0)return this.inner[a]=[[t,i]],void this.innerSize++;for(let c=0;c<l.length;c++)if(this.equalsFn(l[c][0],t))return void(l[c]=[t,i]);l.push([t,i]),this.innerSize++}delete(t){const i=this.mapKeyFn(t),a=this.inner[i];if(a===void 0)return!1;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],t))return a.length===1?delete this.inner[i]:a.splice(l,1),this.innerSize--,!0;return!1}forEach(t){ma(this.inner,((i,a)=>{for(const[l,c]of a)t(l,c)}))}isEmpty(){return _T(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eR=new Oe(At.comparator);function Nr(){return eR}const xT=new Oe(At.comparator);function Ll(...s){let t=xT;for(const i of s)t=t.insert(i.key,i);return t}function kT(s){let t=xT;return s.forEach(((i,a)=>t=t.insert(i,a.overlayedDocument))),t}function aa(){return jl()}function UT(){return jl()}function jl(){return new ga((s=>s.toString()),((s,t)=>s.isEqual(t)))}const nR=new Oe(At.comparator),iR=new en(At.comparator);function Wt(...s){let t=iR;for(const i of s)t=t.add(i);return t}const rR=new en($t);function sR(){return rR}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bm(s,t){if(s.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ih(t)?"-0":t}}function PT(s){return{integerValue:""+s}}function aR(s,t){return M2(t)?PT(t):Bm(s,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wh{constructor(){this._=void 0}}function oR(s,t,i){return s instanceof lh?(function(l,c){const d={fields:{[ET]:{stringValue:TT},[AT]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return c&&xm(c)&&(c=Eh(c)),c&&(d.fields[ST]=c),{mapValue:d}})(i,t):s instanceof $l?BT(s,t):s instanceof Wl?jT(s,t):(function(l,c){const d=zT(l,c),p=O0(d)+O0(l.Ae);return rm(d)&&rm(l.Ae)?PT(p):Bm(l.serializer,p)})(s,t)}function lR(s,t,i){return s instanceof $l?BT(s,t):s instanceof Wl?jT(s,t):i}function zT(s,t){return s instanceof uh?(function(a){return rm(a)||(function(c){return!!c&&"doubleValue"in c})(a)})(t)?t:{integerValue:0}:null}class lh extends wh{}class $l extends wh{constructor(t){super(),this.elements=t}}function BT(s,t){const i=qT(t);for(const a of s.elements)i.some((l=>$i(l,a)))||i.push(a);return{arrayValue:{values:i}}}class Wl extends wh{constructor(t){super(),this.elements=t}}function jT(s,t){let i=qT(t);for(const a of s.elements)i=i.filter((l=>!$i(l,a)));return{arrayValue:{values:i}}}class uh extends wh{constructor(t,i){super(),this.serializer=t,this.Ae=i}}function O0(s){return je(s.integerValue||s.doubleValue)}function qT(s){return km(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}function uR(s,t){return s.field.isEqual(t.field)&&(function(a,l){return a instanceof $l&&l instanceof $l||a instanceof Wl&&l instanceof Wl?To(a.elements,l.elements,$i):a instanceof uh&&l instanceof uh?$i(a.Ae,l.Ae):a instanceof lh&&l instanceof lh})(s.transform,t.transform)}class cR{constructor(t,i){this.version=t,this.transformResults=i}}class wr{constructor(t,i){this.updateTime=t,this.exists=i}static none(){return new wr}static exists(t){return new wr(void 0,t)}static updateTime(t){return new wr(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Yc(s,t){return s.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(s.updateTime):s.exists===void 0||s.exists===t.isFoundDocument()}class Rh{}function HT(s,t){if(!s.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return s.isNoDocument()?new FT(s.key,wr.none()):new au(s.key,s.data,wr.none());{const i=s.data,a=si.empty();let l=new en(mn.comparator);for(let c of t.fields)if(!l.has(c)){let d=i.field(c);d===null&&c.length>1&&(c=c.popLast(),d=i.field(c)),d===null?a.delete(c):a.set(c,d),l=l.add(c)}return new pa(s.key,a,new Ai(l.toArray()),wr.none())}}function hR(s,t,i){s instanceof au?(function(l,c,d){const p=l.value.clone(),y=V0(l.fieldTransforms,c,d.transformResults);p.setAll(y),c.convertToFoundDocument(d.version,p).setHasCommittedMutations()})(s,t,i):s instanceof pa?(function(l,c,d){if(!Yc(l.precondition,c))return void c.convertToUnknownDocument(d.version);const p=V0(l.fieldTransforms,c,d.transformResults),y=c.data;y.setAll(GT(l)),y.setAll(p),c.convertToFoundDocument(d.version,y).setHasCommittedMutations()})(s,t,i):(function(l,c,d){c.convertToNoDocument(d.version).setHasCommittedMutations()})(0,t,i)}function ql(s,t,i,a){return s instanceof au?(function(c,d,p,y){if(!Yc(c.precondition,d))return p;const _=c.value.clone(),A=L0(c.fieldTransforms,y,d);return _.setAll(A),d.convertToFoundDocument(d.version,_).setHasLocalMutations(),null})(s,t,i,a):s instanceof pa?(function(c,d,p,y){if(!Yc(c.precondition,d))return p;const _=L0(c.fieldTransforms,y,d),A=d.data;return A.setAll(GT(c)),A.setAll(_),d.convertToFoundDocument(d.version,A).setHasLocalMutations(),p===null?null:p.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((w=>w.field)))})(s,t,i,a):(function(c,d,p){return Yc(c.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):p})(s,t,i)}function fR(s,t){let i=null;for(const a of s.fieldTransforms){const l=t.data.field(a.field),c=zT(a.transform,l||null);c!=null&&(i===null&&(i=si.empty()),i.set(a.field,c))}return i||null}function M0(s,t){return s.type===t.type&&!!s.key.isEqual(t.key)&&!!s.precondition.isEqual(t.precondition)&&!!(function(a,l){return a===void 0&&l===void 0||!(!a||!l)&&To(a,l,((c,d)=>uR(c,d)))})(s.fieldTransforms,t.fieldTransforms)&&(s.type===0?s.value.isEqual(t.value):s.type!==1||s.data.isEqual(t.data)&&s.fieldMask.isEqual(t.fieldMask))}class au extends Rh{constructor(t,i,a,l=[]){super(),this.key=t,this.value=i,this.precondition=a,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class pa extends Rh{constructor(t,i,a,l,c=[]){super(),this.key=t,this.data=i,this.fieldMask=a,this.precondition=l,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function GT(s){const t=new Map;return s.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const a=s.data.field(i);t.set(i,a)}})),t}function V0(s,t,i){const a=new Map;he(s.length===i.length,32656,{Re:i.length,Ve:s.length});for(let l=0;l<i.length;l++){const c=s[l],d=c.transform,p=t.data.field(c.field);a.set(c.field,lR(d,p,i[l]))}return a}function L0(s,t,i){const a=new Map;for(const l of s){const c=l.transform,d=i.data.field(l.field);a.set(l.field,oR(c,d,t))}return a}class FT extends Rh{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class dR extends Rh{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mR{constructor(t,i,a,l){this.batchId=t,this.localWriteTime=i,this.baseMutations=a,this.mutations=l}applyToRemoteDocument(t,i){const a=i.mutationResults;for(let l=0;l<this.mutations.length;l++){const c=this.mutations[l];c.key.isEqual(t.key)&&hR(c,t,a[l])}}applyToLocalView(t,i){for(const a of this.baseMutations)a.key.isEqual(t.key)&&(i=ql(a,t,i,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(t.key)&&(i=ql(a,t,i,this.localWriteTime));return i}applyToLocalDocumentSet(t,i){const a=UT();return this.mutations.forEach((l=>{const c=t.get(l.key),d=c.overlayedDocument;let p=this.applyToLocalView(d,c.mutatedFields);p=i.has(l.key)?null:p;const y=HT(d,p);y!==null&&a.set(l.key,y),d.isValidDocument()||d.convertToNoDocument(Vt.min())})),a}keys(){return this.mutations.reduce(((t,i)=>t.add(i.key)),Wt())}isEqual(t){return this.batchId===t.batchId&&To(this.mutations,t.mutations,((i,a)=>M0(i,a)))&&To(this.baseMutations,t.baseMutations,((i,a)=>M0(i,a)))}}class jm{constructor(t,i,a,l){this.batch=t,this.commitVersion=i,this.mutationResults=a,this.docVersions=l}static from(t,i,a){he(t.mutations.length===a.length,58842,{me:t.mutations.length,fe:a.length});let l=(function(){return nR})();const c=t.mutations;for(let d=0;d<c.length;d++)l=l.insert(c[d].key,a[d].version);return new jm(t,i,a,l)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gR{constructor(t,i){this.largestBatchId=t,this.mutation=i}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pR{constructor(t,i){this.count=t,this.unchangedNames=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ze,ne;function yR(s){switch(s){case et.OK:return Ct(64938);case et.CANCELLED:case et.UNKNOWN:case et.DEADLINE_EXCEEDED:case et.RESOURCE_EXHAUSTED:case et.INTERNAL:case et.UNAVAILABLE:case et.UNAUTHENTICATED:return!1;case et.INVALID_ARGUMENT:case et.NOT_FOUND:case et.ALREADY_EXISTS:case et.PERMISSION_DENIED:case et.FAILED_PRECONDITION:case et.ABORTED:case et.OUT_OF_RANGE:case et.UNIMPLEMENTED:case et.DATA_LOSS:return!0;default:return Ct(15467,{code:s})}}function YT(s){if(s===void 0)return Ir("GRPC error has no .code"),et.UNKNOWN;switch(s){case Ze.OK:return et.OK;case Ze.CANCELLED:return et.CANCELLED;case Ze.UNKNOWN:return et.UNKNOWN;case Ze.DEADLINE_EXCEEDED:return et.DEADLINE_EXCEEDED;case Ze.RESOURCE_EXHAUSTED:return et.RESOURCE_EXHAUSTED;case Ze.INTERNAL:return et.INTERNAL;case Ze.UNAVAILABLE:return et.UNAVAILABLE;case Ze.UNAUTHENTICATED:return et.UNAUTHENTICATED;case Ze.INVALID_ARGUMENT:return et.INVALID_ARGUMENT;case Ze.NOT_FOUND:return et.NOT_FOUND;case Ze.ALREADY_EXISTS:return et.ALREADY_EXISTS;case Ze.PERMISSION_DENIED:return et.PERMISSION_DENIED;case Ze.FAILED_PRECONDITION:return et.FAILED_PRECONDITION;case Ze.ABORTED:return et.ABORTED;case Ze.OUT_OF_RANGE:return et.OUT_OF_RANGE;case Ze.UNIMPLEMENTED:return et.UNIMPLEMENTED;case Ze.DATA_LOSS:return et.DATA_LOSS;default:return Ct(39323,{code:s})}}(ne=Ze||(Ze={}))[ne.OK=0]="OK",ne[ne.CANCELLED=1]="CANCELLED",ne[ne.UNKNOWN=2]="UNKNOWN",ne[ne.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ne[ne.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ne[ne.NOT_FOUND=5]="NOT_FOUND",ne[ne.ALREADY_EXISTS=6]="ALREADY_EXISTS",ne[ne.PERMISSION_DENIED=7]="PERMISSION_DENIED",ne[ne.UNAUTHENTICATED=16]="UNAUTHENTICATED",ne[ne.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ne[ne.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ne[ne.ABORTED=10]="ABORTED",ne[ne.OUT_OF_RANGE=11]="OUT_OF_RANGE",ne[ne.UNIMPLEMENTED=12]="UNIMPLEMENTED",ne[ne.INTERNAL=13]="INTERNAL",ne[ne.UNAVAILABLE=14]="UNAVAILABLE",ne[ne.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _R(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vR=new Ts([4294967295,4294967295],0);function x0(s){const t=_R().encode(s),i=new oT;return i.update(t),new Uint8Array(i.digest())}function k0(s){const t=new DataView(s.buffer),i=t.getUint32(0,!0),a=t.getUint32(4,!0),l=t.getUint32(8,!0),c=t.getUint32(12,!0);return[new Ts([i,a],0),new Ts([l,c],0)]}class qm{constructor(t,i,a){if(this.bitmap=t,this.padding=i,this.hashCount=a,i<0||i>=8)throw new xl(`Invalid padding: ${i}`);if(a<0)throw new xl(`Invalid hash count: ${a}`);if(t.length>0&&this.hashCount===0)throw new xl(`Invalid hash count: ${a}`);if(t.length===0&&i!==0)throw new xl(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*t.length-i,this.pe=Ts.fromNumber(this.ge)}ye(t,i,a){let l=t.add(i.multiply(Ts.fromNumber(a)));return l.compare(vR)===1&&(l=new Ts([l.getBits(0),l.getBits(1)],0)),l.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const i=x0(t),[a,l]=k0(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(a,l,c);if(!this.we(d))return!1}return!0}static create(t,i,a){const l=t%8==0?0:8-t%8,c=new Uint8Array(Math.ceil(t/8)),d=new qm(c,l,i);return a.forEach((p=>d.insert(p))),d}insert(t){if(this.ge===0)return;const i=x0(t),[a,l]=k0(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(a,l,c);this.Se(d)}}Se(t){const i=Math.floor(t/8),a=t%8;this.bitmap[i]|=1<<a}}class xl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ch{constructor(t,i,a,l,c){this.snapshotVersion=t,this.targetChanges=i,this.targetMismatches=a,this.documentUpdates=l,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(t,i,a){const l=new Map;return l.set(t,ou.createSynthesizedTargetChangeForCurrentChange(t,i,a)),new Ch(Vt.min(),l,new Oe($t),Nr(),Wt())}}class ou{constructor(t,i,a,l,c){this.resumeToken=t,this.current=i,this.addedDocuments=a,this.modifiedDocuments=l,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(t,i,a){return new ou(a,i,Wt(),Wt(),Wt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qc{constructor(t,i,a,l){this.be=t,this.removedTargetIds=i,this.key=a,this.De=l}}class QT{constructor(t,i){this.targetId=t,this.Ce=i}}class KT{constructor(t,i,a=gn.EMPTY_BYTE_STRING,l=null){this.state=t,this.targetIds=i,this.resumeToken=a,this.cause=l}}class U0{constructor(){this.ve=0,this.Fe=P0(),this.Me=gn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=Wt(),i=Wt(),a=Wt();return this.Fe.forEach(((l,c)=>{switch(c){case 0:t=t.add(l);break;case 2:i=i.add(l);break;case 1:a=a.add(l);break;default:Ct(38017,{changeType:c})}})),new ou(this.Me,this.xe,t,i,a)}qe(){this.Oe=!1,this.Fe=P0()}Qe(t,i){this.Oe=!0,this.Fe=this.Fe.insert(t,i)}$e(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}Ue(){this.ve+=1}Ke(){this.ve-=1,he(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class TR{constructor(t){this.Ge=t,this.ze=new Map,this.je=Nr(),this.Je=xc(),this.He=xc(),this.Ye=new Oe($t)}Ze(t){for(const i of t.be)t.De&&t.De.isFoundDocument()?this.Xe(i,t.De):this.et(i,t.key,t.De);for(const i of t.removedTargetIds)this.et(i,t.key,t.De)}tt(t){this.forEachTarget(t,(i=>{const a=this.nt(i);switch(t.state){case 0:this.rt(i)&&a.Le(t.resumeToken);break;case 1:a.Ke(),a.Ne||a.qe(),a.Le(t.resumeToken);break;case 2:a.Ke(),a.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(a.We(),a.Le(t.resumeToken));break;case 4:this.rt(i)&&(this.it(i),a.Le(t.resumeToken));break;default:Ct(56790,{state:t.state})}}))}forEachTarget(t,i){t.targetIds.length>0?t.targetIds.forEach(i):this.ze.forEach(((a,l)=>{this.rt(l)&&i(l)}))}st(t){const i=t.targetId,a=t.Ce.count,l=this.ot(i);if(l){const c=l.target;if(am(c))if(a===0){const d=new At(c.path);this.et(i,d,vn.newNoDocument(d,Vt.min()))}else he(a===1,20013,{expectedCount:a});else{const d=this._t(i);if(d!==a){const p=this.ut(t),y=p?this.ct(p,t,d):1;if(y!==0){this.it(i);const _=y===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(i,_)}}}}}ut(t){const i=t.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:a="",padding:l=0},hashCount:c=0}=i;let d,p;try{d=ws(a).toUint8Array()}catch(y){if(y instanceof vT)return vo("Decoding the base64 bloom filter in existence filter failed ("+y.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw y}try{p=new qm(d,l,c)}catch(y){return vo(y instanceof xl?"BloomFilter error: ":"Applying bloom filter failed: ",y),null}return p.ge===0?null:p}ct(t,i,a){return i.Ce.count===a-this.Pt(t,i.targetId)?0:2}Pt(t,i){const a=this.Ge.getRemoteKeysForTarget(i);let l=0;return a.forEach((c=>{const d=this.Ge.ht(),p=`projects/${d.projectId}/databases/${d.database}/documents/${c.path.canonicalString()}`;t.mightContain(p)||(this.et(i,c,null),l++)})),l}Tt(t){const i=new Map;this.ze.forEach(((c,d)=>{const p=this.ot(d);if(p){if(c.current&&am(p.target)){const y=new At(p.target.path);this.It(y).has(d)||this.Et(d,y)||this.et(d,y,vn.newNoDocument(y,t))}c.Be&&(i.set(d,c.ke()),c.qe())}}));let a=Wt();this.He.forEach(((c,d)=>{let p=!0;d.forEachWhile((y=>{const _=this.ot(y);return!_||_.purpose==="TargetPurposeLimboResolution"||(p=!1,!1)})),p&&(a=a.add(c))})),this.je.forEach(((c,d)=>d.setReadTime(t)));const l=new Ch(t,i,this.Ye,this.je,a);return this.je=Nr(),this.Je=xc(),this.He=xc(),this.Ye=new Oe($t),l}Xe(t,i){if(!this.rt(t))return;const a=this.Et(t,i.key)?2:0;this.nt(t).Qe(i.key,a),this.je=this.je.insert(i.key,i),this.Je=this.Je.insert(i.key,this.It(i.key).add(t)),this.He=this.He.insert(i.key,this.dt(i.key).add(t))}et(t,i,a){if(!this.rt(t))return;const l=this.nt(t);this.Et(t,i)?l.Qe(i,1):l.$e(i),this.He=this.He.insert(i,this.dt(i).delete(t)),this.He=this.He.insert(i,this.dt(i).add(t)),a&&(this.je=this.je.insert(i,a))}removeTarget(t){this.ze.delete(t)}_t(t){const i=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+i.addedDocuments.size-i.removedDocuments.size}Ue(t){this.nt(t).Ue()}nt(t){let i=this.ze.get(t);return i||(i=new U0,this.ze.set(t,i)),i}dt(t){let i=this.He.get(t);return i||(i=new en($t),this.He=this.He.insert(t,i)),i}It(t){let i=this.Je.get(t);return i||(i=new en($t),this.Je=this.Je.insert(t,i)),i}rt(t){const i=this.ot(t)!==null;return i||ht("WatchChangeAggregator","Detected inactive target",t),i}ot(t){const i=this.ze.get(t);return i&&i.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new U0),this.Ge.getRemoteKeysForTarget(t).forEach((i=>{this.et(t,i,null)}))}Et(t,i){return this.Ge.getRemoteKeysForTarget(t).has(i)}}function xc(){return new Oe(At.comparator)}function P0(){return new Oe(At.comparator)}const ER={asc:"ASCENDING",desc:"DESCENDING"},SR={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},AR={and:"AND",or:"OR"};class bR{constructor(t,i){this.databaseId=t,this.useProto3Json=i}}function lm(s,t){return s.useProto3Json||Th(t)?t:{value:t}}function ch(s,t){return s.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function XT(s,t){return s.useProto3Json?t.toBase64():t.toUint8Array()}function wR(s,t){return ch(s,t.toTimestamp())}function Ki(s){return he(!!s,49232),Vt.fromTimestamp((function(i){const a=bs(i);return new Ce(a.seconds,a.nanos)})(s))}function Hm(s,t){return um(s,t).canonicalString()}function um(s,t){const i=(function(l){return new Re(["projects",l.projectId,"databases",l.database])})(s).child("documents");return t===void 0?i:i.child(t)}function ZT(s){const t=Re.fromString(s);return he(eE(t),10190,{key:t.toString()}),t}function cm(s,t){return Hm(s.databaseId,t.path)}function qd(s,t){const i=ZT(t);if(i.get(1)!==s.databaseId.projectId)throw new _t(et.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+s.databaseId.projectId);if(i.get(3)!==s.databaseId.database)throw new _t(et.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+s.databaseId.database);return new At($T(i))}function JT(s,t){return Hm(s.databaseId,t)}function RR(s){const t=ZT(s);return t.length===4?Re.emptyPath():$T(t)}function hm(s){return new Re(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function $T(s){return he(s.length>4&&s.get(4)==="documents",29091,{key:s.toString()}),s.popFirst(5)}function z0(s,t,i){return{name:cm(s,t),fields:i.value.mapValue.fields}}function CR(s,t){let i;if("targetChange"in t){t.targetChange;const a=(function(_){return _==="NO_CHANGE"?0:_==="ADD"?1:_==="REMOVE"?2:_==="CURRENT"?3:_==="RESET"?4:Ct(39313,{state:_})})(t.targetChange.targetChangeType||"NO_CHANGE"),l=t.targetChange.targetIds||[],c=(function(_,A){return _.useProto3Json?(he(A===void 0||typeof A=="string",58123),gn.fromBase64String(A||"")):(he(A===void 0||A instanceof Buffer||A instanceof Uint8Array,16193),gn.fromUint8Array(A||new Uint8Array))})(s,t.targetChange.resumeToken),d=t.targetChange.cause,p=d&&(function(_){const A=_.code===void 0?et.UNKNOWN:YT(_.code);return new _t(A,_.message||"")})(d);i=new KT(a,l,c,p||null)}else if("documentChange"in t){t.documentChange;const a=t.documentChange;a.document,a.document.name,a.document.updateTime;const l=qd(s,a.document.name),c=Ki(a.document.updateTime),d=a.document.createTime?Ki(a.document.createTime):Vt.min(),p=new si({mapValue:{fields:a.document.fields}}),y=vn.newFoundDocument(l,c,d,p),_=a.targetIds||[],A=a.removedTargetIds||[];i=new Qc(_,A,y.key,y)}else if("documentDelete"in t){t.documentDelete;const a=t.documentDelete;a.document;const l=qd(s,a.document),c=a.readTime?Ki(a.readTime):Vt.min(),d=vn.newNoDocument(l,c),p=a.removedTargetIds||[];i=new Qc([],p,d.key,d)}else if("documentRemove"in t){t.documentRemove;const a=t.documentRemove;a.document;const l=qd(s,a.document),c=a.removedTargetIds||[];i=new Qc([],c,l,null)}else{if(!("filter"in t))return Ct(11601,{Rt:t});{t.filter;const a=t.filter;a.targetId;const{count:l=0,unchangedNames:c}=a,d=new pR(l,c),p=a.targetId;i=new QT(p,d)}}return i}function IR(s,t){let i;if(t instanceof au)i={update:z0(s,t.key,t.value)};else if(t instanceof FT)i={delete:cm(s,t.key)};else if(t instanceof pa)i={update:z0(s,t.key,t.data),updateMask:UR(t.fieldMask)};else{if(!(t instanceof dR))return Ct(16599,{Vt:t.type});i={verify:cm(s,t.key)}}return t.fieldTransforms.length>0&&(i.updateTransforms=t.fieldTransforms.map((a=>(function(c,d){const p=d.transform;if(p instanceof lh)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof $l)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof Wl)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof uh)return{fieldPath:d.field.canonicalString(),increment:p.Ae};throw Ct(20930,{transform:d.transform})})(0,a)))),t.precondition.isNone||(i.currentDocument=(function(l,c){return c.updateTime!==void 0?{updateTime:wR(l,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:Ct(27497)})(s,t.precondition)),i}function NR(s,t){return s&&s.length>0?(he(t!==void 0,14353),s.map((i=>(function(l,c){let d=l.updateTime?Ki(l.updateTime):Ki(c);return d.isEqual(Vt.min())&&(d=Ki(c)),new cR(d,l.transformResults||[])})(i,t)))):[]}function DR(s,t){return{documents:[JT(s,t.path)]}}function OR(s,t){const i={structuredQuery:{}},a=t.path;let l;t.collectionGroup!==null?(l=a,i.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(l=a.popLast(),i.structuredQuery.from=[{collectionId:a.lastSegment()}]),i.parent=JT(s,l);const c=(function(_){if(_.length!==0)return tE(Wi.create(_,"and"))})(t.filters);c&&(i.structuredQuery.where=c);const d=(function(_){if(_.length!==0)return _.map((A=>(function(x){return{field:uo(x.field),direction:LR(x.dir)}})(A)))})(t.orderBy);d&&(i.structuredQuery.orderBy=d);const p=lm(s,t.limit);return p!==null&&(i.structuredQuery.limit=p),t.startAt&&(i.structuredQuery.startAt=(function(_){return{before:_.inclusive,values:_.position}})(t.startAt)),t.endAt&&(i.structuredQuery.endAt=(function(_){return{before:!_.inclusive,values:_.position}})(t.endAt)),{ft:i,parent:l}}function MR(s){let t=RR(s.parent);const i=s.structuredQuery,a=i.from?i.from.length:0;let l=null;if(a>0){he(a===1,65062);const A=i.from[0];A.allDescendants?l=A.collectionId:t=t.child(A.collectionId)}let c=[];i.where&&(c=(function(w){const x=WT(w);return x instanceof Wi&&NT(x)?x.getFilters():[x]})(i.where));let d=[];i.orderBy&&(d=(function(w){return w.map((x=>(function(rt){return new oh(co(rt.field),(function(nt){switch(nt){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(rt.direction))})(x)))})(i.orderBy));let p=null;i.limit&&(p=(function(w){let x;return x=typeof w=="object"?w.value:w,Th(x)?null:x})(i.limit));let y=null;i.startAt&&(y=(function(w){const x=!!w.before,G=w.values||[];return new ah(G,x)})(i.startAt));let _=null;return i.endAt&&(_=(function(w){const x=!w.before,G=w.values||[];return new ah(G,x)})(i.endAt)),Z2(t,l,d,c,p,"F",y,_)}function VR(s,t){const i=(function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ct(28987,{purpose:l})}})(t.purpose);return i==null?null:{"goog-listen-tags":i}}function WT(s){return s.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const a=co(i.unaryFilter.field);return We.create(a,"==",{doubleValue:NaN});case"IS_NULL":const l=co(i.unaryFilter.field);return We.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=co(i.unaryFilter.field);return We.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=co(i.unaryFilter.field);return We.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ct(61313);default:return Ct(60726)}})(s):s.fieldFilter!==void 0?(function(i){return We.create(co(i.fieldFilter.field),(function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ct(58110);default:return Ct(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(s):s.compositeFilter!==void 0?(function(i){return Wi.create(i.compositeFilter.filters.map((a=>WT(a))),(function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return Ct(1026)}})(i.compositeFilter.op))})(s):Ct(30097,{filter:s})}function LR(s){return ER[s]}function xR(s){return SR[s]}function kR(s){return AR[s]}function uo(s){return{fieldPath:s.canonicalString()}}function co(s){return mn.fromServerFormat(s.fieldPath)}function tE(s){return s instanceof We?(function(i){if(i.op==="=="){if(R0(i.value))return{unaryFilter:{field:uo(i.field),op:"IS_NAN"}};if(w0(i.value))return{unaryFilter:{field:uo(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(R0(i.value))return{unaryFilter:{field:uo(i.field),op:"IS_NOT_NAN"}};if(w0(i.value))return{unaryFilter:{field:uo(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:uo(i.field),op:xR(i.op),value:i.value}}})(s):s instanceof Wi?(function(i){const a=i.getFilters().map((l=>tE(l)));return a.length===1?a[0]:{compositeFilter:{op:kR(i.op),filters:a}}})(s):Ct(54877,{filter:s})}function UR(s){const t=[];return s.fields.forEach((i=>t.push(i.canonicalString()))),{fieldPaths:t}}function eE(s){return s.length>=4&&s.get(0)==="projects"&&s.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ps{constructor(t,i,a,l,c=Vt.min(),d=Vt.min(),p=gn.EMPTY_BYTE_STRING,y=null){this.target=t,this.targetId=i,this.purpose=a,this.sequenceNumber=l,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=p,this.expectedCount=y}withSequenceNumber(t){return new ps(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,i){return new ps(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new ps(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new ps(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PR{constructor(t){this.yt=t}}function zR(s){const t=MR({parent:s.parent,structuredQuery:s.structuredQuery});return s.limitType==="LAST"?om(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BR{constructor(){this.Cn=new jR}addToCollectionParentIndex(t,i){return this.Cn.add(i),$.resolve()}getCollectionParents(t,i){return $.resolve(this.Cn.getEntries(i))}addFieldIndex(t,i){return $.resolve()}deleteFieldIndex(t,i){return $.resolve()}deleteAllFieldIndexes(t){return $.resolve()}createTargetIndexes(t,i){return $.resolve()}getDocumentsMatchingTarget(t,i){return $.resolve(null)}getIndexType(t,i){return $.resolve(0)}getFieldIndexes(t,i){return $.resolve([])}getNextCollectionGroupToUpdate(t){return $.resolve(null)}getMinOffset(t,i){return $.resolve(As.min())}getMinOffsetFromCollectionGroup(t,i){return $.resolve(As.min())}updateCollectionGroup(t,i,a){return $.resolve()}updateIndexEntries(t,i){return $.resolve()}}class jR{constructor(){this.index={}}add(t){const i=t.lastSegment(),a=t.popLast(),l=this.index[i]||new en(Re.comparator),c=!l.has(a);return this.index[i]=l.add(a),c}has(t){const i=t.lastSegment(),a=t.popLast(),l=this.index[i];return l&&l.has(a)}getEntries(t){return(this.index[t]||new en(Re.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B0={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},nE=41943040;class Vn{static withCacheSize(t){return new Vn(t,Vn.DEFAULT_COLLECTION_PERCENTILE,Vn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,i,a){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Vn.DEFAULT_COLLECTION_PERCENTILE=10,Vn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Vn.DEFAULT=new Vn(nE,Vn.DEFAULT_COLLECTION_PERCENTILE,Vn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Vn.DISABLED=new Vn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ao{constructor(t){this.ar=t}next(){return this.ar+=2,this.ar}static ur(){return new Ao(0)}static cr(){return new Ao(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j0="LruGarbageCollector",qR=1048576;function q0([s,t],[i,a]){const l=$t(s,i);return l===0?$t(t,a):l}class HR{constructor(t){this.Ir=t,this.buffer=new en(q0),this.Er=0}dr(){return++this.Er}Ar(t){const i=[t,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(i);else{const a=this.buffer.last();q0(i,a)<0&&(this.buffer=this.buffer.delete(a).add(i))}}get maxValue(){return this.buffer.last()[0]}}class GR{constructor(t,i,a){this.garbageCollector=t,this.asyncQueue=i,this.localStore=a,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(t){ht(j0,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){Oo(i)?ht(j0,"Ignoring IndexedDB error during garbage collection: ",i):await Do(i)}await this.Vr(3e5)}))}}class FR{constructor(t,i){this.mr=t,this.params=i}calculateTargetCount(t,i){return this.mr.gr(t).next((a=>Math.floor(i/100*a)))}nthSequenceNumber(t,i){if(i===0)return $.resolve(vh.ce);const a=new HR(i);return this.mr.forEachTarget(t,(l=>a.Ar(l.sequenceNumber))).next((()=>this.mr.pr(t,(l=>a.Ar(l))))).next((()=>a.maxValue))}removeTargets(t,i,a){return this.mr.removeTargets(t,i,a)}removeOrphanedDocuments(t,i){return this.mr.removeOrphanedDocuments(t,i)}collect(t,i){return this.params.cacheSizeCollectionThreshold===-1?(ht("LruGarbageCollector","Garbage collection skipped; disabled"),$.resolve(B0)):this.getCacheSize(t).next((a=>a<this.params.cacheSizeCollectionThreshold?(ht("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),B0):this.yr(t,i)))}getCacheSize(t){return this.mr.getCacheSize(t)}yr(t,i){let a,l,c,d,p,y,_;const A=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((w=>(w>this.params.maximumSequenceNumbersToCollect?(ht("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${w}`),l=this.params.maximumSequenceNumbersToCollect):l=w,d=Date.now(),this.nthSequenceNumber(t,l)))).next((w=>(a=w,p=Date.now(),this.removeTargets(t,a,i)))).next((w=>(c=w,y=Date.now(),this.removeOrphanedDocuments(t,a)))).next((w=>(_=Date.now(),oo()<=Jt.DEBUG&&ht("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-A}ms
	Determined least recently used ${l} in `+(p-d)+`ms
	Removed ${c} targets in `+(y-p)+`ms
	Removed ${w} documents in `+(_-y)+`ms
Total Duration: ${_-A}ms`),$.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:c,documentsRemoved:w}))))}}function YR(s,t){return new FR(s,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QR{constructor(){this.changes=new ga((t=>t.toString()),((t,i)=>t.isEqual(i))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,i){this.assertNotApplied(),this.changes.set(t,vn.newInvalidDocument(t).setReadTime(i))}getEntry(t,i){this.assertNotApplied();const a=this.changes.get(i);return a!==void 0?$.resolve(a):this.getFromCache(t,i)}getEntries(t,i){return this.getAllFromCache(t,i)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KR{constructor(t,i){this.overlayedDocument=t,this.mutatedFields=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XR{constructor(t,i,a,l){this.remoteDocumentCache=t,this.mutationQueue=i,this.documentOverlayCache=a,this.indexManager=l}getDocument(t,i){let a=null;return this.documentOverlayCache.getOverlay(t,i).next((l=>(a=l,this.remoteDocumentCache.getEntry(t,i)))).next((l=>(a!==null&&ql(a.mutation,l,Ai.empty(),Ce.now()),l)))}getDocuments(t,i){return this.remoteDocumentCache.getEntries(t,i).next((a=>this.getLocalViewOfDocuments(t,a,Wt()).next((()=>a))))}getLocalViewOfDocuments(t,i,a=Wt()){const l=aa();return this.populateOverlays(t,l,i).next((()=>this.computeViews(t,i,l,a).next((c=>{let d=Ll();return c.forEach(((p,y)=>{d=d.insert(p,y.overlayedDocument)})),d}))))}getOverlayedDocuments(t,i){const a=aa();return this.populateOverlays(t,a,i).next((()=>this.computeViews(t,i,a,Wt())))}populateOverlays(t,i,a){const l=[];return a.forEach((c=>{i.has(c)||l.push(c)})),this.documentOverlayCache.getOverlays(t,l).next((c=>{c.forEach(((d,p)=>{i.set(d,p)}))}))}computeViews(t,i,a,l){let c=Nr();const d=jl(),p=(function(){return jl()})();return i.forEach(((y,_)=>{const A=a.get(_.key);l.has(_.key)&&(A===void 0||A.mutation instanceof pa)?c=c.insert(_.key,_):A!==void 0?(d.set(_.key,A.mutation.getFieldMask()),ql(A.mutation,_,A.mutation.getFieldMask(),Ce.now())):d.set(_.key,Ai.empty())})),this.recalculateAndSaveOverlays(t,c).next((y=>(y.forEach(((_,A)=>d.set(_,A))),i.forEach(((_,A)=>p.set(_,new KR(A,d.get(_)??null)))),p)))}recalculateAndSaveOverlays(t,i){const a=jl();let l=new Oe(((d,p)=>d-p)),c=Wt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,i).next((d=>{for(const p of d)p.keys().forEach((y=>{const _=i.get(y);if(_===null)return;let A=a.get(y)||Ai.empty();A=p.applyToLocalView(_,A),a.set(y,A);const w=(l.get(p.batchId)||Wt()).add(y);l=l.insert(p.batchId,w)}))})).next((()=>{const d=[],p=l.getReverseIterator();for(;p.hasNext();){const y=p.getNext(),_=y.key,A=y.value,w=UT();A.forEach((x=>{if(!c.has(x)){const G=HT(i.get(x),a.get(x));G!==null&&w.set(x,G),c=c.add(x)}})),d.push(this.documentOverlayCache.saveOverlays(t,_,w))}return $.waitFor(d)})).next((()=>a))}recalculateAndSaveOverlaysForDocumentKeys(t,i){return this.remoteDocumentCache.getEntries(t,i).next((a=>this.recalculateAndSaveOverlays(t,a)))}getDocumentsMatchingQuery(t,i,a,l){return(function(d){return At.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0})(i)?this.getDocumentsMatchingDocumentQuery(t,i.path):J2(i)?this.getDocumentsMatchingCollectionGroupQuery(t,i,a,l):this.getDocumentsMatchingCollectionQuery(t,i,a,l)}getNextDocuments(t,i,a,l){return this.remoteDocumentCache.getAllFromCollectionGroup(t,i,a,l).next((c=>{const d=l-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,i,a.largestBatchId,l-c.size):$.resolve(aa());let p=Kl,y=c;return d.next((_=>$.forEach(_,((A,w)=>(p<w.largestBatchId&&(p=w.largestBatchId),c.get(A)?$.resolve():this.remoteDocumentCache.getEntry(t,A).next((x=>{y=y.insert(A,x)}))))).next((()=>this.populateOverlays(t,_,c))).next((()=>this.computeViews(t,y,_,Wt()))).next((A=>({batchId:p,changes:kT(A)})))))}))}getDocumentsMatchingDocumentQuery(t,i){return this.getDocument(t,new At(i)).next((a=>{let l=Ll();return a.isFoundDocument()&&(l=l.insert(a.key,a)),l}))}getDocumentsMatchingCollectionGroupQuery(t,i,a,l){const c=i.collectionGroup;let d=Ll();return this.indexManager.getCollectionParents(t,c).next((p=>$.forEach(p,(y=>{const _=(function(w,x){return new Sh(x,null,w.explicitOrderBy.slice(),w.filters.slice(),w.limit,w.limitType,w.startAt,w.endAt)})(i,y.child(c));return this.getDocumentsMatchingCollectionQuery(t,_,a,l).next((A=>{A.forEach(((w,x)=>{d=d.insert(w,x)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(t,i,a,l){let c;return this.documentOverlayCache.getOverlaysForCollection(t,i.path,a.largestBatchId).next((d=>(c=d,this.remoteDocumentCache.getDocumentsMatchingQuery(t,i,a,c,l)))).next((d=>{c.forEach(((y,_)=>{const A=_.getKey();d.get(A)===null&&(d=d.insert(A,vn.newInvalidDocument(A)))}));let p=Ll();return d.forEach(((y,_)=>{const A=c.get(y);A!==void 0&&ql(A.mutation,_,Ai.empty(),Ce.now()),bh(i,_)&&(p=p.insert(y,_))})),p}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZR{constructor(t){this.serializer=t,this.Lr=new Map,this.kr=new Map}getBundleMetadata(t,i){return $.resolve(this.Lr.get(i))}saveBundleMetadata(t,i){return this.Lr.set(i.id,(function(l){return{id:l.id,version:l.version,createTime:Ki(l.createTime)}})(i)),$.resolve()}getNamedQuery(t,i){return $.resolve(this.kr.get(i))}saveNamedQuery(t,i){return this.kr.set(i.name,(function(l){return{name:l.name,query:zR(l.bundledQuery),readTime:Ki(l.readTime)}})(i)),$.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JR{constructor(){this.overlays=new Oe(At.comparator),this.qr=new Map}getOverlay(t,i){return $.resolve(this.overlays.get(i))}getOverlays(t,i){const a=aa();return $.forEach(i,(l=>this.getOverlay(t,l).next((c=>{c!==null&&a.set(l,c)})))).next((()=>a))}saveOverlays(t,i,a){return a.forEach(((l,c)=>{this.St(t,i,c)})),$.resolve()}removeOverlaysForBatchId(t,i,a){const l=this.qr.get(a);return l!==void 0&&(l.forEach((c=>this.overlays=this.overlays.remove(c))),this.qr.delete(a)),$.resolve()}getOverlaysForCollection(t,i,a){const l=aa(),c=i.length+1,d=new At(i.child("")),p=this.overlays.getIteratorFrom(d);for(;p.hasNext();){const y=p.getNext().value,_=y.getKey();if(!i.isPrefixOf(_.path))break;_.path.length===c&&y.largestBatchId>a&&l.set(y.getKey(),y)}return $.resolve(l)}getOverlaysForCollectionGroup(t,i,a,l){let c=new Oe(((_,A)=>_-A));const d=this.overlays.getIterator();for(;d.hasNext();){const _=d.getNext().value;if(_.getKey().getCollectionGroup()===i&&_.largestBatchId>a){let A=c.get(_.largestBatchId);A===null&&(A=aa(),c=c.insert(_.largestBatchId,A)),A.set(_.getKey(),_)}}const p=aa(),y=c.getIterator();for(;y.hasNext()&&(y.getNext().value.forEach(((_,A)=>p.set(_,A))),!(p.size()>=l)););return $.resolve(p)}St(t,i,a){const l=this.overlays.get(a.key);if(l!==null){const d=this.qr.get(l.largestBatchId).delete(a.key);this.qr.set(l.largestBatchId,d)}this.overlays=this.overlays.insert(a.key,new gR(i,a));let c=this.qr.get(i);c===void 0&&(c=Wt(),this.qr.set(i,c)),this.qr.set(i,c.add(a.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $R{constructor(){this.sessionToken=gn.EMPTY_BYTE_STRING}getSessionToken(t){return $.resolve(this.sessionToken)}setSessionToken(t,i){return this.sessionToken=i,$.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gm{constructor(){this.Qr=new en(an.$r),this.Ur=new en(an.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(t,i){const a=new an(t,i);this.Qr=this.Qr.add(a),this.Ur=this.Ur.add(a)}Wr(t,i){t.forEach((a=>this.addReference(a,i)))}removeReference(t,i){this.Gr(new an(t,i))}zr(t,i){t.forEach((a=>this.removeReference(a,i)))}jr(t){const i=new At(new Re([])),a=new an(i,t),l=new an(i,t+1),c=[];return this.Ur.forEachInRange([a,l],(d=>{this.Gr(d),c.push(d.key)})),c}Jr(){this.Qr.forEach((t=>this.Gr(t)))}Gr(t){this.Qr=this.Qr.delete(t),this.Ur=this.Ur.delete(t)}Hr(t){const i=new At(new Re([])),a=new an(i,t),l=new an(i,t+1);let c=Wt();return this.Ur.forEachInRange([a,l],(d=>{c=c.add(d.key)})),c}containsKey(t){const i=new an(t,0),a=this.Qr.firstAfterOrEqual(i);return a!==null&&t.isEqual(a.key)}}class an{constructor(t,i){this.key=t,this.Yr=i}static $r(t,i){return At.comparator(t.key,i.key)||$t(t.Yr,i.Yr)}static Kr(t,i){return $t(t.Yr,i.Yr)||At.comparator(t.key,i.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WR{constructor(t,i){this.indexManager=t,this.referenceDelegate=i,this.mutationQueue=[],this.tr=1,this.Zr=new en(an.$r)}checkEmpty(t){return $.resolve(this.mutationQueue.length===0)}addMutationBatch(t,i,a,l){const c=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new mR(c,i,a,l);this.mutationQueue.push(d);for(const p of l)this.Zr=this.Zr.add(new an(p.key,c)),this.indexManager.addToCollectionParentIndex(t,p.key.path.popLast());return $.resolve(d)}lookupMutationBatch(t,i){return $.resolve(this.Xr(i))}getNextMutationBatchAfterBatchId(t,i){const a=i+1,l=this.ei(a),c=l<0?0:l;return $.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return $.resolve(this.mutationQueue.length===0?Lm:this.tr-1)}getAllMutationBatches(t){return $.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,i){const a=new an(i,0),l=new an(i,Number.POSITIVE_INFINITY),c=[];return this.Zr.forEachInRange([a,l],(d=>{const p=this.Xr(d.Yr);c.push(p)})),$.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(t,i){let a=new en($t);return i.forEach((l=>{const c=new an(l,0),d=new an(l,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([c,d],(p=>{a=a.add(p.Yr)}))})),$.resolve(this.ti(a))}getAllMutationBatchesAffectingQuery(t,i){const a=i.path,l=a.length+1;let c=a;At.isDocumentKey(c)||(c=c.child(""));const d=new an(new At(c),0);let p=new en($t);return this.Zr.forEachWhile((y=>{const _=y.key.path;return!!a.isPrefixOf(_)&&(_.length===l&&(p=p.add(y.Yr)),!0)}),d),$.resolve(this.ti(p))}ti(t){const i=[];return t.forEach((a=>{const l=this.Xr(a);l!==null&&i.push(l)})),i}removeMutationBatch(t,i){he(this.ni(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let a=this.Zr;return $.forEach(i.mutations,(l=>{const c=new an(l.key,i.batchId);return a=a.delete(c),this.referenceDelegate.markPotentiallyOrphaned(t,l.key)})).next((()=>{this.Zr=a}))}ir(t){}containsKey(t,i){const a=new an(i,0),l=this.Zr.firstAfterOrEqual(a);return $.resolve(i.isEqual(l&&l.key))}performConsistencyCheck(t){return this.mutationQueue.length,$.resolve()}ni(t,i){return this.ei(t)}ei(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Xr(t){const i=this.ei(t);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tC{constructor(t){this.ri=t,this.docs=(function(){return new Oe(At.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,i){const a=i.key,l=this.docs.get(a),c=l?l.size:0,d=this.ri(i);return this.docs=this.docs.insert(a,{document:i.mutableCopy(),size:d}),this.size+=d-c,this.indexManager.addToCollectionParentIndex(t,a.path.popLast())}removeEntry(t){const i=this.docs.get(t);i&&(this.docs=this.docs.remove(t),this.size-=i.size)}getEntry(t,i){const a=this.docs.get(i);return $.resolve(a?a.document.mutableCopy():vn.newInvalidDocument(i))}getEntries(t,i){let a=Nr();return i.forEach((l=>{const c=this.docs.get(l);a=a.insert(l,c?c.document.mutableCopy():vn.newInvalidDocument(l))})),$.resolve(a)}getDocumentsMatchingQuery(t,i,a,l){let c=Nr();const d=i.path,p=new At(d.child("__id-9223372036854775808__")),y=this.docs.getIteratorFrom(p);for(;y.hasNext();){const{key:_,value:{document:A}}=y.getNext();if(!d.isPrefixOf(_.path))break;_.path.length>d.length+1||I2(C2(A),a)<=0||(l.has(A.key)||bh(i,A))&&(c=c.insert(A.key,A.mutableCopy()))}return $.resolve(c)}getAllFromCollectionGroup(t,i,a,l){Ct(9500)}ii(t,i){return $.forEach(this.docs,(a=>i(a)))}newChangeBuffer(t){return new eC(this)}getSize(t){return $.resolve(this.size)}}class eC extends QR{constructor(t){super(),this.Nr=t}applyChanges(t){const i=[];return this.changes.forEach(((a,l)=>{l.isValidDocument()?i.push(this.Nr.addEntry(t,l)):this.Nr.removeEntry(a)})),$.waitFor(i)}getFromCache(t,i){return this.Nr.getEntry(t,i)}getAllFromCache(t,i){return this.Nr.getEntries(t,i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nC{constructor(t){this.persistence=t,this.si=new ga((i=>Um(i)),Pm),this.lastRemoteSnapshotVersion=Vt.min(),this.highestTargetId=0,this.oi=0,this._i=new Gm,this.targetCount=0,this.ai=Ao.ur()}forEachTarget(t,i){return this.si.forEach(((a,l)=>i(l))),$.resolve()}getLastRemoteSnapshotVersion(t){return $.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return $.resolve(this.oi)}allocateTargetId(t){return this.highestTargetId=this.ai.next(),$.resolve(this.highestTargetId)}setTargetsMetadata(t,i,a){return a&&(this.lastRemoteSnapshotVersion=a),i>this.oi&&(this.oi=i),$.resolve()}Pr(t){this.si.set(t.target,t);const i=t.targetId;i>this.highestTargetId&&(this.ai=new Ao(i),this.highestTargetId=i),t.sequenceNumber>this.oi&&(this.oi=t.sequenceNumber)}addTargetData(t,i){return this.Pr(i),this.targetCount+=1,$.resolve()}updateTargetData(t,i){return this.Pr(i),$.resolve()}removeTargetData(t,i){return this.si.delete(i.target),this._i.jr(i.targetId),this.targetCount-=1,$.resolve()}removeTargets(t,i,a){let l=0;const c=[];return this.si.forEach(((d,p)=>{p.sequenceNumber<=i&&a.get(p.targetId)===null&&(this.si.delete(d),c.push(this.removeMatchingKeysForTargetId(t,p.targetId)),l++)})),$.waitFor(c).next((()=>l))}getTargetCount(t){return $.resolve(this.targetCount)}getTargetData(t,i){const a=this.si.get(i)||null;return $.resolve(a)}addMatchingKeys(t,i,a){return this._i.Wr(i,a),$.resolve()}removeMatchingKeys(t,i,a){this._i.zr(i,a);const l=this.persistence.referenceDelegate,c=[];return l&&i.forEach((d=>{c.push(l.markPotentiallyOrphaned(t,d))})),$.waitFor(c)}removeMatchingKeysForTargetId(t,i){return this._i.jr(i),$.resolve()}getMatchingKeysForTargetId(t,i){const a=this._i.Hr(i);return $.resolve(a)}containsKey(t,i){return $.resolve(this._i.containsKey(i))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iE{constructor(t,i){this.ui={},this.overlays={},this.ci=new vh(0),this.li=!1,this.li=!0,this.hi=new $R,this.referenceDelegate=t(this),this.Pi=new nC(this),this.indexManager=new BR,this.remoteDocumentCache=(function(l){return new tC(l)})((a=>this.referenceDelegate.Ti(a))),this.serializer=new PR(i),this.Ii=new ZR(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let i=this.overlays[t.toKey()];return i||(i=new JR,this.overlays[t.toKey()]=i),i}getMutationQueue(t,i){let a=this.ui[t.toKey()];return a||(a=new WR(i,this.referenceDelegate),this.ui[t.toKey()]=a),a}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(t,i,a){ht("MemoryPersistence","Starting transaction:",t);const l=new iC(this.ci.next());return this.referenceDelegate.Ei(),a(l).next((c=>this.referenceDelegate.di(l).next((()=>c)))).toPromise().then((c=>(l.raiseOnCommittedEvent(),c)))}Ai(t,i){return $.or(Object.values(this.ui).map((a=>()=>a.containsKey(t,i))))}}class iC extends D2{constructor(t){super(),this.currentSequenceNumber=t}}class Fm{constructor(t){this.persistence=t,this.Ri=new Gm,this.Vi=null}static mi(t){return new Fm(t)}get fi(){if(this.Vi)return this.Vi;throw Ct(60996)}addReference(t,i,a){return this.Ri.addReference(a,i),this.fi.delete(a.toString()),$.resolve()}removeReference(t,i,a){return this.Ri.removeReference(a,i),this.fi.add(a.toString()),$.resolve()}markPotentiallyOrphaned(t,i){return this.fi.add(i.toString()),$.resolve()}removeTarget(t,i){this.Ri.jr(i.targetId).forEach((l=>this.fi.add(l.toString())));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(t,i.targetId).next((l=>{l.forEach((c=>this.fi.add(c.toString())))})).next((()=>a.removeTargetData(t,i)))}Ei(){this.Vi=new Set}di(t){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return $.forEach(this.fi,(a=>{const l=At.fromPath(a);return this.gi(t,l).next((c=>{c||i.removeEntry(l,Vt.min())}))})).next((()=>(this.Vi=null,i.apply(t))))}updateLimboDocument(t,i){return this.gi(t,i).next((a=>{a?this.fi.delete(i.toString()):this.fi.add(i.toString())}))}Ti(t){return 0}gi(t,i){return $.or([()=>$.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(t,i),()=>this.persistence.Ai(t,i)])}}class hh{constructor(t,i){this.persistence=t,this.pi=new ga((a=>V2(a.path)),((a,l)=>a.isEqual(l))),this.garbageCollector=YR(this,i)}static mi(t,i){return new hh(t,i)}Ei(){}di(t){return $.resolve()}forEachTarget(t,i){return this.persistence.getTargetCache().forEachTarget(t,i)}gr(t){const i=this.wr(t);return this.persistence.getTargetCache().getTargetCount(t).next((a=>i.next((l=>a+l))))}wr(t){let i=0;return this.pr(t,(a=>{i++})).next((()=>i))}pr(t,i){return $.forEach(this.pi,((a,l)=>this.br(t,a,l).next((c=>c?$.resolve():i(l)))))}removeTargets(t,i,a){return this.persistence.getTargetCache().removeTargets(t,i,a)}removeOrphanedDocuments(t,i){let a=0;const l=this.persistence.getRemoteDocumentCache(),c=l.newChangeBuffer();return l.ii(t,(d=>this.br(t,d,i).next((p=>{p||(a++,c.removeEntry(d,Vt.min()))})))).next((()=>c.apply(t))).next((()=>a))}markPotentiallyOrphaned(t,i){return this.pi.set(i,t.currentSequenceNumber),$.resolve()}removeTarget(t,i){const a=i.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,a)}addReference(t,i,a){return this.pi.set(a,t.currentSequenceNumber),$.resolve()}removeReference(t,i,a){return this.pi.set(a,t.currentSequenceNumber),$.resolve()}updateLimboDocument(t,i){return this.pi.set(i,t.currentSequenceNumber),$.resolve()}Ti(t){let i=t.key.toString().length;return t.isFoundDocument()&&(i+=Gc(t.data.value)),i}br(t,i,a){return $.or([()=>this.persistence.Ai(t,i),()=>this.persistence.getTargetCache().containsKey(t,i),()=>{const l=this.pi.get(i);return $.resolve(l!==void 0&&l>a)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ym{constructor(t,i,a,l){this.targetId=t,this.fromCache=i,this.Es=a,this.ds=l}static As(t,i){let a=Wt(),l=Wt();for(const c of i.docChanges)switch(c.type){case 0:a=a.add(c.doc.key);break;case 1:l=l.add(c.doc.key)}return new Ym(t,i.fromCache,a,l)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rC{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sC{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return XS()?8:O2(Tn())>0?6:4})()}initialize(t,i){this.ps=t,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(t,i,a,l){const c={result:null};return this.ys(t,i).next((d=>{c.result=d})).next((()=>{if(!c.result)return this.ws(t,i,l,a).next((d=>{c.result=d}))})).next((()=>{if(c.result)return;const d=new rC;return this.Ss(t,i,d).next((p=>{if(c.result=p,this.Vs)return this.bs(t,i,d,p.size)}))})).next((()=>c.result))}bs(t,i,a,l){return a.documentReadCount<this.fs?(oo()<=Jt.DEBUG&&ht("QueryEngine","SDK will not create cache indexes for query:",lo(i),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),$.resolve()):(oo()<=Jt.DEBUG&&ht("QueryEngine","Query:",lo(i),"scans",a.documentReadCount,"local documents and returns",l,"documents as results."),a.documentReadCount>this.gs*l?(oo()<=Jt.DEBUG&&ht("QueryEngine","The SDK decides to create cache indexes for query:",lo(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Qi(i))):$.resolve())}ys(t,i){if(D0(i))return $.resolve(null);let a=Qi(i);return this.indexManager.getIndexType(t,a).next((l=>l===0?null:(i.limit!==null&&l===1&&(i=om(i,null,"F"),a=Qi(i)),this.indexManager.getDocumentsMatchingTarget(t,a).next((c=>{const d=Wt(...c);return this.ps.getDocuments(t,d).next((p=>this.indexManager.getMinOffset(t,a).next((y=>{const _=this.Ds(i,p);return this.Cs(i,_,d,y.readTime)?this.ys(t,om(i,null,"F")):this.vs(t,_,i,y)}))))})))))}ws(t,i,a,l){return D0(i)||l.isEqual(Vt.min())?$.resolve(null):this.ps.getDocuments(t,a).next((c=>{const d=this.Ds(i,c);return this.Cs(i,d,a,l)?$.resolve(null):(oo()<=Jt.DEBUG&&ht("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),lo(i)),this.vs(t,d,i,R2(l,Kl)).next((p=>p)))}))}Ds(t,i){let a=new en(LT(t));return i.forEach(((l,c)=>{bh(t,c)&&(a=a.add(c))})),a}Cs(t,i,a,l){if(t.limit===null)return!1;if(a.size!==i.size)return!0;const c=t.limitType==="F"?i.last():i.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(l)>0)}Ss(t,i,a){return oo()<=Jt.DEBUG&&ht("QueryEngine","Using full collection scan to execute query:",lo(i)),this.ps.getDocumentsMatchingQuery(t,i,As.min(),a)}vs(t,i,a,l){return this.ps.getDocumentsMatchingQuery(t,a,l).next((c=>(i.forEach((d=>{c=c.insert(d.key,d)})),c)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qm="LocalStore",aC=3e8;class oC{constructor(t,i,a,l){this.persistence=t,this.Fs=i,this.serializer=l,this.Ms=new Oe($t),this.xs=new ga((c=>Um(c)),Pm),this.Os=new Map,this.Ns=t.getRemoteDocumentCache(),this.Pi=t.getTargetCache(),this.Ii=t.getBundleCache(),this.Bs(a)}Bs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new XR(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>t.collect(i,this.Ms)))}}function lC(s,t,i,a){return new oC(s,t,i,a)}async function rE(s,t){const i=xt(s);return await i.persistence.runTransaction("Handle user change","readonly",(a=>{let l;return i.mutationQueue.getAllMutationBatches(a).next((c=>(l=c,i.Bs(t),i.mutationQueue.getAllMutationBatches(a)))).next((c=>{const d=[],p=[];let y=Wt();for(const _ of l){d.push(_.batchId);for(const A of _.mutations)y=y.add(A.key)}for(const _ of c){p.push(_.batchId);for(const A of _.mutations)y=y.add(A.key)}return i.localDocuments.getDocuments(a,y).next((_=>({Ls:_,removedBatchIds:d,addedBatchIds:p})))}))}))}function uC(s,t){const i=xt(s);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(a=>{const l=t.batch.keys(),c=i.Ns.newChangeBuffer({trackRemovals:!0});return(function(p,y,_,A){const w=_.batch,x=w.keys();let G=$.resolve();return x.forEach((rt=>{G=G.next((()=>A.getEntry(y,rt))).next((st=>{const nt=_.docVersions.get(rt);he(nt!==null,48541),st.version.compareTo(nt)<0&&(w.applyToRemoteDocument(st,_),st.isValidDocument()&&(st.setReadTime(_.commitVersion),A.addEntry(st)))}))})),G.next((()=>p.mutationQueue.removeMutationBatch(y,w)))})(i,a,t,c).next((()=>c.apply(a))).next((()=>i.mutationQueue.performConsistencyCheck(a))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(a,l,t.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,(function(p){let y=Wt();for(let _=0;_<p.mutationResults.length;++_)p.mutationResults[_].transformResults.length>0&&(y=y.add(p.batch.mutations[_].key));return y})(t)))).next((()=>i.localDocuments.getDocuments(a,l)))}))}function sE(s){const t=xt(s);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>t.Pi.getLastRemoteSnapshotVersion(i)))}function cC(s,t){const i=xt(s),a=t.snapshotVersion;let l=i.Ms;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const d=i.Ns.newChangeBuffer({trackRemovals:!0});l=i.Ms;const p=[];t.targetChanges.forEach(((A,w)=>{const x=l.get(w);if(!x)return;p.push(i.Pi.removeMatchingKeys(c,A.removedDocuments,w).next((()=>i.Pi.addMatchingKeys(c,A.addedDocuments,w))));let G=x.withSequenceNumber(c.currentSequenceNumber);t.targetMismatches.get(w)!==null?G=G.withResumeToken(gn.EMPTY_BYTE_STRING,Vt.min()).withLastLimboFreeSnapshotVersion(Vt.min()):A.resumeToken.approximateByteSize()>0&&(G=G.withResumeToken(A.resumeToken,a)),l=l.insert(w,G),(function(st,nt,St){return st.resumeToken.approximateByteSize()===0||nt.snapshotVersion.toMicroseconds()-st.snapshotVersion.toMicroseconds()>=aC?!0:St.addedDocuments.size+St.modifiedDocuments.size+St.removedDocuments.size>0})(x,G,A)&&p.push(i.Pi.updateTargetData(c,G))}));let y=Nr(),_=Wt();if(t.documentUpdates.forEach((A=>{t.resolvedLimboDocuments.has(A)&&p.push(i.persistence.referenceDelegate.updateLimboDocument(c,A))})),p.push(hC(c,d,t.documentUpdates).next((A=>{y=A.ks,_=A.qs}))),!a.isEqual(Vt.min())){const A=i.Pi.getLastRemoteSnapshotVersion(c).next((w=>i.Pi.setTargetsMetadata(c,c.currentSequenceNumber,a)));p.push(A)}return $.waitFor(p).next((()=>d.apply(c))).next((()=>i.localDocuments.getLocalViewOfDocuments(c,y,_))).next((()=>y))})).then((c=>(i.Ms=l,c)))}function hC(s,t,i){let a=Wt(),l=Wt();return i.forEach((c=>a=a.add(c))),t.getEntries(s,a).next((c=>{let d=Nr();return i.forEach(((p,y)=>{const _=c.get(p);y.isFoundDocument()!==_.isFoundDocument()&&(l=l.add(p)),y.isNoDocument()&&y.version.isEqual(Vt.min())?(t.removeEntry(p,y.readTime),d=d.insert(p,y)):!_.isValidDocument()||y.version.compareTo(_.version)>0||y.version.compareTo(_.version)===0&&_.hasPendingWrites?(t.addEntry(y),d=d.insert(p,y)):ht(Qm,"Ignoring outdated watch update for ",p,". Current version:",_.version," Watch version:",y.version)})),{ks:d,qs:l}}))}function fC(s,t){const i=xt(s);return i.persistence.runTransaction("Get next mutation batch","readonly",(a=>(t===void 0&&(t=Lm),i.mutationQueue.getNextMutationBatchAfterBatchId(a,t))))}function dC(s,t){const i=xt(s);return i.persistence.runTransaction("Allocate target","readwrite",(a=>{let l;return i.Pi.getTargetData(a,t).next((c=>c?(l=c,$.resolve(l)):i.Pi.allocateTargetId(a).next((d=>(l=new ps(t,d,"TargetPurposeListen",a.currentSequenceNumber),i.Pi.addTargetData(a,l).next((()=>l)))))))})).then((a=>{const l=i.Ms.get(a.targetId);return(l===null||a.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(i.Ms=i.Ms.insert(a.targetId,a),i.xs.set(t,a.targetId)),a}))}async function fm(s,t,i){const a=xt(s),l=a.Ms.get(t),c=i?"readwrite":"readwrite-primary";try{i||await a.persistence.runTransaction("Release target",c,(d=>a.persistence.referenceDelegate.removeTarget(d,l)))}catch(d){if(!Oo(d))throw d;ht(Qm,`Failed to update sequence numbers for target ${t}: ${d}`)}a.Ms=a.Ms.remove(t),a.xs.delete(l.target)}function H0(s,t,i){const a=xt(s);let l=Vt.min(),c=Wt();return a.persistence.runTransaction("Execute query","readwrite",(d=>(function(y,_,A){const w=xt(y),x=w.xs.get(A);return x!==void 0?$.resolve(w.Ms.get(x)):w.Pi.getTargetData(_,A)})(a,d,Qi(t)).next((p=>{if(p)return l=p.lastLimboFreeSnapshotVersion,a.Pi.getMatchingKeysForTargetId(d,p.targetId).next((y=>{c=y}))})).next((()=>a.Fs.getDocumentsMatchingQuery(d,t,i?l:Vt.min(),i?c:Wt()))).next((p=>(mC(a,W2(t),p),{documents:p,Qs:c})))))}function mC(s,t,i){let a=s.Os.get(t)||Vt.min();i.forEach(((l,c)=>{c.readTime.compareTo(a)>0&&(a=c.readTime)})),s.Os.set(t,a)}class G0{constructor(){this.activeTargetIds=sR()}zs(t){this.activeTargetIds=this.activeTargetIds.add(t)}js(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Gs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class gC{constructor(){this.Mo=new G0,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,i,a){}addLocalQueryTarget(t,i=!0){return i&&this.Mo.zs(t),this.xo[t]||"not-current"}updateQueryState(t,i,a){this.xo[t]=i}removeLocalQueryTarget(t){this.Mo.js(t)}isLocalQueryTarget(t){return this.Mo.activeTargetIds.has(t)}clearQueryState(t){delete this.xo[t]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(t){return this.Mo.activeTargetIds.has(t)}start(){return this.Mo=new G0,Promise.resolve()}handleUserChange(t,i,a){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pC{Oo(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F0="ConnectivityMonitor";class Y0{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(t){this.qo.push(t)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ht(F0,"Network connectivity changed: AVAILABLE");for(const t of this.qo)t(0)}ko(){ht(F0,"Network connectivity changed: UNAVAILABLE");for(const t of this.qo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let kc=null;function dm(){return kc===null?kc=(function(){return 268435456+Math.round(2147483648*Math.random())})():kc++,"0x"+kc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hd="RestConnection",yC={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class _C{get $o(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const i=t.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.Uo=i+"://"+t.host,this.Ko=`projects/${a}/databases/${l}`,this.Wo=this.databaseId.database===rh?`project_id=${a}`:`project_id=${a}&database_id=${l}`}Go(t,i,a,l,c){const d=dm(),p=this.zo(t,i.toUriEncodedString());ht(Hd,`Sending RPC '${t}' ${d}:`,p,a);const y={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(y,l,c);const{host:_}=new URL(p),A=Ro(_);return this.Jo(t,p,y,a,A).then((w=>(ht(Hd,`Received RPC '${t}' ${d}: `,w),w)),(w=>{throw vo(Hd,`RPC '${t}' ${d} failed with error: `,w,"url: ",p,"request:",a),w}))}Ho(t,i,a,l,c,d){return this.Go(t,i,a,l,c)}jo(t,i,a){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+No})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((l,c)=>t[c]=l)),a&&a.headers.forEach(((l,c)=>t[c]=l))}zo(t,i){const a=yC[t];return`${this.Uo}/v1/${i}:${a}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vC{constructor(t){this.Yo=t.Yo,this.Zo=t.Zo}Xo(t){this.e_=t}t_(t){this.n_=t}r_(t){this.i_=t}onMessage(t){this.s_=t}close(){this.Zo()}send(t){this.Yo(t)}o_(){this.e_()}__(){this.n_()}a_(t){this.i_(t)}u_(t){this.s_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yn="WebChannelConnection";class TC extends _C{constructor(t){super(t),this.c_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,i,a,l,c){const d=dm();return new Promise(((p,y)=>{const _=new lT;_.setWithCredentials(!0),_.listenOnce(uT.COMPLETE,(()=>{try{switch(_.getLastErrorCode()){case Hc.NO_ERROR:const w=_.getResponseJson();ht(yn,`XHR for RPC '${t}' ${d} received:`,JSON.stringify(w)),p(w);break;case Hc.TIMEOUT:ht(yn,`RPC '${t}' ${d} timed out`),y(new _t(et.DEADLINE_EXCEEDED,"Request time out"));break;case Hc.HTTP_ERROR:const x=_.getStatus();if(ht(yn,`RPC '${t}' ${d} failed with status:`,x,"response text:",_.getResponseText()),x>0){let G=_.getResponseJson();Array.isArray(G)&&(G=G[0]);const rt=G==null?void 0:G.error;if(rt&&rt.status&&rt.message){const st=(function(St){const Tt=St.toLowerCase().replace(/_/g,"-");return Object.values(et).indexOf(Tt)>=0?Tt:et.UNKNOWN})(rt.status);y(new _t(st,rt.message))}else y(new _t(et.UNKNOWN,"Server responded with status "+_.getStatus()))}else y(new _t(et.UNAVAILABLE,"Connection failed."));break;default:Ct(9055,{l_:t,streamId:d,h_:_.getLastErrorCode(),P_:_.getLastError()})}}finally{ht(yn,`RPC '${t}' ${d} completed.`)}}));const A=JSON.stringify(l);ht(yn,`RPC '${t}' ${d} sending request:`,l),_.send(i,"POST",A,a,15)}))}T_(t,i,a){const l=dm(),c=[this.Uo,"/","google.firestore.v1.Firestore","/",t,"/channel"],d=fT(),p=hT(),y={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},_=this.longPollingOptions.timeoutSeconds;_!==void 0&&(y.longPollingTimeout=Math.round(1e3*_)),this.useFetchStreams&&(y.useFetchStreams=!0),this.jo(y.initMessageHeaders,i,a),y.encodeInitMessageHeaders=!0;const A=c.join("");ht(yn,`Creating RPC '${t}' stream ${l}: ${A}`,y);const w=d.createWebChannel(A,y);this.I_(w);let x=!1,G=!1;const rt=new vC({Yo:nt=>{G?ht(yn,`Not sending because RPC '${t}' stream ${l} is closed:`,nt):(x||(ht(yn,`Opening RPC '${t}' stream ${l} transport.`),w.open(),x=!0),ht(yn,`RPC '${t}' stream ${l} sending:`,nt),w.send(nt))},Zo:()=>w.close()}),st=(nt,St,Tt)=>{nt.listen(St,(pt=>{try{Tt(pt)}catch(Gt){setTimeout((()=>{throw Gt}),0)}}))};return st(w,Vl.EventType.OPEN,(()=>{G||(ht(yn,`RPC '${t}' stream ${l} transport opened.`),rt.o_())})),st(w,Vl.EventType.CLOSE,(()=>{G||(G=!0,ht(yn,`RPC '${t}' stream ${l} transport closed`),rt.a_(),this.E_(w))})),st(w,Vl.EventType.ERROR,(nt=>{G||(G=!0,vo(yn,`RPC '${t}' stream ${l} transport errored. Name:`,nt.name,"Message:",nt.message),rt.a_(new _t(et.UNAVAILABLE,"The operation could not be completed")))})),st(w,Vl.EventType.MESSAGE,(nt=>{var St;if(!G){const Tt=nt.data[0];he(!!Tt,16349);const pt=Tt,Gt=(pt==null?void 0:pt.error)||((St=pt[0])==null?void 0:St.error);if(Gt){ht(yn,`RPC '${t}' stream ${l} received error:`,Gt);const re=Gt.status;let kt=(function(I){const V=Ze[I];if(V!==void 0)return YT(V)})(re),D=Gt.message;kt===void 0&&(kt=et.INTERNAL,D="Unknown error status: "+re+" with message "+Gt.message),G=!0,rt.a_(new _t(kt,D)),w.close()}else ht(yn,`RPC '${t}' stream ${l} received:`,Tt),rt.u_(Tt)}})),st(p,cT.STAT_EVENT,(nt=>{nt.stat===em.PROXY?ht(yn,`RPC '${t}' stream ${l} detected buffering proxy`):nt.stat===em.NOPROXY&&ht(yn,`RPC '${t}' stream ${l} detected no buffering proxy`)})),setTimeout((()=>{rt.__()}),0),rt}terminate(){this.c_.forEach((t=>t.close())),this.c_=[]}I_(t){this.c_.push(t)}E_(t){this.c_=this.c_.filter((i=>i===t))}}function Gd(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ih(s){return new bR(s,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aE{constructor(t,i,a=1e3,l=1.5,c=6e4){this.Mi=t,this.timerId=i,this.d_=a,this.A_=l,this.R_=c,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(t){this.cancel();const i=Math.floor(this.V_+this.y_()),a=Math.max(0,Date.now()-this.f_),l=Math.max(0,i-a);l>0&&ht("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.V_} ms, delay with jitter: ${i} ms, last attempt: ${a} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,l,(()=>(this.f_=Date.now(),t()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q0="PersistentStream";class oE{constructor(t,i,a,l,c,d,p,y){this.Mi=t,this.S_=a,this.b_=l,this.connection=c,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=p,this.listener=y,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new aE(t,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(t){this.Q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,i){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():i&&i.code===et.RESOURCE_EXHAUSTED?(Ir(i.toString()),Ir("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===et.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.r_(i)}K_(){}auth(){this.state=1;const t=this.W_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([a,l])=>{this.D_===i&&this.G_(a,l)}),(a=>{t((()=>{const l=new _t(et.UNKNOWN,"Fetching auth token failed: "+a.message);return this.z_(l)}))}))}G_(t,i){const a=this.W_(this.D_);this.stream=this.j_(t,i),this.stream.Xo((()=>{a((()=>this.listener.Xo()))})),this.stream.t_((()=>{a((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((l=>{a((()=>this.z_(l)))})),this.stream.onMessage((l=>{a((()=>++this.F_==1?this.J_(l):this.onNext(l)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return ht(Q0,`close with error: ${t}`),this.stream=null,this.close(4,t)}W_(t){return i=>{this.Mi.enqueueAndForget((()=>this.D_===t?i():(ht(Q0,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class EC extends oE{constructor(t,i,a,l,c,d){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,a,l,d),this.serializer=c}j_(t,i){return this.connection.T_("Listen",t,i)}J_(t){return this.onNext(t)}onNext(t){this.M_.reset();const i=CR(this.serializer,t),a=(function(c){if(!("targetChange"in c))return Vt.min();const d=c.targetChange;return d.targetIds&&d.targetIds.length?Vt.min():d.readTime?Ki(d.readTime):Vt.min()})(t);return this.listener.H_(i,a)}Y_(t){const i={};i.database=hm(this.serializer),i.addTarget=(function(c,d){let p;const y=d.target;if(p=am(y)?{documents:DR(c,y)}:{query:OR(c,y).ft},p.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){p.resumeToken=XT(c,d.resumeToken);const _=lm(c,d.expectedCount);_!==null&&(p.expectedCount=_)}else if(d.snapshotVersion.compareTo(Vt.min())>0){p.readTime=ch(c,d.snapshotVersion.toTimestamp());const _=lm(c,d.expectedCount);_!==null&&(p.expectedCount=_)}return p})(this.serializer,t);const a=VR(this.serializer,t);a&&(i.labels=a),this.q_(i)}Z_(t){const i={};i.database=hm(this.serializer),i.removeTarget=t,this.q_(i)}}class SC extends oE{constructor(t,i,a,l,c,d){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,a,l,d),this.serializer=c}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(t,i){return this.connection.T_("Write",t,i)}J_(t){return he(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,he(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){he(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const i=NR(t.writeResults,t.commitTime),a=Ki(t.commitTime);return this.listener.na(a,i)}ra(){const t={};t.database=hm(this.serializer),this.q_(t)}ea(t){const i={streamToken:this.lastStreamToken,writes:t.map((a=>IR(this.serializer,a)))};this.q_(i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AC{}class bC extends AC{constructor(t,i,a,l){super(),this.authCredentials=t,this.appCheckCredentials=i,this.connection=a,this.serializer=l,this.ia=!1}sa(){if(this.ia)throw new _t(et.FAILED_PRECONDITION,"The client has already been terminated.")}Go(t,i,a,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Go(t,um(i,a),l,c,d))).catch((c=>{throw c.name==="FirebaseError"?(c.code===et.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new _t(et.UNKNOWN,c.toString())}))}Ho(t,i,a,l,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,p])=>this.connection.Ho(t,um(i,a),l,d,p,c))).catch((d=>{throw d.name==="FirebaseError"?(d.code===et.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new _t(et.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class wC{constructor(t,i){this.asyncQueue=t,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const i=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Ir(i),this.aa=!1):ht("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const da="RemoteStore";class RC{constructor(t,i,a,l,c){this.localStore=t,this.datastore=i,this.asyncQueue=a,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=c,this.Aa.Oo((d=>{a.enqueueAndForget((async()=>{ya(this)&&(ht(da,"Restarting streams for network reachability change."),await(async function(y){const _=xt(y);_.Ea.add(4),await lu(_),_.Ra.set("Unknown"),_.Ea.delete(4),await Nh(_)})(this))}))})),this.Ra=new wC(a,l)}}async function Nh(s){if(ya(s))for(const t of s.da)await t(!0)}async function lu(s){for(const t of s.da)await t(!1)}function lE(s,t){const i=xt(s);i.Ia.has(t.targetId)||(i.Ia.set(t.targetId,t),Jm(i)?Zm(i):Mo(i).O_()&&Xm(i,t))}function Km(s,t){const i=xt(s),a=Mo(i);i.Ia.delete(t),a.O_()&&uE(i,t),i.Ia.size===0&&(a.O_()?a.L_():ya(i)&&i.Ra.set("Unknown"))}function Xm(s,t){if(s.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Vt.min())>0){const i=s.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(i)}Mo(s).Y_(t)}function uE(s,t){s.Va.Ue(t),Mo(s).Z_(t)}function Zm(s){s.Va=new TR({getRemoteKeysForTarget:t=>s.remoteSyncer.getRemoteKeysForTarget(t),At:t=>s.Ia.get(t)||null,ht:()=>s.datastore.serializer.databaseId}),Mo(s).start(),s.Ra.ua()}function Jm(s){return ya(s)&&!Mo(s).x_()&&s.Ia.size>0}function ya(s){return xt(s).Ea.size===0}function cE(s){s.Va=void 0}async function CC(s){s.Ra.set("Online")}async function IC(s){s.Ia.forEach(((t,i)=>{Xm(s,t)}))}async function NC(s,t){cE(s),Jm(s)?(s.Ra.ha(t),Zm(s)):s.Ra.set("Unknown")}async function DC(s,t,i){if(s.Ra.set("Online"),t instanceof KT&&t.state===2&&t.cause)try{await(async function(l,c){const d=c.cause;for(const p of c.targetIds)l.Ia.has(p)&&(await l.remoteSyncer.rejectListen(p,d),l.Ia.delete(p),l.Va.removeTarget(p))})(s,t)}catch(a){ht(da,"Failed to remove targets %s: %s ",t.targetIds.join(","),a),await fh(s,a)}else if(t instanceof Qc?s.Va.Ze(t):t instanceof QT?s.Va.st(t):s.Va.tt(t),!i.isEqual(Vt.min()))try{const a=await sE(s.localStore);i.compareTo(a)>=0&&await(function(c,d){const p=c.Va.Tt(d);return p.targetChanges.forEach(((y,_)=>{if(y.resumeToken.approximateByteSize()>0){const A=c.Ia.get(_);A&&c.Ia.set(_,A.withResumeToken(y.resumeToken,d))}})),p.targetMismatches.forEach(((y,_)=>{const A=c.Ia.get(y);if(!A)return;c.Ia.set(y,A.withResumeToken(gn.EMPTY_BYTE_STRING,A.snapshotVersion)),uE(c,y);const w=new ps(A.target,y,_,A.sequenceNumber);Xm(c,w)})),c.remoteSyncer.applyRemoteEvent(p)})(s,i)}catch(a){ht(da,"Failed to raise snapshot:",a),await fh(s,a)}}async function fh(s,t,i){if(!Oo(t))throw t;s.Ea.add(1),await lu(s),s.Ra.set("Offline"),i||(i=()=>sE(s.localStore)),s.asyncQueue.enqueueRetryable((async()=>{ht(da,"Retrying IndexedDB access"),await i(),s.Ea.delete(1),await Nh(s)}))}function hE(s,t){return t().catch((i=>fh(s,i,t)))}async function Dh(s){const t=xt(s),i=Cs(t);let a=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:Lm;for(;OC(t);)try{const l=await fC(t.localStore,a);if(l===null){t.Ta.length===0&&i.L_();break}a=l.batchId,MC(t,l)}catch(l){await fh(t,l)}fE(t)&&dE(t)}function OC(s){return ya(s)&&s.Ta.length<10}function MC(s,t){s.Ta.push(t);const i=Cs(s);i.O_()&&i.X_&&i.ea(t.mutations)}function fE(s){return ya(s)&&!Cs(s).x_()&&s.Ta.length>0}function dE(s){Cs(s).start()}async function VC(s){Cs(s).ra()}async function LC(s){const t=Cs(s);for(const i of s.Ta)t.ea(i.mutations)}async function xC(s,t,i){const a=s.Ta.shift(),l=jm.from(a,t,i);await hE(s,(()=>s.remoteSyncer.applySuccessfulWrite(l))),await Dh(s)}async function kC(s,t){t&&Cs(s).X_&&await(async function(a,l){if((function(d){return yR(d)&&d!==et.ABORTED})(l.code)){const c=a.Ta.shift();Cs(a).B_(),await hE(a,(()=>a.remoteSyncer.rejectFailedWrite(c.batchId,l))),await Dh(a)}})(s,t),fE(s)&&dE(s)}async function K0(s,t){const i=xt(s);i.asyncQueue.verifyOperationInProgress(),ht(da,"RemoteStore received new credentials");const a=ya(i);i.Ea.add(3),await lu(i),a&&i.Ra.set("Unknown"),await i.remoteSyncer.handleCredentialChange(t),i.Ea.delete(3),await Nh(i)}async function UC(s,t){const i=xt(s);t?(i.Ea.delete(2),await Nh(i)):t||(i.Ea.add(2),await lu(i),i.Ra.set("Unknown"))}function Mo(s){return s.ma||(s.ma=(function(i,a,l){const c=xt(i);return c.sa(),new EC(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(s.datastore,s.asyncQueue,{Xo:CC.bind(null,s),t_:IC.bind(null,s),r_:NC.bind(null,s),H_:DC.bind(null,s)}),s.da.push((async t=>{t?(s.ma.B_(),Jm(s)?Zm(s):s.Ra.set("Unknown")):(await s.ma.stop(),cE(s))}))),s.ma}function Cs(s){return s.fa||(s.fa=(function(i,a,l){const c=xt(i);return c.sa(),new SC(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(s.datastore,s.asyncQueue,{Xo:()=>Promise.resolve(),t_:VC.bind(null,s),r_:kC.bind(null,s),ta:LC.bind(null,s),na:xC.bind(null,s)}),s.da.push((async t=>{t?(s.fa.B_(),await Dh(s)):(await s.fa.stop(),s.Ta.length>0&&(ht(da,`Stopping write stream with ${s.Ta.length} pending writes`),s.Ta=[]))}))),s.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $m{constructor(t,i,a,l,c){this.asyncQueue=t,this.timerId=i,this.targetTimeMs=a,this.op=l,this.removalCallback=c,this.deferred=new Es,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,i,a,l,c){const d=Date.now()+a,p=new $m(t,i,d,l,c);return p.start(a),p}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new _t(et.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Wm(s,t){if(Ir("AsyncQueue",`${t}: ${s}`),Oo(s))return new _t(et.UNAVAILABLE,`${t}: ${s}`);throw s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class po{static emptySet(t){return new po(t.comparator)}constructor(t){this.comparator=t?(i,a)=>t(i,a)||At.comparator(i.key,a.key):(i,a)=>At.comparator(i.key,a.key),this.keyedMap=Ll(),this.sortedSet=new Oe(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const i=this.keyedMap.get(t);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((i,a)=>(t(i),!1)))}add(t){const i=this.delete(t.key);return i.copy(i.keyedMap.insert(t.key,t),i.sortedSet.insert(t,null))}delete(t){const i=this.get(t);return i?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(i)):this}isEqual(t){if(!(t instanceof po)||this.size!==t.size)return!1;const i=this.sortedSet.getIterator(),a=t.sortedSet.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=a.getNext().key;if(!l.isEqual(c))return!1}return!0}toString(){const t=[];return this.forEach((i=>{t.push(i.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,i){const a=new po;return a.comparator=this.comparator,a.keyedMap=t,a.sortedSet=i,a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X0{constructor(){this.ga=new Oe(At.comparator)}track(t){const i=t.doc.key,a=this.ga.get(i);a?t.type!==0&&a.type===3?this.ga=this.ga.insert(i,t):t.type===3&&a.type!==1?this.ga=this.ga.insert(i,{type:a.type,doc:t.doc}):t.type===2&&a.type===2?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):t.type===2&&a.type===0?this.ga=this.ga.insert(i,{type:0,doc:t.doc}):t.type===1&&a.type===0?this.ga=this.ga.remove(i):t.type===1&&a.type===2?this.ga=this.ga.insert(i,{type:1,doc:a.doc}):t.type===0&&a.type===1?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):Ct(63341,{Rt:t,pa:a}):this.ga=this.ga.insert(i,t)}ya(){const t=[];return this.ga.inorderTraversal(((i,a)=>{t.push(a)})),t}}class bo{constructor(t,i,a,l,c,d,p,y,_){this.query=t,this.docs=i,this.oldDocs=a,this.docChanges=l,this.mutatedKeys=c,this.fromCache=d,this.syncStateChanged=p,this.excludesMetadataChanges=y,this.hasCachedResults=_}static fromInitialDocuments(t,i,a,l,c){const d=[];return i.forEach((p=>{d.push({type:0,doc:p})})),new bo(t,i,po.emptySet(i),d,a,l,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Ah(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const i=this.docChanges,a=t.docChanges;if(i.length!==a.length)return!1;for(let l=0;l<i.length;l++)if(i[l].type!==a[l].type||!i[l].doc.isEqual(a[l].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PC{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((t=>t.Da()))}}class zC{constructor(){this.queries=Z0(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,a){const l=xt(i),c=l.queries;l.queries=Z0(),c.forEach(((d,p)=>{for(const y of p.Sa)y.onError(a)}))})(this,new _t(et.ABORTED,"Firestore shutting down"))}}function Z0(){return new ga((s=>VT(s)),Ah)}async function BC(s,t){const i=xt(s);let a=3;const l=t.query;let c=i.queries.get(l);c?!c.ba()&&t.Da()&&(a=2):(c=new PC,a=t.Da()?0:1);try{switch(a){case 0:c.wa=await i.onListen(l,!0);break;case 1:c.wa=await i.onListen(l,!1);break;case 2:await i.onFirstRemoteStoreListen(l)}}catch(d){const p=Wm(d,`Initialization of query '${lo(t.query)}' failed`);return void t.onError(p)}i.queries.set(l,c),c.Sa.push(t),t.va(i.onlineState),c.wa&&t.Fa(c.wa)&&tg(i)}async function jC(s,t){const i=xt(s),a=t.query;let l=3;const c=i.queries.get(a);if(c){const d=c.Sa.indexOf(t);d>=0&&(c.Sa.splice(d,1),c.Sa.length===0?l=t.Da()?0:1:!c.ba()&&t.Da()&&(l=2))}switch(l){case 0:return i.queries.delete(a),i.onUnlisten(a,!0);case 1:return i.queries.delete(a),i.onUnlisten(a,!1);case 2:return i.onLastRemoteStoreUnlisten(a);default:return}}function qC(s,t){const i=xt(s);let a=!1;for(const l of t){const c=l.query,d=i.queries.get(c);if(d){for(const p of d.Sa)p.Fa(l)&&(a=!0);d.wa=l}}a&&tg(i)}function HC(s,t,i){const a=xt(s),l=a.queries.get(t);if(l)for(const c of l.Sa)c.onError(i);a.queries.delete(t)}function tg(s){s.Ca.forEach((t=>{t.next()}))}var mm,J0;(J0=mm||(mm={})).Ma="default",J0.Cache="cache";class GC{constructor(t,i,a){this.query=t,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=a||{}}Fa(t){if(!this.options.includeMetadataChanges){const a=[];for(const l of t.docChanges)l.type!==3&&a.push(l);t=new bo(t.query,t.docs,t.oldDocs,a,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let i=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),i=!0):this.La(t,this.onlineState)&&(this.ka(t),i=!0),this.Na=t,i}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),i=!0),i}La(t,i){if(!t.fromCache||!this.Da())return!0;const a=i!=="Offline";return(!this.options.qa||!a)&&(!t.docs.isEmpty()||t.hasCachedResults||i==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(t){t=bo.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==mm.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mE{constructor(t){this.key=t}}class gE{constructor(t){this.key=t}}class FC{constructor(t,i){this.query=t,this.Ya=i,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Wt(),this.mutatedKeys=Wt(),this.eu=LT(t),this.tu=new po(this.eu)}get nu(){return this.Ya}ru(t,i){const a=i?i.iu:new X0,l=i?i.tu:this.tu;let c=i?i.mutatedKeys:this.mutatedKeys,d=l,p=!1;const y=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,_=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(t.inorderTraversal(((A,w)=>{const x=l.get(A),G=bh(this.query,w)?w:null,rt=!!x&&this.mutatedKeys.has(x.key),st=!!G&&(G.hasLocalMutations||this.mutatedKeys.has(G.key)&&G.hasCommittedMutations);let nt=!1;x&&G?x.data.isEqual(G.data)?rt!==st&&(a.track({type:3,doc:G}),nt=!0):this.su(x,G)||(a.track({type:2,doc:G}),nt=!0,(y&&this.eu(G,y)>0||_&&this.eu(G,_)<0)&&(p=!0)):!x&&G?(a.track({type:0,doc:G}),nt=!0):x&&!G&&(a.track({type:1,doc:x}),nt=!0,(y||_)&&(p=!0)),nt&&(G?(d=d.add(G),c=st?c.add(A):c.delete(A)):(d=d.delete(A),c=c.delete(A)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const A=this.query.limitType==="F"?d.last():d.first();d=d.delete(A.key),c=c.delete(A.key),a.track({type:1,doc:A})}return{tu:d,iu:a,Cs:p,mutatedKeys:c}}su(t,i){return t.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(t,i,a,l){const c=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const d=t.iu.ya();d.sort(((A,w)=>(function(G,rt){const st=nt=>{switch(nt){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ct(20277,{Rt:nt})}};return st(G)-st(rt)})(A.type,w.type)||this.eu(A.doc,w.doc))),this.ou(a),l=l??!1;const p=i&&!l?this._u():[],y=this.Xa.size===0&&this.current&&!l?1:0,_=y!==this.Za;return this.Za=y,d.length!==0||_?{snapshot:new bo(this.query,t.tu,c,d,t.mutatedKeys,y===0,_,!1,!!a&&a.resumeToken.approximateByteSize()>0),au:p}:{au:p}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new X0,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(t){return!this.Ya.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((i=>this.Ya=this.Ya.add(i))),t.modifiedDocuments.forEach((i=>{})),t.removedDocuments.forEach((i=>this.Ya=this.Ya.delete(i))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Xa;this.Xa=Wt(),this.tu.forEach((a=>{this.uu(a.key)&&(this.Xa=this.Xa.add(a.key))}));const i=[];return t.forEach((a=>{this.Xa.has(a)||i.push(new gE(a))})),this.Xa.forEach((a=>{t.has(a)||i.push(new mE(a))})),i}cu(t){this.Ya=t.Qs,this.Xa=Wt();const i=this.ru(t.documents);return this.applyChanges(i,!0)}lu(){return bo.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const eg="SyncEngine";class YC{constructor(t,i,a){this.query=t,this.targetId=i,this.view=a}}class QC{constructor(t){this.key=t,this.hu=!1}}class KC{constructor(t,i,a,l,c,d){this.localStore=t,this.remoteStore=i,this.eventManager=a,this.sharedClientState=l,this.currentUser=c,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new ga((p=>VT(p)),Ah),this.Iu=new Map,this.Eu=new Set,this.du=new Oe(At.comparator),this.Au=new Map,this.Ru=new Gm,this.Vu={},this.mu=new Map,this.fu=Ao.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function XC(s,t,i=!0){const a=EE(s);let l;const c=a.Tu.get(t);return c?(a.sharedClientState.addLocalQueryTarget(c.targetId),l=c.view.lu()):l=await pE(a,t,i,!0),l}async function ZC(s,t){const i=EE(s);await pE(i,t,!0,!1)}async function pE(s,t,i,a){const l=await dC(s.localStore,Qi(t)),c=l.targetId,d=s.sharedClientState.addLocalQueryTarget(c,i);let p;return a&&(p=await JC(s,t,c,d==="current",l.resumeToken)),s.isPrimaryClient&&i&&lE(s.remoteStore,l),p}async function JC(s,t,i,a,l){s.pu=(w,x,G)=>(async function(st,nt,St,Tt){let pt=nt.view.ru(St);pt.Cs&&(pt=await H0(st.localStore,nt.query,!1).then((({documents:D})=>nt.view.ru(D,pt))));const Gt=Tt&&Tt.targetChanges.get(nt.targetId),re=Tt&&Tt.targetMismatches.get(nt.targetId)!=null,kt=nt.view.applyChanges(pt,st.isPrimaryClient,Gt,re);return W0(st,nt.targetId,kt.au),kt.snapshot})(s,w,x,G);const c=await H0(s.localStore,t,!0),d=new FC(t,c.Qs),p=d.ru(c.documents),y=ou.createSynthesizedTargetChangeForCurrentChange(i,a&&s.onlineState!=="Offline",l),_=d.applyChanges(p,s.isPrimaryClient,y);W0(s,i,_.au);const A=new YC(t,i,d);return s.Tu.set(t,A),s.Iu.has(i)?s.Iu.get(i).push(t):s.Iu.set(i,[t]),_.snapshot}async function $C(s,t,i){const a=xt(s),l=a.Tu.get(t),c=a.Iu.get(l.targetId);if(c.length>1)return a.Iu.set(l.targetId,c.filter((d=>!Ah(d,t)))),void a.Tu.delete(t);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(l.targetId),a.sharedClientState.isActiveQueryTarget(l.targetId)||await fm(a.localStore,l.targetId,!1).then((()=>{a.sharedClientState.clearQueryState(l.targetId),i&&Km(a.remoteStore,l.targetId),gm(a,l.targetId)})).catch(Do)):(gm(a,l.targetId),await fm(a.localStore,l.targetId,!0))}async function WC(s,t){const i=xt(s),a=i.Tu.get(t),l=i.Iu.get(a.targetId);i.isPrimaryClient&&l.length===1&&(i.sharedClientState.removeLocalQueryTarget(a.targetId),Km(i.remoteStore,a.targetId))}async function tI(s,t,i){const a=oI(s);try{const l=await(function(d,p){const y=xt(d),_=Ce.now(),A=p.reduce(((G,rt)=>G.add(rt.key)),Wt());let w,x;return y.persistence.runTransaction("Locally write mutations","readwrite",(G=>{let rt=Nr(),st=Wt();return y.Ns.getEntries(G,A).next((nt=>{rt=nt,rt.forEach(((St,Tt)=>{Tt.isValidDocument()||(st=st.add(St))}))})).next((()=>y.localDocuments.getOverlayedDocuments(G,rt))).next((nt=>{w=nt;const St=[];for(const Tt of p){const pt=fR(Tt,w.get(Tt.key).overlayedDocument);pt!=null&&St.push(new pa(Tt.key,pt,RT(pt.value.mapValue),wr.exists(!0)))}return y.mutationQueue.addMutationBatch(G,_,St,p)})).next((nt=>{x=nt;const St=nt.applyToLocalDocumentSet(w,st);return y.documentOverlayCache.saveOverlays(G,nt.batchId,St)}))})).then((()=>({batchId:x.batchId,changes:kT(w)})))})(a.localStore,t);a.sharedClientState.addPendingMutation(l.batchId),(function(d,p,y){let _=d.Vu[d.currentUser.toKey()];_||(_=new Oe($t)),_=_.insert(p,y),d.Vu[d.currentUser.toKey()]=_})(a,l.batchId,i),await uu(a,l.changes),await Dh(a.remoteStore)}catch(l){const c=Wm(l,"Failed to persist write");i.reject(c)}}async function yE(s,t){const i=xt(s);try{const a=await cC(i.localStore,t);t.targetChanges.forEach(((l,c)=>{const d=i.Au.get(c);d&&(he(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1,22616),l.addedDocuments.size>0?d.hu=!0:l.modifiedDocuments.size>0?he(d.hu,14607):l.removedDocuments.size>0&&(he(d.hu,42227),d.hu=!1))})),await uu(i,a,t)}catch(a){await Do(a)}}function $0(s,t,i){const a=xt(s);if(a.isPrimaryClient&&i===0||!a.isPrimaryClient&&i===1){const l=[];a.Tu.forEach(((c,d)=>{const p=d.view.va(t);p.snapshot&&l.push(p.snapshot)})),(function(d,p){const y=xt(d);y.onlineState=p;let _=!1;y.queries.forEach(((A,w)=>{for(const x of w.Sa)x.va(p)&&(_=!0)})),_&&tg(y)})(a.eventManager,t),l.length&&a.Pu.H_(l),a.onlineState=t,a.isPrimaryClient&&a.sharedClientState.setOnlineState(t)}}async function eI(s,t,i){const a=xt(s);a.sharedClientState.updateQueryState(t,"rejected",i);const l=a.Au.get(t),c=l&&l.key;if(c){let d=new Oe(At.comparator);d=d.insert(c,vn.newNoDocument(c,Vt.min()));const p=Wt().add(c),y=new Ch(Vt.min(),new Map,new Oe($t),d,p);await yE(a,y),a.du=a.du.remove(c),a.Au.delete(t),ng(a)}else await fm(a.localStore,t,!1).then((()=>gm(a,t,i))).catch(Do)}async function nI(s,t){const i=xt(s),a=t.batch.batchId;try{const l=await uC(i.localStore,t);vE(i,a,null),_E(i,a),i.sharedClientState.updateMutationState(a,"acknowledged"),await uu(i,l)}catch(l){await Do(l)}}async function iI(s,t,i){const a=xt(s);try{const l=await(function(d,p){const y=xt(d);return y.persistence.runTransaction("Reject batch","readwrite-primary",(_=>{let A;return y.mutationQueue.lookupMutationBatch(_,p).next((w=>(he(w!==null,37113),A=w.keys(),y.mutationQueue.removeMutationBatch(_,w)))).next((()=>y.mutationQueue.performConsistencyCheck(_))).next((()=>y.documentOverlayCache.removeOverlaysForBatchId(_,A,p))).next((()=>y.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(_,A))).next((()=>y.localDocuments.getDocuments(_,A)))}))})(a.localStore,t);vE(a,t,i),_E(a,t),a.sharedClientState.updateMutationState(t,"rejected",i),await uu(a,l)}catch(l){await Do(l)}}function _E(s,t){(s.mu.get(t)||[]).forEach((i=>{i.resolve()})),s.mu.delete(t)}function vE(s,t,i){const a=xt(s);let l=a.Vu[a.currentUser.toKey()];if(l){const c=l.get(t);c&&(i?c.reject(i):c.resolve(),l=l.remove(t)),a.Vu[a.currentUser.toKey()]=l}}function gm(s,t,i=null){s.sharedClientState.removeLocalQueryTarget(t);for(const a of s.Iu.get(t))s.Tu.delete(a),i&&s.Pu.yu(a,i);s.Iu.delete(t),s.isPrimaryClient&&s.Ru.jr(t).forEach((a=>{s.Ru.containsKey(a)||TE(s,a)}))}function TE(s,t){s.Eu.delete(t.path.canonicalString());const i=s.du.get(t);i!==null&&(Km(s.remoteStore,i),s.du=s.du.remove(t),s.Au.delete(i),ng(s))}function W0(s,t,i){for(const a of i)a instanceof mE?(s.Ru.addReference(a.key,t),rI(s,a)):a instanceof gE?(ht(eg,"Document no longer in limbo: "+a.key),s.Ru.removeReference(a.key,t),s.Ru.containsKey(a.key)||TE(s,a.key)):Ct(19791,{wu:a})}function rI(s,t){const i=t.key,a=i.path.canonicalString();s.du.get(i)||s.Eu.has(a)||(ht(eg,"New document in limbo: "+i),s.Eu.add(a),ng(s))}function ng(s){for(;s.Eu.size>0&&s.du.size<s.maxConcurrentLimboResolutions;){const t=s.Eu.values().next().value;s.Eu.delete(t);const i=new At(Re.fromString(t)),a=s.fu.next();s.Au.set(a,new QC(i)),s.du=s.du.insert(i,a),lE(s.remoteStore,new ps(Qi(zm(i.path)),a,"TargetPurposeLimboResolution",vh.ce))}}async function uu(s,t,i){const a=xt(s),l=[],c=[],d=[];a.Tu.isEmpty()||(a.Tu.forEach(((p,y)=>{d.push(a.pu(y,t,i).then((_=>{var A;if((_||i)&&a.isPrimaryClient){const w=_?!_.fromCache:(A=i==null?void 0:i.targetChanges.get(y.targetId))==null?void 0:A.current;a.sharedClientState.updateQueryState(y.targetId,w?"current":"not-current")}if(_){l.push(_);const w=Ym.As(y.targetId,_);c.push(w)}})))})),await Promise.all(d),a.Pu.H_(l),await(async function(y,_){const A=xt(y);try{await A.persistence.runTransaction("notifyLocalViewChanges","readwrite",(w=>$.forEach(_,(x=>$.forEach(x.Es,(G=>A.persistence.referenceDelegate.addReference(w,x.targetId,G))).next((()=>$.forEach(x.ds,(G=>A.persistence.referenceDelegate.removeReference(w,x.targetId,G)))))))))}catch(w){if(!Oo(w))throw w;ht(Qm,"Failed to update sequence numbers: "+w)}for(const w of _){const x=w.targetId;if(!w.fromCache){const G=A.Ms.get(x),rt=G.snapshotVersion,st=G.withLastLimboFreeSnapshotVersion(rt);A.Ms=A.Ms.insert(x,st)}}})(a.localStore,c))}async function sI(s,t){const i=xt(s);if(!i.currentUser.isEqual(t)){ht(eg,"User change. New user:",t.toKey());const a=await rE(i.localStore,t);i.currentUser=t,(function(c,d){c.mu.forEach((p=>{p.forEach((y=>{y.reject(new _t(et.CANCELLED,d))}))})),c.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(t,a.removedBatchIds,a.addedBatchIds),await uu(i,a.Ls)}}function aI(s,t){const i=xt(s),a=i.Au.get(t);if(a&&a.hu)return Wt().add(a.key);{let l=Wt();const c=i.Iu.get(t);if(!c)return l;for(const d of c){const p=i.Tu.get(d);l=l.unionWith(p.view.nu)}return l}}function EE(s){const t=xt(s);return t.remoteStore.remoteSyncer.applyRemoteEvent=yE.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=aI.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=eI.bind(null,t),t.Pu.H_=qC.bind(null,t.eventManager),t.Pu.yu=HC.bind(null,t.eventManager),t}function oI(s){const t=xt(s);return t.remoteStore.remoteSyncer.applySuccessfulWrite=nI.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=iI.bind(null,t),t}class dh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=Ih(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,i){return null}Mu(t,i){return null}vu(t){return lC(this.persistence,new sC,t.initialUser,this.serializer)}Cu(t){return new iE(Fm.mi,this.serializer)}Du(t){return new gC}async terminate(){var t,i;(t=this.gcScheduler)==null||t.stop(),(i=this.indexBackfillerScheduler)==null||i.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}dh.provider={build:()=>new dh};class lI extends dh{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,i){he(this.persistence.referenceDelegate instanceof hh,46915);const a=this.persistence.referenceDelegate.garbageCollector;return new GR(a,t.asyncQueue,i)}Cu(t){const i=this.cacheSizeBytes!==void 0?Vn.withCacheSize(this.cacheSizeBytes):Vn.DEFAULT;return new iE((a=>hh.mi(a,i)),this.serializer)}}class pm{async initialize(t,i){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>$0(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=sI.bind(null,this.syncEngine),await UC(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new zC})()}createDatastore(t){const i=Ih(t.databaseInfo.databaseId),a=(function(c){return new TC(c)})(t.databaseInfo);return(function(c,d,p,y){return new bC(c,d,p,y)})(t.authCredentials,t.appCheckCredentials,a,i)}createRemoteStore(t){return(function(a,l,c,d,p){return new RC(a,l,c,d,p)})(this.localStore,this.datastore,t.asyncQueue,(i=>$0(this.syncEngine,i,0)),(function(){return Y0.v()?new Y0:new pC})())}createSyncEngine(t,i){return(function(l,c,d,p,y,_,A){const w=new KC(l,c,d,p,y,_);return A&&(w.gu=!0),w})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,i)}async terminate(){var t,i;await(async function(l){const c=xt(l);ht(da,"RemoteStore shutting down."),c.Ea.add(5),await lu(c),c.Aa.shutdown(),c.Ra.set("Unknown")})(this.remoteStore),(t=this.datastore)==null||t.terminate(),(i=this.eventManager)==null||i.terminate()}}pm.provider={build:()=>new pm};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uI{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):Ir("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,i){setTimeout((()=>{this.muted||t(i)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Is="FirestoreClient";class cI{constructor(t,i,a,l,c){this.authCredentials=t,this.appCheckCredentials=i,this.asyncQueue=a,this.databaseInfo=l,this.user=_n.UNAUTHENTICATED,this.clientId=Mm.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(a,(async d=>{ht(Is,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(a,(d=>(ht(Is,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Es;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(i){const a=Wm(i,"Failed to shutdown persistence");t.reject(a)}})),t.promise}}async function Fd(s,t){s.asyncQueue.verifyOperationInProgress(),ht(Is,"Initializing OfflineComponentProvider");const i=s.configuration;await t.initialize(i);let a=i.initialUser;s.setCredentialChangeListener((async l=>{a.isEqual(l)||(await rE(t.localStore,l),a=l)})),t.persistence.setDatabaseDeletedListener((()=>s.terminate())),s._offlineComponents=t}async function tv(s,t){s.asyncQueue.verifyOperationInProgress();const i=await hI(s);ht(Is,"Initializing OnlineComponentProvider"),await t.initialize(i,s.configuration),s.setCredentialChangeListener((a=>K0(t.remoteStore,a))),s.setAppCheckTokenChangeListener(((a,l)=>K0(t.remoteStore,l))),s._onlineComponents=t}async function hI(s){if(!s._offlineComponents)if(s._uninitializedComponentsProvider){ht(Is,"Using user provided OfflineComponentProvider");try{await Fd(s,s._uninitializedComponentsProvider._offline)}catch(t){const i=t;if(!(function(l){return l.name==="FirebaseError"?l.code===et.FAILED_PRECONDITION||l.code===et.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11})(i))throw i;vo("Error using user provided cache. Falling back to memory cache: "+i),await Fd(s,new dh)}}else ht(Is,"Using default OfflineComponentProvider"),await Fd(s,new lI(void 0));return s._offlineComponents}async function SE(s){return s._onlineComponents||(s._uninitializedComponentsProvider?(ht(Is,"Using user provided OnlineComponentProvider"),await tv(s,s._uninitializedComponentsProvider._online)):(ht(Is,"Using default OnlineComponentProvider"),await tv(s,new pm))),s._onlineComponents}function fI(s){return SE(s).then((t=>t.syncEngine))}async function dI(s){const t=await SE(s),i=t.eventManager;return i.onListen=XC.bind(null,t.syncEngine),i.onUnlisten=$C.bind(null,t.syncEngine),i.onFirstRemoteStoreListen=ZC.bind(null,t.syncEngine),i.onLastRemoteStoreUnlisten=WC.bind(null,t.syncEngine),i}function mI(s,t,i={}){const a=new Es;return s.asyncQueue.enqueueAndForget((async()=>(function(c,d,p,y,_){const A=new uI({next:x=>{A.Nu(),d.enqueueAndForget((()=>jC(c,w)));const G=x.docs.has(p);!G&&x.fromCache?_.reject(new _t(et.UNAVAILABLE,"Failed to get document because the client is offline.")):G&&x.fromCache&&y&&y.source==="server"?_.reject(new _t(et.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):_.resolve(x)},error:x=>_.reject(x)}),w=new GC(zm(p.path),A,{includeMetadataChanges:!0,qa:!0});return BC(c,w)})(await dI(s),s.asyncQueue,t,i,a))),a.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AE(s){const t={};return s.timeoutSeconds!==void 0&&(t.timeoutSeconds=s.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ev=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bE="firestore.googleapis.com",nv=!0;class iv{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new _t(et.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=bE,this.ssl=nv}else this.host=t.host,this.ssl=t.ssl??nv;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=nE;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<qR)throw new _t(et.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}w2("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=AE(t.experimentalLongPollingOptions??{}),(function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new _t(et.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new _t(et.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new _t(et.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(a,l){return a.timeoutSeconds===l.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Oh{constructor(t,i,a,l){this._authCredentials=t,this._appCheckCredentials=i,this._databaseId=a,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new iv({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new _t(et.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new _t(et.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new iv(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(a){if(!a)return new g2;switch(a.type){case"firstParty":return new v2(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new _t(et.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const a=ev.get(i);a&&(ht("ComponentProvider","Removing Datastore"),ev.delete(i),a.terminate())})(this),Promise.resolve()}}function gI(s,t,i,a={}){var _;s=Ql(s,Oh);const l=Ro(t),c=s._getSettings(),d={...c,emulatorOptions:s._getEmulatorOptions()},p=`${t}:${i}`;l&&(Sv(`https://${p}`),Av("Firestore",!0)),c.host!==bE&&c.host!==p&&vo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const y={...c,host:p,ssl:l,emulatorOptions:a};if(!ua(y,d)&&(s._setSettings(y),a.mockUserToken)){let A,w;if(typeof a.mockUserToken=="string")A=a.mockUserToken,w=_n.MOCK_USER;else{A=BS(a.mockUserToken,(_=s._app)==null?void 0:_.options.projectId);const x=a.mockUserToken.sub||a.mockUserToken.user_id;if(!x)throw new _t(et.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");w=new _n(x)}s._authCredentials=new p2(new mT(A,w))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ig{constructor(t,i,a){this.converter=i,this._query=a,this.type="query",this.firestore=t}withConverter(t){return new ig(this.firestore,t,this._query)}}class tn{constructor(t,i,a){this.converter=i,this._key=a,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ss(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new tn(this.firestore,t,this._key)}toJSON(){return{type:tn._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,i,a){if(su(i,tn._jsonSchema))return new tn(t,a||null,new At(Re.fromString(i.referencePath)))}}tn._jsonSchemaVersion="firestore/documentReference/1.0",tn._jsonSchema={type:Je("string",tn._jsonSchemaVersion),referencePath:Je("string")};class Ss extends ig{constructor(t,i,a){super(t,i,zm(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new tn(this.firestore,null,new At(t))}withConverter(t){return new Ss(this.firestore,t,this._path)}}function wE(s,t,...i){if(s=Fn(s),gT("collection","path",t),s instanceof Oh){const a=Re.fromString(t,...i);return y0(a),new Ss(s,null,a)}{if(!(s instanceof tn||s instanceof Ss))throw new _t(et.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=s._path.child(Re.fromString(t,...i));return y0(a),new Ss(s.firestore,null,a)}}function RE(s,t,...i){if(s=Fn(s),arguments.length===1&&(t=Mm.newId()),gT("doc","path",t),s instanceof Oh){const a=Re.fromString(t,...i);return p0(a),new tn(s,null,new At(a))}{if(!(s instanceof tn||s instanceof Ss))throw new _t(et.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=s._path.child(Re.fromString(t,...i));return p0(a),new tn(s.firestore,s instanceof Ss?s.converter:null,new At(a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rv="AsyncQueue";class sv{constructor(t=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new aE(this,"async_queue_retry"),this._c=()=>{const a=Gd();a&&ht(rv,"Visibility state changed to "+a.visibilityState),this.M_.w_()},this.ac=t;const i=Gd();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const i=Gd();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new Es;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Xu.push(t),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(t){if(!Oo(t))throw t;ht(rv,"Operation failed with retryable error: "+t)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const i=this.ac.then((()=>(this.rc=!0,t().catch((a=>{throw this.nc=a,this.rc=!1,Ir("INTERNAL UNHANDLED ERROR: ",av(a)),a})).then((a=>(this.rc=!1,a))))));return this.ac=i,i}enqueueAfterDelay(t,i,a){this.uc(),this.oc.indexOf(t)>-1&&(i=0);const l=$m.createAndSchedule(this,t,i,a,(c=>this.hc(c)));return this.tc.push(l),l}uc(){this.nc&&Ct(47125,{Pc:av(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const i of this.tc)if(i.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((i,a)=>i.targetTimeMs-a.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),t!=="all"&&i.timerId===t)break;return this.Tc()}))}dc(t){this.oc.push(t)}hc(t){const i=this.tc.indexOf(t);this.tc.splice(i,1)}}function av(s){let t=s.message||"";return s.stack&&(t=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),t}class rg extends Oh{constructor(t,i,a,l){super(t,i,a,l),this.type="firestore",this._queue=new sv,this._persistenceKey=(l==null?void 0:l.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new sv(t),this._firestoreClient=void 0,await t}}}function pI(s,t){const i=typeof s=="object"?s:Cv(),a=typeof s=="string"?s:rh,l=Tm(i,"firestore").getImmediate({identifier:a});if(!l._initialized){const c=PS("firestore");c&&gI(l,...c)}return l}function CE(s){if(s._terminated)throw new _t(et.FAILED_PRECONDITION,"The client has already been terminated.");return s._firestoreClient||yI(s),s._firestoreClient}function yI(s){var a,l,c;const t=s._freezeSettings(),i=(function(p,y,_,A){return new k2(p,y,_,A.host,A.ssl,A.experimentalForceLongPolling,A.experimentalAutoDetectLongPolling,AE(A.experimentalLongPollingOptions),A.useFetchStreams,A.isUsingEmulator)})(s._databaseId,((a=s._app)==null?void 0:a.options.appId)||"",s._persistenceKey,t);s._componentsProvider||(l=t.localCache)!=null&&l._offlineComponentProvider&&((c=t.localCache)!=null&&c._onlineComponentProvider)&&(s._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),s._firestoreClient=new cI(s._authCredentials,s._appCheckCredentials,s._queue,i,s._componentsProvider&&(function(p){const y=p==null?void 0:p._online.build();return{_offline:p==null?void 0:p._offline.build(y),_online:y}})(s._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ai{constructor(t){this._byteString=t}static fromBase64String(t){try{return new ai(gn.fromBase64String(t))}catch(i){throw new _t(et.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(t){return new ai(gn.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:ai._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(su(t,ai._jsonSchema))return ai.fromBase64String(t.bytes)}}ai._jsonSchemaVersion="firestore/bytes/1.0",ai._jsonSchema={type:Je("string",ai._jsonSchemaVersion),bytes:Je("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sg{constructor(...t){for(let i=0;i<t.length;++i)if(t[i].length===0)throw new _t(et.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new mn(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IE{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xi{constructor(t,i){if(!isFinite(t)||t<-90||t>90)throw new _t(et.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(i)||i<-180||i>180)throw new _t(et.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=t,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return $t(this._lat,t._lat)||$t(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Xi._jsonSchemaVersion}}static fromJSON(t){if(su(t,Xi._jsonSchema))return new Xi(t.latitude,t.longitude)}}Xi._jsonSchemaVersion="firestore/geoPoint/1.0",Xi._jsonSchema={type:Je("string",Xi._jsonSchemaVersion),latitude:Je("number"),longitude:Je("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zi{constructor(t){this._values=(t||[]).map((i=>i))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(a,l){if(a.length!==l.length)return!1;for(let c=0;c<a.length;++c)if(a[c]!==l[c])return!1;return!0})(this._values,t._values)}toJSON(){return{type:Zi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(su(t,Zi._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((i=>typeof i=="number")))return new Zi(t.vectorValues);throw new _t(et.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Zi._jsonSchemaVersion="firestore/vectorValue/1.0",Zi._jsonSchema={type:Je("string",Zi._jsonSchemaVersion),vectorValues:Je("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _I=/^__.*__$/;class vI{constructor(t,i,a){this.data=t,this.fieldMask=i,this.fieldTransforms=a}toMutation(t,i){return this.fieldMask!==null?new pa(t,this.data,this.fieldMask,i,this.fieldTransforms):new au(t,this.data,i,this.fieldTransforms)}}function NE(s){switch(s){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ct(40011,{Ac:s})}}class ag{constructor(t,i,a,l,c,d){this.settings=t,this.databaseId=i,this.serializer=a,this.ignoreUndefinedProperties=l,c===void 0&&this.Rc(),this.fieldTransforms=c||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(t){return new ag({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(t){var l;const i=(l=this.path)==null?void 0:l.child(t),a=this.Vc({path:i,fc:!1});return a.gc(t),a}yc(t){var l;const i=(l=this.path)==null?void 0:l.child(t),a=this.Vc({path:i,fc:!1});return a.Rc(),a}wc(t){return this.Vc({path:void 0,fc:!0})}Sc(t){return mh(t,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(t){return this.fieldMask.find((i=>t.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>t.isPrefixOf(i.field)))!==void 0}Rc(){if(this.path)for(let t=0;t<this.path.length;t++)this.gc(this.path.get(t))}gc(t){if(t.length===0)throw this.Sc("Document fields must not be empty");if(NE(this.Ac)&&_I.test(t))throw this.Sc('Document fields cannot begin and end with "__"')}}class TI{constructor(t,i,a){this.databaseId=t,this.ignoreUndefinedProperties=i,this.serializer=a||Ih(t)}Cc(t,i,a,l=!1){return new ag({Ac:t,methodName:i,Dc:a,path:mn.emptyPath(),fc:!1,bc:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function EI(s){const t=s._freezeSettings(),i=Ih(s._databaseId);return new TI(s._databaseId,!!t.ignoreUndefinedProperties,i)}function SI(s,t,i,a,l,c={}){const d=s.Cc(c.merge||c.mergeFields?2:0,t,i,l);VE("Data must be an object, but it was:",d,a);const p=OE(a,d);let y,_;if(c.merge)y=new Ai(d.fieldMask),_=d.fieldTransforms;else if(c.mergeFields){const A=[];for(const w of c.mergeFields){const x=AI(t,w,i);if(!d.contains(x))throw new _t(et.INVALID_ARGUMENT,`Field '${x}' is specified in your field mask but missing from your input data.`);wI(A,x)||A.push(x)}y=new Ai(A),_=d.fieldTransforms.filter((w=>y.covers(w.field)))}else y=null,_=d.fieldTransforms;return new vI(new si(p),y,_)}function DE(s,t){if(ME(s=Fn(s)))return VE("Unsupported field value:",t,s),OE(s,t);if(s instanceof IE)return(function(a,l){if(!NE(l.Ac))throw l.Sc(`${a._methodName}() can only be used with update() and set()`);if(!l.path)throw l.Sc(`${a._methodName}() is not currently supported inside arrays`);const c=a._toFieldTransform(l);c&&l.fieldTransforms.push(c)})(s,t),null;if(s===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),s instanceof Array){if(t.settings.fc&&t.Ac!==4)throw t.Sc("Nested arrays are not supported");return(function(a,l){const c=[];let d=0;for(const p of a){let y=DE(p,l.wc(d));y==null&&(y={nullValue:"NULL_VALUE"}),c.push(y),d++}return{arrayValue:{values:c}}})(s,t)}return(function(a,l){if((a=Fn(a))===null)return{nullValue:"NULL_VALUE"};if(typeof a=="number")return aR(l.serializer,a);if(typeof a=="boolean")return{booleanValue:a};if(typeof a=="string")return{stringValue:a};if(a instanceof Date){const c=Ce.fromDate(a);return{timestampValue:ch(l.serializer,c)}}if(a instanceof Ce){const c=new Ce(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:ch(l.serializer,c)}}if(a instanceof Xi)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof ai)return{bytesValue:XT(l.serializer,a._byteString)};if(a instanceof tn){const c=l.databaseId,d=a.firestore._databaseId;if(!d.isEqual(c))throw l.Sc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:Hm(a.firestore._databaseId||l.databaseId,a._key.path)}}if(a instanceof Zi)return(function(d,p){return{mapValue:{fields:{[bT]:{stringValue:wT},[sh]:{arrayValue:{values:d.toArray().map((_=>{if(typeof _!="number")throw p.Sc("VectorValues must only contain numeric values.");return Bm(p.serializer,_)}))}}}}}})(a,l);throw l.Sc(`Unsupported field value: ${Vm(a)}`)})(s,t)}function OE(s,t){const i={};return _T(s)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):ma(s,((a,l)=>{const c=DE(l,t.mc(a));c!=null&&(i[a]=c)})),{mapValue:{fields:i}}}function ME(s){return!(typeof s!="object"||s===null||s instanceof Array||s instanceof Date||s instanceof Ce||s instanceof Xi||s instanceof ai||s instanceof tn||s instanceof IE||s instanceof Zi)}function VE(s,t,i){if(!ME(i)||!pT(i)){const a=Vm(i);throw a==="an object"?t.Sc(s+" a custom object"):t.Sc(s+" "+a)}}function AI(s,t,i){if((t=Fn(t))instanceof sg)return t._internalPath;if(typeof t=="string")return LE(s,t);throw mh("Field path arguments must be of type string or ",s,!1,void 0,i)}const bI=new RegExp("[~\\*/\\[\\]]");function LE(s,t,i){if(t.search(bI)>=0)throw mh(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,s,!1,void 0,i);try{return new sg(...t.split("."))._internalPath}catch{throw mh(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s,!1,void 0,i)}}function mh(s,t,i,a,l){const c=a&&!a.isEmpty(),d=l!==void 0;let p=`Function ${t}() called with invalid data`;i&&(p+=" (via `toFirestore()`)"),p+=". ";let y="";return(c||d)&&(y+=" (found",c&&(y+=` in field ${a}`),d&&(y+=` in document ${l}`),y+=")"),new _t(et.INVALID_ARGUMENT,p+s+y)}function wI(s,t){return s.some((i=>i.isEqual(t)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xE{constructor(t,i,a,l,c){this._firestore=t,this._userDataWriter=i,this._key=a,this._document=l,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new tn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new RI(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const i=this._document.data.field(kE("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i)}}}class RI extends xE{data(){return super.data()}}function kE(s,t){return typeof t=="string"?LE(s,t):t instanceof sg?t._internalPath:t._delegate._internalPath}class CI{convertValue(t,i="none"){switch(Rs(t)){case 0:return null;case 1:return t.booleanValue;case 2:return je(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,i);case 5:return t.stringValue;case 6:return this.convertBytes(ws(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,i);case 11:return this.convertObject(t.mapValue,i);case 10:return this.convertVectorValue(t.mapValue);default:throw Ct(62114,{value:t})}}convertObject(t,i){return this.convertObjectMap(t.fields,i)}convertObjectMap(t,i="none"){const a={};return ma(t,((l,c)=>{a[l]=this.convertValue(c,i)})),a}convertVectorValue(t){var a,l,c;const i=(c=(l=(a=t.fields)==null?void 0:a[sh].arrayValue)==null?void 0:l.values)==null?void 0:c.map((d=>je(d.doubleValue)));return new Zi(i)}convertGeoPoint(t){return new Xi(je(t.latitude),je(t.longitude))}convertArray(t,i){return(t.values||[]).map((a=>this.convertValue(a,i)))}convertServerTimestamp(t,i){switch(i){case"previous":const a=Eh(t);return a==null?null:this.convertValue(a,i);case"estimate":return this.convertTimestamp(Xl(t));default:return null}}convertTimestamp(t){const i=bs(t);return new Ce(i.seconds,i.nanos)}convertDocumentKey(t,i){const a=Re.fromString(t);he(eE(a),9688,{name:t});const l=new Zl(a.get(1),a.get(3)),c=new At(a.popFirst(5));return l.isEqual(i)||Ir(`Document ${c} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function II(s,t,i){let a;return a=s?s.toFirestore(t):t,a}class kl{constructor(t,i){this.hasPendingWrites=t,this.fromCache=i}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class la extends xE{constructor(t,i,a,l,c,d){super(t,i,a,l,d),this._firestore=t,this._firestoreImpl=t,this.metadata=c}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const i=new Kc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,i={}){if(this._document){const a=this._document.data.field(kE("DocumentSnapshot.get",t));if(a!==null)return this._userDataWriter.convertValue(a,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new _t(et.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,i={};return i.type=la._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}la._jsonSchemaVersion="firestore/documentSnapshot/1.0",la._jsonSchema={type:Je("string",la._jsonSchemaVersion),bundleSource:Je("string","DocumentSnapshot"),bundleName:Je("string"),bundle:Je("string")};class Kc extends la{data(t={}){return super.data(t)}}class Hl{constructor(t,i,a,l){this._firestore=t,this._userDataWriter=i,this._snapshot=l,this.metadata=new kl(l.hasPendingWrites,l.fromCache),this.query=a}get docs(){const t=[];return this.forEach((i=>t.push(i))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,i){this._snapshot.docs.forEach((a=>{t.call(i,new Kc(this._firestore,this._userDataWriter,a.key,a,new kl(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const i=!!t.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new _t(et.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(l,c){if(l._snapshot.oldDocs.isEmpty()){let d=0;return l._snapshot.docChanges.map((p=>{const y=new Kc(l._firestore,l._userDataWriter,p.doc.key,p.doc,new kl(l._snapshot.mutatedKeys.has(p.doc.key),l._snapshot.fromCache),l.query.converter);return p.doc,{type:"added",doc:y,oldIndex:-1,newIndex:d++}}))}{let d=l._snapshot.oldDocs;return l._snapshot.docChanges.filter((p=>c||p.type!==3)).map((p=>{const y=new Kc(l._firestore,l._userDataWriter,p.doc.key,p.doc,new kl(l._snapshot.mutatedKeys.has(p.doc.key),l._snapshot.fromCache),l.query.converter);let _=-1,A=-1;return p.type!==0&&(_=d.indexOf(p.doc.key),d=d.delete(p.doc.key)),p.type!==1&&(d=d.add(p.doc),A=d.indexOf(p.doc.key)),{type:NI(p.type),doc:y,oldIndex:_,newIndex:A}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new _t(et.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=Hl._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=Mm.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],a=[],l=[];return this.docs.forEach((c=>{c._document!==null&&(i.push(c._document),a.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),l.push(c.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function NI(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ct(61501,{type:s})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UE(s){s=Ql(s,tn);const t=Ql(s.firestore,rg);return mI(CE(t),s._key).then((i=>VI(t,s,i)))}Hl._jsonSchemaVersion="firestore/querySnapshot/1.0",Hl._jsonSchema={type:Je("string",Hl._jsonSchemaVersion),bundleSource:Je("string","QuerySnapshot"),bundleName:Je("string"),bundle:Je("string")};class DI extends CI{constructor(t){super(),this.firestore=t}convertBytes(t){return new ai(t)}convertReference(t){const i=this.convertDocumentKey(t,this.firestore._databaseId);return new tn(this.firestore,null,i)}}function OI(s,t,i){s=Ql(s,tn);const a=Ql(s.firestore,rg),l=II(s.converter,t);return MI(a,[SI(EI(a),"setDoc",s._key,l,s.converter!==null,i).toMutation(s._key,wr.none())])}function MI(s,t){return(function(a,l){const c=new Es;return a.asyncQueue.enqueueAndForget((async()=>tI(await fI(a),l,c))),c.promise})(CE(s),t)}function VI(s,t,i){const a=i.docs.get(t._key),l=new DI(s);return new la(s,l,t._key,a,new kl(i.hasPendingWrites,i.fromCache),t.converter)}(function(t,i=!0){(function(l){No=l})(Co),yo(new ca("firestore",((a,{instanceIdentifier:l,options:c})=>{const d=a.getProvider("app").getImmediate(),p=new rg(new y2(a.getProvider("auth-internal")),new T2(d,a.getProvider("app-check-internal")),(function(_,A){if(!Object.prototype.hasOwnProperty.apply(_.options,["projectId"]))throw new _t(et.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Zl(_.options.projectId,A)})(d,l),d);return c={useFetchStreams:i,...c},p._setSettings(c),p}),"PUBLIC").setMultipleInstances(!0)),vs(f0,d0,t),vs(f0,d0,"esm2020")})();const LI={apiKey:"AIzaSyDQ1IK6lMlA5ZoCubBS_aLjZy0MGz9QoZY",authDomain:"focused-beacon-431008-t7.firebaseapp.com",projectId:"focused-beacon-431008-t7",storageBucket:"focused-beacon-431008-t7.firebasestorage.app",messagingSenderId:"597425029317",appId:"1:597425029317:web:023f0a6729ca6d90b770ac",measurementId:"G-39V00HBCNL"},PE=Rv(LI),wo=h2(PE),zE=pI(PE);new Fi;const An=600,ho=900,Gl=160,so=[-Gl,0,Gl],ov=[-80,80],xI=150,Uc=100,kI=550,Xe=ho*.3,lv=300,ao={w:70,h:70,d:110},ia=16,uv=45,UI=.01,Ml=5e3,PI=50,zI=18,cv={w:60,h:70,d:40},Pc=3,BI=5,hv=15,jI=20,Yd=3e3,qI=5e3,fv={DAY:{skyTop:"#38bdf8",skyMiddle:"#bae6fd",skyBottom:"#e0f2fe",starsOpacity:0,roadColor:"#334155",roadTextureColor:"#475569",groundColor:"#475569",laneMarkerColor:"#60a5fa",laneMarkerGlow:"#93c5fd",cityBack:"#1e293b",cityFront:"#334155",windowColorWarm:"#1e293b",windowColorCool:"#1e293b",fogColor:"#e0f2fe"},TWILIGHT:{skyTop:"#1e1b4b",skyMiddle:"#c026d3",skyBottom:"#f97316",starsOpacity:.5,roadColor:"#1e293b",roadTextureColor:"#334155",groundColor:"#1e293b",laneMarkerColor:"#c084fc",laneMarkerGlow:"#e879f9",cityBack:"#0f172a",cityFront:"#1e293b",windowColorWarm:"#fbbf24",windowColorCool:"#334155",fogColor:"#f97316"},NIGHT:{skyTop:"#020617",skyMiddle:"#1e1b4b",skyBottom:"#4c1d95",starsOpacity:1,roadColor:"#1a1a1a",roadTextureColor:"#222",groundColor:"#0f0f10",laneMarkerColor:"#a855f7",laneMarkerGlow:"#d8b4fe",cityBack:"#0f172a",cityFront:"#1e293b",windowColorWarm:"#fbbf24",windowColorCool:"#334155",fogColor:"#4c1d95"}};var bn=(s=>(s.MENU="MENU",s.PLAYING="PLAYING",s.GAME_OVER="GAME_OVER",s))(bn||{}),Ti=(s=>(s.OBSTACLE="OBSTACLE",s.COLLECTIBLE="COLLECTIBLE",s.POWERUP="POWERUP",s))(Ti||{}),Hi=(s=>(s.EXHAUST="EXHAUST",s.SPARKLE="SPARKLE",s.DEBRIS="DEBRIS",s.DOLLAR_BILL="DOLLAR_BILL",s))(Hi||{});const Be=(s,t=!1)=>new Promise(i=>{const a=new Image;a.crossOrigin="Anonymous",a.src=s,a.onload=()=>{if(t)try{const l=document.createElement("canvas");l.width=a.width,l.height=a.height;const c=l.getContext("2d");if(c){c.drawImage(a,0,0);const d=c.getImageData(0,0,l.width,l.height),p=d.data;for(let _=0;_<p.length;_+=4){const A=p[_],w=p[_+1],x=p[_+2];A<30&&w<30&&x<30&&(p[_+3]=0)}c.putImageData(d,0,0);const y=new Image;y.onload=()=>i(y),y.src=l.toDataURL();return}}catch(l){console.warn("Could not process image transparency",l)}i(a)},a.onerror=()=>{console.warn(`Failed to load asset: ${s}. Using fallback graphics.`),i(null)}}),HI=async()=>{const s=await Be("/game-assets/gorbage-truck-2.png",!0),t=await Be("/assets/trashbag.jpg"),i=await Be("/assets/binlogo.png"),a=await Be("/assets/intro_bg_new.png"),l=await Be("/assets/intro_bg_new.png"),c=await Be("/assets/ufo.png"),d=await Be("/game-assets/gorbhouse-cry.png",!0),p=await Be("/game-assets/Logo-gor-incinerator.jpg",!0)||await Be("/assets/incinerator.jpg",!0),y=await Be("/game-assets/Gorboyconsole.png",!0)||await Be("/assets/gorboyconsole.png",!0),_=await Be("/assets/gorbillions.png",!0),A=await Be("/game-assets/4.webp",!0),w=await Be("/game-assets/stickerpill.webp",!0),x=await Be("/game-assets/sticker3.webp",!0),G=await Be("/assets/trashbag.png",!0),rt=await Be("/game-assets/trashcoinlogo.png",!0)||await Be("/assets/trashcoin.png",!0),st=await Be("/assets/gorbagana.jpg",!0),nt=await Be("/game-assets/gorbagwallet-removebg-preview.png",!0)||await Be("/assets/wallet.png",!0);return{truck:s,ground:t,introBg:a,introBgNew:l,ufo:c,gorbhouseCry:d,incinerator:p,gorboyConsole:y,gorbillions:_,newObstacle:A,trashBagDecor:G,stickerpill:w,sticker3:x,trashCoin:rt,gorbagana:st,wallet:nt,trashCan:i}},GI=({gameState:s,setGameState:t,setScore:i,setLives:a,setMultiplier:l,onGameOver:c,musicVolume:d,sfxVolume:p})=>{const y=gt.useRef(null),_=gt.useRef(null),A=gt.useRef(null),w=gt.useRef(null),x=gt.useRef({lane:Math.floor(Math.random()*2),x:0,y:0,z:lv,width:ao.w,height:ao.h,depth:ao.d}),G=gt.useRef([]),rt=gt.useRef([]),st=gt.useRef(ia),nt=gt.useRef(ia),St=gt.useRef(0),Tt=gt.useRef(0),pt=gt.useRef(Pc),Gt=gt.useRef(0),re=gt.useRef(0),kt=gt.useRef(0),D=gt.useRef(!1),b=gt.useRef(0),I=gt.useRef(0),V=gt.useRef(0),O=gt.useRef(null),k=gt.useRef(0),C=gt.useRef(0),fe=gt.useRef({stars:[],backCity:[],frontCity:[]}),Se=gt.useRef(0),Y=gt.useRef(0),ot=gt.useRef(1),yt=gt.useRef(null),Ft=gt.useRef(fv.NIGHT),ie=gt.useRef("NIGHT"),L=gt.useRef("CLEAR"),K=gt.useRef([]);gt.useEffect(()=>{(async()=>{w.current=await HI()})();const R=new Date().getHours();let F="NIGHT";R>=7&&R<19?F="DAY":R>=5&&R<7||R>=19&&R<20?F="TWILIGHT":F="NIGHT",Ft.current=fv[F],ie.current=F},[]),gt.useEffect(()=>{if(!A.current){const J=window.AudioContext||window.webkitAudioContext;if(J){const tt=new J;A.current=tt;const ft=tt.sampleRate*2,Mt=tt.createBuffer(1,ft,tt.sampleRate),wt=Mt.getChannelData(0);for(let qt=0;qt<ft;qt++)wt[qt]=Math.random()*2-1;O.current=Mt}}const T=[];for(let J=0;J<60;J++)T.push({x:Math.random()*An,y:Math.random()*Xe*.8,size:Math.random()*2+.5,opacity:Math.random()*.8+.2});const R=[];let F=-200;for(;F<An+200;){const J=30+Math.random()*50,tt=30+Math.random()*60;R.push({x:F,w:J,h:tt}),F+=J-5}const W=[];for(F=-200;F<An+200;){const J=20+Math.random()*40,tt=20+Math.random()*40;W.push({x:F,w:J,h:tt}),F+=J}fe.current={stars:T,backCity:R,frontCity:W}},[]);const at=T=>{if(p<=.01||!A.current)return;A.current.state==="suspended"&&A.current.resume();const R=A.current,F=R.createOscillator(),W=R.createGain();F.connect(W),W.connect(R.destination),T==="collect"?(F.type="sine",F.frequency.setValueAtTime(800,R.currentTime),F.frequency.exponentialRampToValueAtTime(1200,R.currentTime+.1),W.gain.setValueAtTime(.1*p,R.currentTime),W.gain.exponentialRampToValueAtTime(.01,R.currentTime+.1),F.start(),F.stop(R.currentTime+.1)):T==="hit"?(F.type="sawtooth",F.frequency.setValueAtTime(150,R.currentTime),F.frequency.exponentialRampToValueAtTime(50,R.currentTime+.2),W.gain.setValueAtTime(.2*p,R.currentTime),W.gain.exponentialRampToValueAtTime(.01,R.currentTime+.2),F.start(),F.stop(R.currentTime+.2)):T==="gameover"?(F.type="triangle",F.frequency.setValueAtTime(300,R.currentTime),F.frequency.linearRampToValueAtTime(100,R.currentTime+1),W.gain.setValueAtTime(.3*p,R.currentTime),W.gain.linearRampToValueAtTime(0,R.currentTime+1),F.start(),F.stop(R.currentTime+1)):T==="speedup"&&(F.type="sine",F.frequency.setValueAtTime(440,R.currentTime),F.frequency.linearRampToValueAtTime(660,R.currentTime+.4),W.gain.setValueAtTime(.05*p,R.currentTime),W.gain.linearRampToValueAtTime(0,R.currentTime+.4),F.start(),F.stop(R.currentTime+.4))},ct=()=>{if(d<=.01||!A.current||s!==bn.PLAYING)return;const T=A.current,J=60/(120+Math.min(1,Math.max(0,(st.current-ia)/(uv-ia)))*50)/4;k.current<T.currentTime-.1&&(k.current=T.currentTime+.1);const tt=.1;for(;k.current<T.currentTime+tt;)It(T,C.current,k.current),k.current+=J,C.current=(C.current+1)%16},It=(T,R,F)=>{const W=.3*d;if(!(W<=.001)){if(R%4===0){const J=T.createOscillator(),tt=T.createGain();J.connect(tt),tt.connect(T.destination),J.frequency.setValueAtTime(150,F),J.frequency.exponentialRampToValueAtTime(.01,F+.5),tt.gain.setValueAtTime(1*W,F),tt.gain.exponentialRampToValueAtTime(.01,F+.5),J.start(F),J.stop(F+.5)}if(R%4===2&&O.current){const J=T.createBufferSource();J.buffer=O.current;const tt=T.createBiquadFilter();tt.type="highpass",tt.frequency.value=8e3;const ft=T.createGain();J.connect(tt),tt.connect(ft),ft.connect(T.destination),ft.gain.setValueAtTime(.4*W,F),ft.gain.exponentialRampToValueAtTime(.01,F+.05),J.start(F),J.stop(F+.05)}if(R%2===0){const J=T.createOscillator();J.type="sawtooth";const tt=T.createBiquadFilter();tt.type="lowpass";const ft=T.createGain();J.connect(tt),tt.connect(ft),ft.connect(T.destination);const wt=[98,98,116.5,98,130.8,98,116.5,146.8][R/2%8];J.frequency.setValueAtTime(wt,F),tt.frequency.setValueAtTime(600,F),tt.frequency.exponentialRampToValueAtTime(100,F+.15),ft.gain.setValueAtTime(.4*W,F),ft.gain.linearRampToValueAtTime(0,F+.2),J.start(F),J.stop(F+.2)}if(R%3===0&&R!==0){const J=T.createOscillator();J.type="square";const tt=T.createGain();J.connect(tt),tt.connect(T.destination);const Mt=[392,466.1,523.2,587.3][R/3%4];J.frequency.setValueAtTime(Mt,F),tt.gain.setValueAtTime(.08*W,F),tt.gain.exponentialRampToValueAtTime(.01,F+.1),J.start(F),J.stop(F+.1)}}},Ot=(T,R,F,W,J,tt)=>{for(let ft=0;ft<J;ft++){const Mt=Math.random()*Math.PI*2,wt=Math.random()*5+2;rt.current.push({id:Date.now()+Math.random(),type:T,x:R,y:F,z:W,vx:Math.cos(Mt)*wt,vy:(Math.random()*5+2)*(T===Hi.EXHAUST?-1:1),vz:(Math.random()-.5)*10,life:1,maxLife:1,size:Math.random()*8+4,color:tt,rotation:Math.random()*360,rotationSpeed:(Math.random()-.5)*10})}},Kt=()=>{if(rt.current.forEach(T=>{T.x+=T.vx,T.y+=T.vy,T.z+=T.vz-st.current,T.life-=.02,T.rotation+=T.rotationSpeed,T.vy-=.1,T.type===Hi.EXHAUST&&(T.size+=.2,T.vy+=.15)}),rt.current=rt.current.filter(T=>T.life>0),L.current==="RAIN")for(let T=0;T<10;T++)K.current.push({x:Math.random()*An,y:-50,speed:15+Math.random()*10,len:20+Math.random()*20});K.current.forEach(T=>{T.y+=T.speed,T.x-=x.current.x*.01}),K.current=K.current.filter(T=>T.y<ho+50)},xe=T=>{L.current==="RAIN"&&(T.strokeStyle="rgba(170, 200, 255, 0.5)",T.lineWidth=2,T.beginPath(),K.current.forEach(R=>{T.moveTo(R.x,R.y),T.lineTo(R.x-2,R.y+R.len)}),T.stroke(),T.fillStyle="rgba(0, 10, 30, 0.2)",T.fillRect(0,0,An,ho)),rt.current.forEach(R=>{const F=bt(R.x,R.y,R.z);if(!F.visible)return;T.save(),T.translate(F.x,F.y),T.rotate(R.rotation*Math.PI/180),T.globalAlpha=R.life*(R.type===Hi.EXHAUST?.4:1);const W=R.size*F.scale;if(R.type===Hi.SPARKLE)T.fillStyle=R.color,T.beginPath(),T.moveTo(0,-W),T.lineTo(W/2,-W/2),T.lineTo(W,0),T.lineTo(W/2,W/2),T.lineTo(0,W),T.lineTo(-W/2,W/2),T.lineTo(-W,0),T.lineTo(-W/2,-W/2),T.fill();else if(R.type===Hi.DOLLAR_BILL){const J=W*2,tt=W;T.fillStyle="#85bb65",T.fillRect(-J/2,-tt/2,J,tt),T.strokeStyle="#2d5016",T.lineWidth=Math.max(1,W*.15),T.strokeRect(-J/2,-tt/2,J,tt),T.fillStyle="#2d5016",T.font=`bold ${W*1.2}px serif`,T.textAlign="center",T.textBaseline="middle",T.fillText("$",0,0)}else T.fillStyle=R.color,T.fillRect(-W/2,-W/2,W,W);T.restore()})},bt=gt.useCallback((T,R,F)=>{const W=F+Uc;if(W<=10)return{x:0,y:0,scale:0,visible:!1};const J=kI/W,tt=An/2+T*J,ft=Xe+(xI-R)*J;return{x:tt,y:ft,scale:J,visible:!0}},[]),tr=(T,R,F)=>{const W=Ft.current.fogColor;if(F<Yd)return R;const J=Math.min(1,Math.max(0,(F-Yd)/(qI-Yd))),tt=parseInt(R.slice(1,3),16),ft=parseInt(R.slice(3,5),16),Mt=parseInt(R.slice(5,7),16),wt=parseInt(W.slice(1,3),16),qt=parseInt(W.slice(3,5),16),vt=parseInt(W.slice(5,7),16),se=Math.floor(tt+(wt-tt)*J),Ht=Math.floor(ft+(qt-ft)*J),de=Math.floor(Mt+(vt-Mt)*J);return`rgb(${se},${Ht},${de})`},Or=()=>{const T=V.current>0,R=T?2:3,F=T?ov:so,W=Math.floor(Math.random()*R),J=F[W],tt=Math.random();let ft=Ti.OBSTACLE;tt>.95?ft=Ti.POWERUP:tt>.6&&(ft=Ti.COLLECTIBLE);let Mt,wt=cv;if(ft===Ti.POWERUP){const vt=Math.random();vt>.66?Mt="GORBILLIONS":vt>.33?Mt="GOR_INCINERATOR":Mt="GORBOY_CONSOLE",wt={w:80,h:80,d:60}}else if(ft===Ti.COLLECTIBLE){const vt=Math.random();vt>.5?Mt="TRASH_COIN":vt>.3?Mt="GORBAGANA":vt>.2?Mt="STICKER_PILL":vt>.1?Mt="STICKER_3":vt>.05?Mt="WALLET":Mt="TRASH_COIN",wt={w:60,h:60,d:60}}else Mt="TRASH_BAG",wt=cv;G.current.some(vt=>Math.abs(vt.x-J)<100&&Math.abs(vt.z-Ml)<400)||G.current.push({id:Date.now()+Math.random(),type:ft,subtype:Mt,lane:W,x:J,y:0,z:Ml,width:wt.w,height:wt.h,depth:wt.d})},Mr=()=>{const T=x.current;re.current>0&&G.current.forEach(R=>{R.collected||R.lane===T.lane&&R.z>T.z+50&&R.z<T.z+800&&(R.collected=!0,Tt.current+=50,Ot(Hi.EXHAUST,R.x,R.y,R.z,10,"#ff4500"))}),G.current.forEach(R=>{if(R.collected)return;const F=Math.abs(T.z-R.z)<(T.depth+R.depth)/2,W=Math.abs(T.x-R.x)<(T.width+R.width)/2,J=b.current<R.height;if(F&&W&&J)if(R.type===Ti.POWERUP)R.collected=!0,R.subtype==="GOR_INCINERATOR"?(re.current=300,at("speedup")):R.subtype==="GORBOY_CONSOLE"?(kt.current=300,at("speedup")):R.subtype==="GORBILLIONS"&&(pt.current=Math.min(pt.current+1,Pc+2),a(pt.current),Tt.current+=1e3),i(Tt.current),Ot(Hi.SPARKLE,R.x,R.y,R.z,hv*2,"#00FF00");else if(R.type===Ti.COLLECTIBLE){R.collected=!0;let tt=100;R.subtype==="WALLET"?tt=500:R.subtype==="GORBAGANA"?(tt=200,V.current=600,T.lane>1&&(T.lane=1),at("speedup")):R.subtype==="STICKER_PILL"?tt=150:R.subtype==="STICKER_3"?tt=300:R.subtype==="TRASH_COIN"&&(tt=50),Y.current+=1,Y.current%BI===0&&(ot.current=Math.min(ot.current+1,10),l(ot.current)),Tt.current+=tt*ot.current,i(Tt.current),at("collect"),Ot(Hi.SPARKLE,R.x,R.y,R.z,hv,"#FFFF00")}else{if(D.current&&b.current>50)return;R.collected=!0,pt.current-=1,a(pt.current),Y.current=0,ot.current=1,l(1),at("hit"),Se.current=20,Ot(Hi.DEBRIS,R.x,R.y,R.z,jI,"#888888"),pt.current<=0&&(at("gameover"),Vr())}})},Vr=()=>{_.current&&cancelAnimationFrame(_.current),t(bn.GAME_OVER),c(Tt.current)},Ln=gt.useCallback(()=>{V.current=0,x.current={lane:1,x:so[1],y:0,z:lv,width:ao.w,height:ao.h,depth:ao.d},G.current=[],st.current=ia,nt.current=ia,Tt.current=0,pt.current=Pc,Y.current=0,ot.current=1,Se.current=0,i(0),a(Pc),l(1),St.current=0,A.current&&(k.current=A.current.currentTime+.1,C.current=0)},[i,a,l]),wn=(T,R,F,W,J,tt,ft,Mt,wt,qt)=>{const vt=J/2,se=ft/2,Ht=bt(R-vt,F,W-se),de=bt(R+vt,F,W-se),Ae=bt(R-vt,F+tt,W-se),it=bt(R+vt,F+tt,W-se),Bt=bt(R-vt,F,W+se),De=bt(R+vt,F,W+se),Nt=bt(R-vt,F+tt,W+se),le=bt(R+vt,F+tt,W+se);if(!Ht.visible)return;const Ut=(ui,xn)=>tr(T,ui,xn),te=Ut(wt,W),oi=Ut(qt,W),li=Ut(Mt,W);T.strokeStyle="rgba(0,0,0,0.2)",T.lineWidth=1,T.fillStyle=te,T.beginPath(),T.moveTo(Ae.x,Ae.y),T.lineTo(it.x,it.y),T.lineTo(le.x,le.y),T.lineTo(Nt.x,Nt.y),T.fill(),T.stroke(),R<0&&(T.fillStyle=oi,T.beginPath(),T.moveTo(it.x,it.y),T.lineTo(de.x,de.y),T.lineTo(De.x,De.y),T.lineTo(le.x,le.y),T.fill(),T.stroke()),R>0&&(T.fillStyle=qt,T.beginPath(),T.moveTo(Ae.x,Ae.y),T.lineTo(Ht.x,Ht.y),T.lineTo(Bt.x,Bt.y),T.lineTo(Nt.x,Nt.y),T.fill(),T.stroke()),T.fillStyle=li,T.beginPath(),T.moveTo(Ht.x,Ht.y),T.lineTo(de.x,de.y),T.lineTo(it.x,it.y),T.lineTo(Ae.x,Ae.y),T.fill(),T.stroke()},er=(T,R,F,W,J,tt,ft)=>{const Mt=bt(F,W+ft/2,J);if(!Mt.visible)return;const wt=tt*Mt.scale,qt=ft*Mt.scale,vt=bt(F,0,J);vt.visible&&(T.fillStyle="rgba(0,0,0,0.4)",T.beginPath(),T.ellipse(vt.x,vt.y,wt/2,wt/5,0,0,Math.PI*2),T.fill()),T.drawImage(R,Mt.x-wt/2,Mt.y-qt/2,wt,qt)},Ns=T=>{var Ae;const R=Ft.current,F=T.createLinearGradient(0,0,0,Xe);F.addColorStop(0,R.skyTop),F.addColorStop(.6,R.skyMiddle),F.addColorStop(1,R.skyBottom),T.fillStyle=F,T.fillRect(0,0,An,ho);const W=x.current.x;if(R.starsOpacity>0&&(T.fillStyle="#FFF",fe.current.stars.forEach((it,Bt)=>{const De=-W*.05;let Nt=(it.x+De)%An;Nt<0&&(Nt+=An);const le=Math.sin(Date.now()*.003+Bt)*.3+.7;T.globalAlpha=it.opacity*le*R.starsOpacity,T.beginPath(),T.arc(Nt,it.y,it.size,0,Math.PI*2),T.fill()}),T.globalAlpha=1),(Ae=w.current)!=null&&Ae.ufo){const it=Date.now()/50%(An+400)-200,Bt=Xe-150+Math.sin(Date.now()/500)*20;T.save(),T.translate(it,Bt),T.rotate(Math.sin(Date.now()/300)*.1);const De=-W*.02;T.drawImage(w.current.ufo,De,0,60,40),T.restore()}if(fe.current.backCity.forEach((it,Bt)=>{const De=-W*.02;let Nt=it.x+De;if(T.fillStyle=R.cityBack,T.fillRect(Nt,Xe-it.h,it.w,it.h),T.fillStyle="rgba(0,0,0,0.3)",T.fillRect(Nt,Xe-it.h,2,it.h),T.fillRect(Nt+it.w-2,Xe-it.h,2,it.h),T.fillStyle="rgba(255,255,255,0.1)",T.fillRect(Nt,Xe-it.h,it.w,3),Bt%3===0&&it.w>40){const le=Nt+5,Ut=Xe-it.h/2;T.globalAlpha=.4,T.strokeStyle="#ff00ff",T.lineWidth=1.5,T.beginPath(),T.moveTo(le,Ut),T.lineTo(le+15,Ut-8),T.lineTo(le+25,Ut),T.stroke(),T.globalAlpha=1}}),fe.current.frontCity.forEach((it,Bt)=>{const De=-W*.1,Nt=it.x+De;T.fillStyle=R.cityFront,T.fillRect(Nt,Xe-it.h,it.w,it.h),T.fillStyle="rgba(255,255,255,0.15)",T.fillRect(Nt,Xe-it.h,2,it.h),T.fillStyle="rgba(0,0,0,0.4)",T.fillRect(Nt+it.w-3,Xe-it.h,3,it.h);const le=T.createLinearGradient(Nt,Xe-it.h,Nt,Xe-it.h+5);if(le.addColorStop(0,"rgba(255,255,255,0.2)"),le.addColorStop(1,"rgba(0,0,0,0.1)"),T.fillStyle=le,T.fillRect(Nt,Xe-it.h,it.w,5),it.w>30&&it.h>25){const Ut=Math.floor(it.h/15),te=Math.floor(it.w/12);for(let oi=0;oi<Ut;oi++)for(let li=0;li<te;li++){const ui=Math.random()>.7;T.fillStyle=ui?R.windowColorWarm:R.windowColorCool;const xn=Nt+4+li*12,_a=Xe-it.h+8+oi*15;T.fillRect(xn,_a,6,8)}}if(it.w>35){const Ut=Nt+it.w/2,te=Xe-it.h*.6;T.globalAlpha=.7,Bt%5===0?(T.fillStyle="#ff1493",T.font="bold 16px sans-serif",T.fillText("GOR",Ut-12,te),T.strokeStyle="#ffffff",T.lineWidth=2,T.strokeText("GOR",Ut-12,te)):Bt%5===1?(T.strokeStyle="#00ff00",T.lineWidth=3,T.lineCap="round",T.beginPath(),T.moveTo(Ut-10,te),T.lineTo(Ut+10,te),T.stroke(),T.lineWidth=1.5,T.beginPath(),T.moveTo(Ut-5,te),T.lineTo(Ut-5,te+12),T.moveTo(Ut+5,te),T.lineTo(Ut+5,te+8),T.stroke()):Bt%5===2?(T.fillStyle="#ffff00",T.beginPath(),T.arc(Ut,te,6,0,Math.PI*2),T.fill(),T.fillStyle="#000000",T.beginPath(),T.arc(Ut-2,te-1,1.5,0,Math.PI*2),T.arc(Ut+2,te-1,1.5,0,Math.PI*2),T.fill()):Bt%5===3?(T.strokeStyle="#ff6600",T.lineWidth=2.5,T.lineJoin="round",T.beginPath(),T.moveTo(Ut-12,te),T.lineTo(Ut-8,te-8),T.lineTo(Ut,te-6),T.lineTo(Ut+8,te-8),T.lineTo(Ut+12,te),T.stroke(),T.fillStyle="rgba(255, 102, 0, 0.3)",T.fill()):(T.strokeStyle="#00ffff",T.lineWidth=2,T.font="italic bold 14px sans-serif",T.strokeText("TRASH",Ut-18,te),T.fillStyle="#ff00ff",T.fillText("TRASH",Ut-18,te)),T.globalAlpha=1}Bt%4===0&&it.w>30&&(T.fillStyle="rgba(100, 100, 100, 0.8)",T.fillRect(Nt+it.w-15,Xe-it.h-5,12,5))}),T.fillStyle=R.groundColor,T.fillRect(0,Xe,An,ho-Xe),T.save(),Se.current>0){const it=Se.current*.5;T.translate((Math.random()-.5)*it,(Math.random()-.5)*it)}const J=V.current>0,tt=J?200:300,ft=-Uc+10,Mt=Ml,wt=bt(-tt,0,ft),qt=bt(tt,0,ft),vt=bt(-tt,0,Mt),se=bt(tt,0,Mt);if(wt.visible&&qt.visible){T.fillStyle=R.roadColor,T.beginPath(),T.moveTo(wt.x,wt.y),T.lineTo(qt.x,qt.y),T.lineTo(se.x,se.y),T.lineTo(vt.x,vt.y),T.fill(),T.fillStyle=R.roadTextureColor;for(let it=0;it<20;it++){const Bt=(Date.now()*st.current*.1+it*500)%Ml,De=Math.sin(it*132.1)*Gl*1.5,Nt=bt(De,0,Bt);if(Nt.visible){const le=20*Nt.scale;T.fillRect(Nt.x,Nt.y,le,le*.2)}}}Gt.current=(Gt.current+st.current)%400,T.strokeStyle=R.laneMarkerColor,T.lineCap="round",T.shadowBlur=15,T.shadowColor=R.laneMarkerGlow,(J?[0]:[so[0]+Gl/2,so[1]+Gl/2]).forEach(it=>{for(let Bt=-200;Bt<Ml;Bt+=400){const De=Bt-Gt.current;if(De<-Uc+50)continue;const Nt=bt(it,0,De),le=bt(it,0,De+200);Nt.visible&&le.visible&&(T.lineWidth=Math.max(2,6*Nt.scale),T.beginPath(),T.moveTo(Nt.x,Nt.y),T.lineTo(le.x,le.y),T.stroke())}}),T.shadowBlur=0;const de=[...G.current.map(it=>({...it,isPlayer:!1})),{...x.current,type:"PLAYER",subtype:"TRUCK",isPlayer:!0}];if(de.sort((it,Bt)=>Bt.z-it.z),de.forEach(it=>{it.isPlayer?Ds(T,it):Me(T,it)}),xe(T),re.current>0){const it=x.current;T.save(),T.globalCompositeOperation="screen";for(let Bt=0;Bt<15;Bt++){const De=it.z+100+Bt*60,Nt=it.x+(Math.random()-.5)*40,le=30+Math.random()*30,Ut=bt(Nt,le,De);if(Ut.visible){T.beginPath();const te=T.createRadialGradient(Ut.x,Ut.y,0,Ut.x,Ut.y,80*Ut.scale);te.addColorStop(0,"rgba(255, 255, 200, 1)"),te.addColorStop(.4,"rgba(255, 100, 0, 0.8)"),te.addColorStop(1,"rgba(255, 0, 0, 0)"),T.fillStyle=te,T.arc(Ut.x,Ut.y,100*Ut.scale*(1+Bt*.1),0,Math.PI*2),T.fill()}}T.restore(),T.fillStyle="orange",T.font="bold 30px sans-serif",T.textAlign="center",T.fillText(" INCINERATOR ACTIVE ",An/2,150)}kt.current>0&&(T.fillStyle="#00ff00",T.font="bold 20px sans-serif",T.textAlign="center",T.fillText("PRESS SPACE TO JUMP!",An/2,180)),V.current>0&&(T.fillStyle="#14F195",T.font="bold 20px sans-serif",T.textAlign="center",T.fillText(" 2-LANE MODE ",An/2,210)),T.restore()},Ds=(T,R)=>{const F=w.current,W=bt(R.x,0,R.z),J=R.y,tt=R.z-20,ft=R.z+35;if(W.visible&&(T.fillStyle="rgba(0,0,0,0.5)",T.beginPath(),T.ellipse(W.x,W.y,R.width*W.scale,R.width*.4*W.scale,0,0,Math.PI*2),T.fill()),F!=null&&F.truck){const wt=R.height*1.2,qt=bt(R.x,J+wt/2,R.z);if(qt.visible){const vt=R.width*qt.scale*1.3,se=wt*qt.scale*1.3;T.save(),T.drawImage(F.truck,qt.x-vt/2,qt.y-se/2,vt,se),T.restore()}}else{wn(T,R.x,15+J,R.z,R.width*.8,10,R.depth,"#333","#444","#222"),wn(T,R.x,45+J,tt,R.width,R.height*.6,R.depth*.8,"#14F195","#10c479","#0b8c56"),wn(T,R.x,45+J,tt,R.width+2,10,R.depth*.8+2,"#ffffff","#ddd","#ccc"),wn(T,R.x,35+J,ft,R.width*.9,30,30,"#9945FF","#7c3aed","#6d28d9"),wn(T,R.x,45+J,ft+16,R.width*.8,12,2,"#60a5fa","#93c5fd","#3b82f6");const wt=R.width/2+5,qt=(vt,se)=>{wn(T,vt,12+J,se,12,24,24,"#111","#222","#000");const Ht=Math.floor(Date.now()/50)%2===0?"#555":"#888";wn(T,vt>R.x?vt+6:vt-6,12+J,se,2,10,10,Ht,Ht,Ht)};qt(R.x-wt,R.z-25),qt(R.x+wt,R.z-25),qt(R.x-wt,R.z+25),qt(R.x+wt,R.z+25)}if(ie.current==="NIGHT"||ie.current==="TWILIGHT"){const wt=ft+18,qt=25+J,vt=bt(R.x-25,qt,wt),se=bt(R.x-80,qt,wt+600),Ht=bt(R.x+30,qt,wt+600);if(vt.visible){T.save(),T.globalAlpha=.6;const Bt=T.createLinearGradient(vt.x,vt.y,(se.x+Ht.x)/2,(se.y+Ht.y)/2);Bt.addColorStop(0,"rgba(255, 255, 220, 1)"),Bt.addColorStop(.7,"rgba(255, 255, 200, 0.3)"),Bt.addColorStop(1,"rgba(255, 255, 200, 0)"),T.fillStyle=Bt,T.beginPath(),T.moveTo(vt.x,vt.y),T.lineTo(se.x,se.y),T.lineTo(Ht.x,Ht.y),T.fill(),T.restore(),T.save(),T.translate(vt.x,vt.y),T.fillStyle="#ffffff",T.shadowColor="#ffff00",T.shadowBlur=25,T.beginPath(),T.arc(0,0,10*vt.scale,0,Math.PI*2),T.fill(),T.restore()}const de=bt(R.x+25,qt,wt),Ae=bt(R.x-30,qt,wt+600),it=bt(R.x+80,qt,wt+600);if(de.visible){T.save(),T.globalAlpha=.6;const Bt=T.createLinearGradient(de.x,de.y,(Ae.x+it.x)/2,(Ae.y+it.y)/2);Bt.addColorStop(0,"rgba(255, 255, 220, 1)"),Bt.addColorStop(.7,"rgba(255, 255, 200, 0.3)"),Bt.addColorStop(1,"rgba(255, 255, 200, 0)"),T.fillStyle=Bt,T.beginPath(),T.moveTo(de.x,de.y),T.lineTo(Ae.x,Ae.y),T.lineTo(it.x,it.y),T.fill(),T.restore(),T.save(),T.translate(de.x,de.y),T.fillStyle="#ffffff",T.shadowColor="#ffff00",T.shadowBlur=25,T.beginPath(),T.arc(0,0,10*de.scale,0,Math.PI*2),T.fill(),T.restore()}}},Me=(T,R)=>{if(R.collected)return;const F=w.current;if(!F)return;const W=R.y;let J=null,tt="#FF0000";if(R.type===Ti.COLLECTIBLE?R.subtype==="TRASH_COIN"?(J=F.trashCoin,tt="#FFD700"):R.subtype==="GORBAGANA"?(J=F.gorbagana,tt="#FFC107"):R.subtype==="STICKER_PILL"?(J=F.stickerpill,tt="#FF69B4"):R.subtype==="STICKER_3"?(J=F.sticker3,tt="#00CED1"):R.subtype==="WALLET"&&(J=F.wallet,tt="#795548"):R.type===Ti.OBSTACLE?R.subtype==="TRASH_BAG"?(J=F.trashBagDecor,tt="#444444"):(J=F.newObstacle||F.trashBagDecor,tt="#222222"):R.type===Ti.POWERUP&&(R.subtype==="GOR_INCINERATOR"?(J=F.incinerator,tt="#FF5722"):R.subtype==="GORBOY_CONSOLE"?(J=F.gorboyConsole,tt="#8BC34A"):R.subtype==="GORBILLIONS"&&(J=F.gorbillions,tt="#E91E63")),J)er(T,J,R.x,W,R.z,R.width,R.height);else{const ft=ke(tt,20),Mt=wi(tt,20);wn(T,R.x,W,R.z,R.width,R.height,R.depth,tt,ft,Mt)}},ke=(T,R)=>{const F=parseInt(T.slice(1,3),16),W=parseInt(T.slice(3,5),16),J=parseInt(T.slice(5,7),16),tt=R/100,ft=Math.min(255,Math.floor(F+(255-F)*tt)),Mt=Math.min(255,Math.floor(W+(255-W)*tt)),wt=Math.min(255,Math.floor(J+(255-J)*tt));return`#${ft.toString(16).padStart(2,"0")}${Mt.toString(16).padStart(2,"0")}${wt.toString(16).padStart(2,"0")}`},wi=(T,R)=>{const F=parseInt(T.slice(1,3),16),W=parseInt(T.slice(3,5),16),J=parseInt(T.slice(5,7),16),tt=R/100,ft=Math.max(0,Math.floor(F*(1-tt))),Mt=Math.max(0,Math.floor(W*(1-tt))),wt=Math.max(0,Math.floor(J*(1-tt)));return`#${ft.toString(16).padStart(2,"0")}${Mt.toString(16).padStart(2,"0")}${wt.toString(16).padStart(2,"0")}`},Lr=T=>{const R=V.current>0,F=x.current.lane;let W=F;if(T==="left"?W=Math.max(0,F-1):R?W=Math.min(1,F+1):W=Math.min(2,F+1),W===F)return;x.current.lane=W;const J=R?ov:so;x.current.x=J[W]},Os=()=>{kt.current>0&&!D.current&&(D.current=!0,I.current=15,at("speedup"))},on=()=>{kt.current>0&&kt.current--,D.current&&(I.current-=.8,b.current+=I.current,b.current<=0&&(b.current=0,I.current=0,D.current=!1)),x.current.y=b.current},nr=()=>{if(s!==bn.PLAYING)return;on(),st.current=Math.min(uv,st.current+UI),st.current>=nt.current+5&&(nt.current=st.current,at("speedup")),re.current>0&&(re.current-=1),V.current>0&&(V.current-=1,V.current===0&&x.current.lane>1&&(x.current.lane=1,x.current.x=so[1])),Se.current>0&&(Se.current-=1),G.current.forEach(R=>{R.collected||(R.z-=st.current)}),G.current=G.current.filter(R=>R.z>-Uc||R.collected),St.current+=1;const T=Math.max(zI,PI-(st.current-ia)/2);St.current>=T&&(Or(),St.current=0),Mr(),Kt()},ir=gt.useCallback(()=>{if(!y.current)return;const T=y.current,R=T.getContext("2d");R&&(R.clearRect(0,0,T.width,T.height),nr(),ct(),Ns(R),_.current=requestAnimationFrame(ir))},[]),rr=gt.useCallback(T=>{s===bn.PLAYING&&(T.code==="ArrowLeft"?Lr("left"):T.code==="ArrowRight"?Lr("right"):T.code==="Space"&&Os())},[s]),Yn=gt.useCallback(T=>{if(s!==bn.PLAYING)return;const R=T.touches[0];yt.current={x:R.clientX,y:R.clientY}},[s]),Ms=gt.useCallback(T=>{if(s!==bn.PLAYING||!yt.current)return;const R=T.changedTouches[0],F=R.clientX-yt.current.x,W=yt.current.y-R.clientY;Math.abs(F)>50&&(F>0?Lr("right"):Lr("left")),W>50&&Os(),yt.current=null},[s]);return gt.useEffect(()=>(s===bn.PLAYING?_.current||(Ln(),_.current=requestAnimationFrame(ir)):_.current&&(cancelAnimationFrame(_.current),_.current=null),window.addEventListener("keydown",rr),y.current&&(y.current.addEventListener("touchstart",Yn),y.current.addEventListener("touchend",Ms)),()=>{_.current&&cancelAnimationFrame(_.current),window.removeEventListener("keydown",rr),y.current&&(y.current.removeEventListener("touchstart",Yn),y.current.removeEventListener("touchend",Ms))}),[s,ir,rr,Yn,Ms,Ln]),ut.jsx("canvas",{ref:y,width:An,height:ho,className:"game-canvas",style:{maxWidth:"100%",maxHeight:"100%",width:"100%",height:"100%",objectFit:"contain",margin:"0 auto",display:"block",touchAction:"none"}})};/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FI=s=>s.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),YI=s=>s.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,i,a)=>a?a.toUpperCase():i.toLowerCase()),dv=s=>{const t=YI(s);return t.charAt(0).toUpperCase()+t.slice(1)},BE=(...s)=>s.filter((t,i,a)=>!!t&&t.trim()!==""&&a.indexOf(t)===i).join(" ").trim(),QI=s=>{for(const t in s)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var KI={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XI=gt.forwardRef(({color:s="currentColor",size:t=24,strokeWidth:i=2,absoluteStrokeWidth:a,className:l="",children:c,iconNode:d,...p},y)=>gt.createElement("svg",{ref:y,...KI,width:t,height:t,stroke:s,strokeWidth:a?Number(i)*24/Number(t):i,className:BE("lucide",l),...!c&&!QI(p)&&{"aria-hidden":"true"},...p},[...d.map(([_,A])=>gt.createElement(_,A)),...Array.isArray(c)?c:[c]]));/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mh=(s,t)=>{const i=gt.forwardRef(({className:a,...l},c)=>gt.createElement(XI,{ref:c,iconNode:t,className:BE(`lucide-${FI(dv(s))}`,`lucide-${s}`,a),...l}));return i.displayName=dv(s),i};/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZI=[["path",{d:"m10 17 5-5-5-5",key:"1bsop3"}],["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}]],JI=Mh("log-in",ZI);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $I=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],WI=Mh("log-out",$I);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tN=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],eN=Mh("settings",tN);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nN=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],iN=Mh("x",nN),rN=({user:s,onAuthStateChange:t})=>{const[i,a]=gt.useState(!1),[l,c]=gt.useState(null),d=async()=>{a(!0),c(null);try{const y=new Fi;y.addScope("tweet.read");const _=await Tw(wo,y);console.log("Signed in with X:",_.user.displayName),t&&t(_.user)}catch(y){console.error("X Sign-in Error:",y),c(y.message||"Failed to sign in with X")}finally{a(!1)}},p=async()=>{a(!0),c(null);try{await Xv(wo),t&&t(null)}catch(y){console.error("Sign-out Error:",y),c(y.message||"Failed to sign out")}finally{a(!1)}};return s?ut.jsxs("div",{className:"flex flex-col items-center gap-2 sm:gap-3 w-full max-w-[90%] xs:max-w-sm",children:[ut.jsxs("div",{className:"bg-gradient-to-br from-blue-500/20 to-cyan-500/20 backdrop-blur-md px-3 xs:px-4 py-2 xs:py-3 rounded-xl border border-blue-500/50 w-full text-center",children:[ut.jsx("p",{className:"text-xs xs:text-sm text-gray-300 uppercase font-bold tracking-wide mb-0.5 xs:mb-1",children:"Signed in as"}),ut.jsx("p",{className:"text-base xs:text-lg font-black text-blue-400 truncate",children:s.displayName||s.email})]}),ut.jsxs("button",{onClick:p,disabled:i,className:"w-full min-h-touch py-2.5 xs:py-3 bg-red-500/20 hover:bg-red-500/30 backdrop-blur-sm border-2 border-red-500/50 hover:border-red-500/80 text-red-400 hover:text-red-300 text-sm xs:text-base font-bold rounded-xl transition-all transform hover:scale-105 active:scale-95 uppercase tracking-wider flex items-center justify-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",children:[ut.jsx(WI,{className:"w-3.5 h-3.5 xs:w-4 xs:h-4"}),i?"Signing out...":"Sign Out"]})]}):ut.jsxs("div",{className:"flex flex-col items-center gap-2 sm:gap-3 w-full max-w-[90%] xs:max-w-[300px]",children:[ut.jsxs("button",{onClick:d,disabled:i,className:"w-full min-h-touch py-3 xs:py-4 sm:py-5 bg-gradient-to-r from-blue-500 via-cyan-500 to-blue-500 text-white text-base xs:text-lg sm:text-xl font-black rounded-2xl shadow-[0_0_40px_rgba(59,130,246,0.5)] hover:shadow-[0_0_70px_rgba(59,130,246,0.7)] transition-all transform hover:scale-105 active:scale-95 flex items-center justify-center gap-2 xs:gap-3 uppercase tracking-wider relative overflow-hidden group disabled:opacity-50 disabled:cursor-not-allowed",children:[ut.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/20 to-transparent translate-x-[-100%] group-hover:translate-x-[100%] transition-transform duration-1000"}),ut.jsx(JI,{className:"w-4 h-4 xs:w-5 xs:h-5 relative z-10"}),ut.jsx("span",{className:"relative z-10",children:i?"Signing in...":"Sign in with X"})]}),l&&ut.jsx("p",{className:"text-red-400 text-xs xs:text-sm text-center font-semibold",children:l})]})},sN=async s=>{try{const t=wo.currentUser;if(!t)return console.warn("No authenticated user. Score not saved."),!1;const i=wE(zE,"leaderboard"),a=RE(i,t.uid),l=await UE(a),c=l.exists()?l.data().score:0;return s>c?(await OI(a,{userId:t.uid,username:t.displayName||t.email||"Anonymous",email:t.email,score:s,timestamp:Date.now()}),console.log(`Score saved: ${s} (previous: ${c})`),!0):(console.log(`Score not saved: ${s} is not higher than ${c}`),!1)}catch(t){return console.error("Error saving score to Firestore:",t),!1}},aN=async()=>{try{const s=wo.currentUser;if(!s)return console.warn("No authenticated user. Returning 0."),0;const t=wE(zE,"leaderboard"),i=RE(t,s.uid),a=await UE(i);return a.exists()&&a.data().score||0}catch(s){return console.error("Error fetching user high score:",s),0}},mv=({text:s,className:t=""})=>ut.jsx("span",{className:`text-clip-slide ${t}`,children:s.split("").map((i,a)=>ut.jsx("span",{className:"letter",children:i===" "?"":i},a))}),oN=()=>{const s=[{src:"/gorbage_truck_images/gorbagio_1071.png",alt:"Gorbagio #1071"},{src:"/gorbage_truck_images/gorbagio_3340.png",alt:"Gorbagio #3340"},{src:"/gorbage_truck_images/gorbagio_3494.png",alt:"Gorbagio #3494"},{src:"/gorbage_truck_images/gorbagio_4103.png",alt:"Gorbagio #4103"}];return ut.jsx("div",{className:"marquee-container marquee-mask marquee-slow py-8",children:ut.jsx("div",{className:"marquee-content",children:[...s,...s].map((t,i)=>ut.jsx("div",{className:"marquee-item",children:ut.jsx("img",{src:t.src,alt:t.alt,className:"h-20 w-20 object-cover rounded-xl opacity-70 hover:opacity-100 transition-all hover:scale-110 border-2 border-lime-500/20 hover:border-lime-500/60"})},i))})})},lN=()=>{const[s,t]=gt.useState(bn.MENU),[i,a]=gt.useState(0),[l,c]=gt.useState(3),[d,p]=gt.useState(1),[y,_]=gt.useState(0),[A,w]=gt.useState(null),[x,G]=gt.useState(!0),[rt,st]=gt.useState(.5),[nt,St]=gt.useState(.5),[Tt,pt]=gt.useState(!1);gt.useLayoutEffect(()=>{document.documentElement.style.setProperty("--app-height",`${window.innerHeight}px`);const b=()=>{document.documentElement.style.setProperty("--app-height",`${window.innerHeight}px`)};return window.addEventListener("resize",b),()=>window.removeEventListener("resize",b)},[]),gt.useEffect(()=>{const b=tw(wo,async I=>{if(w(I),I){const V=await aN();_(V)}else{const V=localStorage.getItem("recycleRushHighScore");V&&_(parseInt(V,10))}G(!1)});return()=>b()},[]);const Gt=async b=>{b>y&&(_(b),A?await sN(b)&&console.log("Score saved to Firestore"):localStorage.setItem("recycleRushHighScore",b.toString()))},re=()=>{A||console.log("Playing without signing in - scores will be saved locally"),t(bn.PLAYING),a(0),c(3),p(1),pt(!1)},kt=async()=>{try{await Xv(wo)}catch(b){console.error("Error signing out",b)}},D=b=>{w(b)};return ut.jsx("div",{className:"relative w-full h-[100dvh] bg-black overflow-hidden font-sans select-none flex justify-center items-center ios-inset-padding in-app-height-fix",children:ut.jsxs("div",{className:"game-container relative w-full h-full max-h-[100dvh] md:max-w-md lg:max-w-lg xl:max-w-xl 2xl:max-w-2xl md:max-h-[85vh] xl:max-h-[90vh] md:aspect-[2/3] bg-gray-900 shadow-2xl overflow-hidden border-0 md:border-2 border-[#14F195]/20 rounded-none md:rounded-3xl wallet-resize",children:[ut.jsx(GI,{gameState:s,setGameState:t,setScore:a,setLives:c,setMultiplier:p,onGameOver:Gt,musicVolume:rt,sfxVolume:nt}),s===bn.PLAYING&&ut.jsx("div",{className:"absolute inset-0 pointer-events-none flex flex-col justify-between z-20"}),(s===bn.MENU||s===bn.GAME_OVER)&&ut.jsxs("div",{className:"absolute inset-0 z-30 flex flex-col items-center justify-center bg-black/80 backdrop-blur-md text-white p-4 sm:p-6 safe-area-inset",children:[ut.jsx("div",{className:"absolute inset-0 z-[-1] opacity-40 bg-clip-reveal",style:{backgroundImage:'url("assets/intro_bg_new.png")',backgroundSize:"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat"}}),s===bn.MENU&&!Tt&&ut.jsxs("div",{className:"flex flex-col items-center justify-center w-full h-full max-w-full relative px-4 sm:px-6",children:[A?ut.jsxs("div",{className:"absolute top-4 sm:top-6 left-4 sm:left-6 flex items-center gap-2 scroll-fade-in scroll-delay-1 z-20",children:[ut.jsx("img",{src:A.photoURL||"",alt:A.displayName||"",className:"w-10 h-10 rounded-full border-2 border-lime-500/50"}),ut.jsxs("div",{className:"flex flex-col",children:[ut.jsx("span",{className:"text-body-sm font-bold text-white",children:A.displayName}),ut.jsx("button",{onClick:kt,className:"text-xs text-red-500 hover:underline",children:"Sign Out"})]})]}):ut.jsx("div",{className:"absolute top-4 sm:top-6 left-4 sm:left-6 flex items-center gap-2 scroll-fade-in scroll-delay-1 z-20",children:ut.jsxs("div",{className:"flex items-center gap-2 bg-gradient-to-br from-lime-500/20 to-green-500/20 backdrop-blur-md px-3 py-1.5 rounded-full border-2 border-lime-500/50 shadow-[0_0_25px_rgba(132,204,22,0.4)]",children:[ut.jsx("span",{className:"text-base",children:""}),ut.jsxs("div",{className:"flex flex-col",children:[ut.jsx("span",{className:"text-[9px] text-lime-400/70 uppercase font-black tracking-widest leading-none",children:"Best"}),ut.jsx("span",{className:"text-body-sm font-black text-lime-400 leading-none mt-0.5",children:y})]})]})}),ut.jsx("button",{onClick:()=>pt(!0),className:"absolute top-4 sm:top-6 right-4 sm:right-6 min-w-touch min-h-touch p-2.5 bg-white/5 backdrop-blur-sm rounded-full border border-white/10 text-white/70 hover:text-lime-400 hover:border-lime-400/50 transition-all hover:scale-110 scroll-fade-in scroll-delay-1 z-20","aria-label":"Settings",children:ut.jsx(eN,{className:"w-5 h-5"})}),ut.jsx("div",{className:"flex flex-col items-center w-full",children:ut.jsxs("div",{className:"relative scroll-blur-in scroll-delay-2 -mt-[10rem] sm:-mt-[15rem] md:-mt-[20rem]",children:[ut.jsx("div",{className:"absolute -inset-10 bg-gradient-to-r from-lime-500 via-orange-500 to-lime-500 opacity-30 blur-3xl rounded-full animate-pulse"}),ut.jsxs("h1",{className:"relative text-center",children:[ut.jsx("span",{className:"block text-[3rem] xs:text-[3.5rem] sm:text-[4.5rem] md:text-[5.5rem] lg:text-[6rem] font-black tracking-tight leading-none text-white drop-shadow-[0_0_30px_rgba(255,255,255,0.5)] animate-float",style:{textShadow:"0 0 40px rgba(132, 204, 22, 0.8), 0 0 80px rgba(249, 115, 22, 0.6)"},children:ut.jsx(mv,{text:"GORBAGE"})}),ut.jsx("span",{className:"block text-[1.5rem] xs:text-[1.8rem] sm:text-[2.2rem] md:text-[2.5rem] lg:text-[3rem] font-black leading-none text-lime-400 -mt-1",style:{filter:"drop-shadow(0 0 20px rgba(132, 204, 22, 0.9))",letterSpacing:"0.35em",paddingLeft:"0.35em"},children:ut.jsx(mv,{text:"TRUCK GAME"})})]}),ut.jsx("p",{className:"text-gray-400 text-sm sm:text-base md:text-lg font-bold uppercase tracking-[0.3em] text-center mt-5 scroll-fade-in scroll-delay-4 drop-shadow-lg",children:"Collect  Dodge  Survive"})]})}),ut.jsx("div",{className:"absolute bottom-52 xs:bottom-56 sm:bottom-60 left-0 right-0 w-full flex flex-col items-center px-4 sm:px-6 scroll-fade-in scroll-delay-4",children:x?ut.jsx("div",{className:"text-gray-400 text-sm font-semibold",children:"Loading..."}):ut.jsx(rN,{user:A,onAuthStateChange:D})}),ut.jsxs("div",{className:"absolute bottom-20 xs:bottom-24 sm:bottom-28 left-0 right-0 w-full flex flex-col items-center space-y-3 sm:space-y-4 px-4 sm:px-6 scroll-fade-in scroll-delay-5",children:[ut.jsxs("button",{onClick:re,className:"w-full max-w-[90%] xs:max-w-[300px] min-h-touch py-3 xs:py-4 sm:py-5 bg-gradient-to-r from-lime-500 via-green-500 to-lime-500 text-black text-base sm:text-lg md:text-xl lg:text-2xl font-black rounded-2xl shadow-[0_0_60px_rgba(132,204,22,0.6)] hover:shadow-[0_0_90px_rgba(132,204,22,0.8)] transition-all transform hover:scale-105 active:scale-95 flex items-center justify-center gap-2 sm:gap-3 uppercase tracking-wider relative overflow-hidden group pill-button btn-beam",children:[ut.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/25 to-transparent translate-x-[-100%] group-hover:translate-x-[100%] transition-transform duration-1000"}),ut.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"w-6 h-6 sm:w-7 sm:h-7 relative z-10",viewBox:"0 0 24 24",fill:"currentColor",stroke:"none",children:ut.jsx("path",{d:"M5 3l14 9-14 9V3z"})}),ut.jsx("span",{className:"relative z-10",children:"Play Now"})]}),ut.jsx("p",{className:"text-gray-400 text-sm xs:text-base sm:text-lg md:text-xl font-semibold text-center max-w-xs sm:max-w-sm leading-relaxed px-2 sm:px-4",children:A?"Drive the gorbage truck & collect trash!":"Sign in with X to save your scores online! (optional)"})]}),ut.jsx("div",{className:"absolute bottom-0 left-0 right-0 w-full scroll-fade-in scroll-delay-7 overflow-hidden",children:ut.jsx(oN,{})})]}),Tt&&ut.jsx("div",{className:"absolute inset-0 z-40 bg-black/90 backdrop-blur-xl flex flex-col items-center justify-center p-4 sm:p-8 safe-area-inset animate-in fade-in duration-300",children:ut.jsxs("div",{className:"w-full max-w-[90%] xs:max-w-sm bg-gray-900 border border-white/10 rounded-3xl p-4 xs:p-5 sm:p-6 shadow-2xl relative",children:[ut.jsx("button",{onClick:()=>pt(!1),className:"absolute top-3 right-3 sm:top-4 sm:right-4 min-w-touch min-h-touch p-2 text-gray-400 hover:text-white transition-colors","aria-label":"Close",children:ut.jsx(iN,{className:"w-4 h-4 xs:w-5 xs:h-5 sm:w-6 sm:h-6"})}),ut.jsx("h2",{className:"text-h2 font-black text-center mb-6 sm:mb-8 bg-clip-text text-transparent bg-gradient-to-r from-lime-400 to-orange-400",children:"SETTINGS"}),ut.jsxs("div",{className:"space-y-6 sm:space-y-8",children:[ut.jsxs("div",{className:"space-y-2 sm:space-y-3",children:[ut.jsxs("div",{className:"flex justify-between text-caption font-bold uppercase tracking-wider text-gray-400",children:[ut.jsx("span",{children:"Music"}),ut.jsxs("span",{children:[Math.round(rt*100),"%"]})]}),ut.jsx("input",{type:"range",min:"0",max:"1",step:"0.05",value:rt,onChange:b=>st(parseFloat(b.target.value)),className:"w-full h-2 bg-gray-700 rounded-lg appearance-none cursor-pointer accent-orange-500"})]}),ut.jsxs("div",{className:"space-y-2 sm:space-y-3",children:[ut.jsxs("div",{className:"flex justify-between text-caption font-bold uppercase tracking-wider text-gray-400",children:[ut.jsx("span",{children:"SFX"}),ut.jsxs("span",{children:[Math.round(nt*100),"%"]})]}),ut.jsx("input",{type:"range",min:"0",max:"1",step:"0.05",value:nt,onChange:b=>St(parseFloat(b.target.value)),className:"w-full h-2 bg-gray-700 rounded-lg appearance-none cursor-pointer accent-lime-500"})]})]}),ut.jsx("button",{onClick:()=>pt(!1),className:"w-full min-h-touch mt-8 sm:mt-10 py-3 bg-white/10 hover:bg-white/20 text-white text-body font-bold rounded-xl transition-colors",children:"CLOSE"})]})}),s===bn.GAME_OVER&&ut.jsx("div",{className:"relative w-full h-full flex items-center justify-center safe-area-inset"})]})]})})},jE=document.getElementById("root");if(!jE)throw new Error("Could not find root element to mount to");const uN=NS.createRoot(jE);uN.render(ut.jsx(ES.StrictMode,{children:ut.jsx(lN,{})}));
